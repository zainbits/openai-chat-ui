.cloud-models-tab{display:flex;flex-direction:column;gap:1rem}.cloud-settings-section{padding:1rem;background:var(--mantine-color-dark-6);border-radius:var(--mantine-radius-md)}.cloud-settings-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}.cloud-models-section{padding:1rem;background:var(--mantine-color-dark-6);border-radius:var(--mantine-radius-md)}.cloud-models-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}.cloud-models-loading,.cloud-models-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:2rem 1rem;text-align:center}.cloud-models-list{display:flex;flex-direction:column;gap:.5rem;max-height:300px;overflow-y:auto}.cloud-model-item{display:flex;align-items:center;justify-content:space-between;padding:.75rem;background:var(--mantine-color-dark-7);border-radius:var(--mantine-radius-sm);transition:background-color .15s ease}.cloud-model-item:hover{background:var(--mantine-color-dark-5)}.cloud-model-info{display:flex;align-items:center;gap:.75rem;flex:1;min-width:0}.cloud-model-color{width:12px;height:12px;border-radius:50%;flex-shrink:0}.cloud-model-details{min-width:0;flex:1}.cloud-model-details>*:first-child{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cloud-model-actions{display:flex;gap:.25rem;flex-shrink:0}.modal-actions-row{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:.75rem;padding:.75rem;background:var(--mantine-color-dark-6);border-radius:var(--mantine-radius-md)}.settings-tabs{margin-top:-.5rem}.settings-tabs-list{margin-bottom:.5rem}.data-section{padding:1rem;background:var(--mantine-color-dark-6);border-radius:var(--mantine-radius-md)}.data-section-danger{border:1px solid var(--mantine-color-red-9);background:rgba(var(--mantine-color-red-9-rgb),.05)}.conflict-comparison{display:grid;grid-template-columns:1fr 1fr;gap:1rem}@media (max-width: 768px){.conflict-comparison{grid-template-columns:1fr}}.conflict-version{padding:1rem;border-radius:var(--mantine-radius-md);background:var(--mantine-color-dark-6);display:flex;flex-direction:column}.conflict-version-local{border:1px solid var(--mantine-color-blue-7)}.conflict-version-server{border:1px solid var(--mantine-color-green-7)}.conflict-version-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid var(--mantine-color-dark-4)}.conflict-version-content{flex:1}.conflict-field{margin-bottom:.75rem;padding:.5rem;border-radius:var(--mantine-radius-sm);background:var(--mantine-color-dark-7)}.conflict-field:last-child{margin-bottom:0}.conflict-changed{color:var(--mantine-color-yellow-4)!important;font-weight:500}.conflict-color-row{display:flex;align-items:center;gap:.5rem}.conflict-color-swatch{width:16px;height:16px;border-radius:4px;border:1px solid var(--mantine-color-dark-3)}.conflict-system-prompt{white-space:pre-wrap;word-break:break-word;max-height:100px;overflow-y:auto;font-family:var(--mantine-font-family-monospace);font-size:.75rem;padding:.25rem;background:var(--mantine-color-dark-8);border-radius:var(--mantine-radius-xs)}.modal-content{display:flex;flex-direction:column;gap:1rem}.system-prompt-textarea{min-height:100px;resize:vertical}.modal-actions{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:space-between}.modal-actions-group{display:flex;gap:.5rem}.sidebar-overlay{display:none;position:fixed;top:0;right:0;bottom:0;left:0;background:var(--bg-overlay);z-index:49;opacity:0;transition:opacity .3s ease;pointer-events:none}.sidebar-overlay.visible{opacity:1;pointer-events:auto}@media (max-width: 767px){.sidebar-overlay{display:block}}.sidebar{background:var(--color-background-surface);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-right:1px solid var(--color-border-primary);position:fixed;top:0;left:0;bottom:0;width:320px;z-index:50;transform:translate(-100%);transition:transform .3s ease}.sidebar.open{transform:translate(0)}.sidebar-nav{height:100dvh;display:flex;flex-direction:column;padding:1rem;gap:.75rem}.sidebar-header{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;padding-bottom:.75rem;border-bottom:1px solid var(--color-border-primary)}.app-title{display:flex;flex-direction:column;gap:.25rem}.app-title h1{font-weight:500;color:var(--color-text-primary);margin:0;font-size:1rem}.app-title .url{font-size:.75rem;color:var(--color-text-muted)}.sidebar-controls{display:flex;flex-direction:column;align-items:flex-end;gap:.5rem}.settings-button{padding:.25rem;background:none;border:none;color:var(--color-text-primary);cursor:pointer;border-radius:4px;transition:background-color .2s}.settings-button:hover{background:var(--color-interactive-hover)}.connection-status{display:flex;align-items:center;gap:.25rem}.status-dot{width:8px;height:8px;border-radius:50%}.status-dot.connected{background:var(--color-status-connected)}.status-dot.error{background:var(--color-status-error)}.status-dot.connecting{background:var(--color-status-connecting)}.status-dot.unknown{background:var(--color-status-unknown)}.status-text{font-size:.75rem;color:var(--color-text-muted)}.search-section{display:flex;align-items:center;gap:.5rem;min-width:0}.search-input{flex:1;background:transparent;border:none;outline:none;border-radius:6px;padding:.5rem;font-size:.875rem;color:var(--color-text-primary)}.search-input::placeholder{color:var(--color-text-disabled)}.filter-controls{display:flex;align-items:center;gap:.25rem;font-size:.75rem;color:var(--color-text-muted);min-width:0;overflow:hidden}.filter-group{display:flex;align-items:center;gap:.25rem;min-width:0}.filter-select{background:transparent;border:none;outline:none;border-radius:4px;padding:.25rem;font-size:.75rem;color:var(--color-text-primary);min-width:0}.model-select{max-width:80px}.thread-count{flex:1;text-align:right;white-space:nowrap;font-size:.75rem}.thread-list{flex:1;overflow-y:auto;padding-right:.25rem}.thread-group{margin-bottom:.75rem}.thread-group-title{padding:.25rem;font-size:.75rem;text-transform:uppercase;letter-spacing:.025em;color:var(--color-text-disabled)}.thread-items{display:flex;flex-direction:column;gap:.5rem;padding:2px}.thread-item{width:100%;text-align:left;border-radius:8px;background:var(--color-interactive-disabled);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid var(--color-border-primary);padding:.75rem;cursor:pointer;transition:all .2s ease;color:var(--color-text-primary);display:flex;align-items:stretch;gap:.5rem}.thread-content-wrapper{flex:1;min-width:0;display:flex;flex-direction:column;justify-content:center}.thread-item:hover{background:var(--color-interactive-hover)}.thread-item.active{background:var(--color-background-surface-hover);box-shadow:0 0 0 1px var(--color-border-accent)}.thread-header{display:flex;align-items:center;gap:.5rem;justify-content:space-between;margin-bottom:.25rem}.thread-info{display:flex;align-items:center;gap:.5rem;min-width:0}.thread-title{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.thread-meta{display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:var(--color-text-muted);flex-shrink:0}.thread-preview{font-size:.75rem;color:var(--color-text-muted);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.thread-actions{display:flex;flex-direction:column;justify-content:center;gap:2px;flex-shrink:0;opacity:0;transition:opacity .2s}.thread-item:hover .thread-actions,.thread-item:focus-within .thread-actions,.thread-item.active .thread-actions{opacity:1}@media (max-width: 768px){.thread-actions{opacity:1}}.thread-action-btn{display:flex;align-items:center;justify-content:center;width:24px;height:20px;border-radius:4px;background:none;border:none;color:var(--color-text-muted);cursor:pointer;transition:all .2s;padding:0}.thread-action-btn:hover{background:var(--color-interactive-hover);color:var(--color-text-primary)}.thread-action-btn.thread-action-btn-danger:hover{background:var(--color-danger-alpha-10);color:var(--color-danger-400)}.thread-menu-dropdown{background:var(--color-gray-800);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid var(--color-border-secondary);border-radius:8px;padding:4px}.thread-menu-item{color:var(--color-text-primary);font-size:.875rem;border-radius:6px;gap:8px}.thread-menu-item:hover{background:var(--color-interactive-hover)}.thread-menu-item-danger{color:var(--color-danger-400)}.thread-menu-item-danger:hover{background:var(--accent-danger-bg)}.thread-item-pending-delete{opacity:.5;background:var(--color-danger-alpha-5);border-color:var(--color-danger-500);pointer-events:auto;animation:fadeOut 5s ease-out forwards}@keyframes fadeOut{0%{opacity:.6}90%{opacity:.3}to{opacity:.2}}.thread-title-deleted{text-decoration:line-through;color:var(--color-text-disabled)}.thread-preview-deleted{color:var(--color-danger-400);font-style:italic}.undo-delete-btn{padding:.25rem .5rem;font-size:.75rem;font-weight:500;color:var(--color-danger-400);background:var(--color-danger-alpha-10);border:1px solid var(--color-danger-400);border-radius:4px;cursor:pointer;transition:all .15s ease;font-family:inherit}.undo-delete-btn:hover{background:var(--color-danger-alpha-15);color:var(--color-danger-300)}@media (min-width: 768px){.sidebar{position:relative;transform:translate(0)}}.blur-button{all:unset;display:flex;align-items:center;justify-content:center;cursor:pointer;position:relative;padding:0;margin:0;border:none;outline:none;box-sizing:border-box;-webkit-tap-highlight-color:transparent;touch-action:manipulation;background:light-dark(var(--simple-button-bg-light),var(--simple-button-bg-dark));border:1px solid light-dark(var(--simple-button-border-light),var(--simple-button-border-dark));box-shadow:0 1px 3px var(--shadow-soft);transition:background .15s ease,transform .1s ease,box-shadow .15s ease}.blur-button:hover{background:light-dark(var(--simple-button-bg-hover-light),var(--simple-button-bg-hover-dark));box-shadow:0 2px 6px var(--shadow-medium)}.blur-button:active{background:light-dark(var(--simple-button-bg-active-light),var(--simple-button-bg-active-dark));transform:scale(.95)}.blur-button:focus-visible{outline:2px solid var(--color-interactive-focus);outline-offset:2px}.blur-button-content{display:flex;align-items:center;justify-content:center;width:100%;height:100%;padding:.5rem;gap:4px}.blur-button-content.blur-button-px-2{padding-left:.5rem;padding-right:.5rem}.blur-button-content.blur-button-px-3{padding-left:.75rem;padding-right:.75rem}.blur-button-content.blur-button-px-4{padding-left:1rem;padding-right:1rem}.blur-button-content.blur-button-text-xs{font-size:.75rem;line-height:1rem}.model-chips-wrapper{display:flex;flex-direction:column}.model-chips{display:flex;align-items:center;overflow-x:auto;gap:.5rem;padding:4px .5rem;-webkit-overflow-scrolling:touch;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;scrollbar-width:none;-ms-overflow-style:none}.model-chips::-webkit-scrollbar{display:none}@media (max-width: 767px){.model-chips{padding-left:calc(1.5rem + 40px)}}.model-chip-container{flex-shrink:0;display:flex;flex-direction:column;align-items:center;gap:.25rem}.add-model-button{flex-shrink:0}.model-indicator{width:10px;height:10px;border-radius:50%;flex-shrink:0}.model-chip-active{box-shadow:0 0 0 2px var(--color-primary-400)!important}.active-check{margin-left:2px;color:var(--color-success-400);flex-shrink:0}.model-chip-content{display:flex;flex-direction:column;align-items:center;justify-content:center;line-height:1}.model-chip-main{display:flex;align-items:center;justify-content:center;gap:.5rem}.blur-surface{position:relative;display:flex;align-items:center;justify-content:center;overflow:hidden;transition:opacity .26s ease-out;will-change:transform,opacity,backdrop-filter;-webkit-transform:translate3d(0,0,0);transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;isolation:isolate;contain:paint;background:light-dark(var(--simple-glass-bg-light),var(--simple-glass-bg-dark));border:1px solid light-dark(var(--simple-glass-border-light),var(--simple-glass-border-dark));box-shadow:0 2px 8px var(--shadow-soft)}.blur-surface__content{width:100%;height:100%;display:flex;align-items:center;justify-content:center;gap:4px;border-radius:inherit;position:relative;z-index:1}.blur-surface:focus-visible{outline:2px solid var(--color-interactive-focus);outline-offset:2px}.model-picker{position:relative;z-index:20}.model-picker-trigger{display:flex;align-items:center;gap:.375rem;padding:.375rem .625rem;background:var(--color-background-surface);border:1px solid var(--color-border-primary);border-radius:6px;color:var(--color-text-secondary);font-size:.75rem;cursor:pointer;transition:all .15s ease;max-width:200px;white-space:nowrap}.model-picker-trigger:hover:not(:disabled){background:var(--color-background-elevated);border-color:var(--color-border-secondary);color:var(--color-text-primary)}.model-picker-trigger:disabled{opacity:.5;cursor:not-allowed}.model-picker-trigger.open{background:var(--color-background-elevated);border-color:var(--color-primary-500)}.model-picker-icon{display:flex;align-items:center;justify-content:center;color:var(--color-text-muted)}.model-picker-name{flex:1;text-overflow:ellipsis;overflow:hidden;text-align:left}.model-picker-chevron{display:flex;align-items:center;justify-content:center;transition:transform .15s ease}.model-picker-trigger.open .model-picker-chevron{transform:rotate(180deg)}.model-picker-dropdown{min-width:280px;max-width:400px;border-radius:8px;display:flex;flex-direction:column;box-shadow:0 4px 20px #0003}.model-picker-dropdown .blur-surface__content{flex-direction:column;align-items:stretch;justify-content:flex-start;max-height:300px;width:100%}.model-picker-search{padding:.5rem;border-bottom:1px solid var(--color-border-primary);flex-shrink:0}.model-picker-search-input{width:100%;padding:.5rem .75rem;background:var(--color-background-surface);border:1px solid var(--color-border-primary);border-radius:6px;color:var(--color-text-primary);font-size:.8125rem;outline:none;transition:border-color .15s ease}.model-picker-search-input:focus{border-color:var(--color-primary-500)}.model-picker-search-input::placeholder{color:var(--color-text-disabled)}.model-picker-list{overflow-y:auto;flex:1;min-height:0;padding:.25rem 0}.model-picker-option{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.625rem .75rem;background:transparent;border:none;color:var(--color-text-secondary);font-size:.8125rem;text-align:left;cursor:pointer;transition:all .1s ease}.model-picker-option:hover{background:var(--color-background-surface);color:var(--color-text-primary)}.model-picker-option.selected{background:var(--color-primary-500-alpha-10);color:var(--color-primary-400)}.model-picker-option-name{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.model-picker-check{display:flex;align-items:center;justify-content:center;color:var(--color-primary-400)}.model-picker-empty{padding:1rem;text-align:center;color:var(--color-text-muted);font-size:.8125rem}@media (max-width: 640px){.model-picker-trigger{padding:.25rem .5rem;font-size:.6875rem;max-width:150px}.model-picker-dropdown{min-width:240px;max-width:calc(100vw - 40px)}}.composer{display:flex;justify-content:space-between;align-items:center;width:100%;padding:0 26px 16px 20px;z-index:10;flex-shrink:0;position:absolute;bottom:0;left:0;right:0;padding-bottom:calc(16px + env(safe-area-inset-bottom,0px))}.composer-content{display:flex;flex:1;flex-direction:column;gap:.5rem;min-width:0}.composer-input-area{display:flex;flex:1;align-items:center;min-width:0}.composer-input-container{display:flex;flex-direction:column;flex:1;width:100%}.composer-textarea-wrapper{width:100%;padding:0}.composer-textarea{flex:1;width:100%;min-height:48px;max-height:200px;border-radius:6px;outline:none;padding:12px 16px;background:transparent;border:none;color:var(--color-text-primary);resize:none;overflow-y:auto;line-height:1.5;font-family:inherit;font-size:inherit;transition:height .1s ease-out;display:block}.composer-textarea::placeholder{color:var(--color-text-disabled)}.composer-bottom-row{display:flex;justify-content:space-between;align-items:center;padding:0 12px 12px;width:100%}.composer-actions{display:flex;gap:.5rem;align-items:center}.composer-model-picker-container{display:flex;align-items:center}.composer-icon{width:1.25rem;height:1.25rem;color:var(--color-text-primary)}.composer-send-button-blur{background-color:var(--color-white-alpha-20)!important;border-radius:50%!important}.composer-send-button-blur .composer-icon{color:var(--color-white)}.composer-actions .blur-button{border-radius:50%!important;overflow:hidden}.composer-action-button-blur{background-color:var(--color-white-alpha-10)!important;border-radius:50%!important}.composer-action-button-blur:hover:not(:disabled){background-color:var(--color-white-alpha-20)!important}.composer-action-button-blur .composer-icon{color:var(--color-text-secondary)}.composer-image-previews{display:flex;flex-wrap:wrap;gap:.5rem;padding:.5rem 0}.composer-image-preview{position:relative;width:80px;height:80px;border-radius:8px;overflow:hidden;border:1px solid var(--color-border-primary);background:var(--color-background-surface)}.composer-preview-image{width:100%;height:100%;object-fit:cover}.composer-remove-image{position:absolute;top:4px;right:4px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;background:var(--color-background-elevated);border:none;border-radius:50%;cursor:pointer;color:var(--color-text-secondary);transition:all .15s ease;padding:0}.composer-remove-image:hover{background:var(--color-danger-500);color:var(--color-white)}.composer-remove-image svg{width:10px;height:10px}.thinking-block{margin-bottom:.75rem;border-radius:8px;background:var(--color-surface-elevated, rgba(255, 255, 255, .05));border:1px solid var(--color-border, rgba(255, 255, 255, .1));overflow:hidden}.thinking-header{display:flex;align-items:center;gap:.5rem;width:100%;padding:.625rem .875rem;background:transparent;border:none;cursor:pointer;color:var(--color-text-secondary, #a0a0a0);font-size:.8125rem;font-weight:500;text-align:left;transition:background-color .15s ease}.thinking-header:hover{background:var(--color-surface-hover, rgba(255, 255, 255, .08))}.thinking-icon{display:flex;align-items:center;justify-content:center;color:var(--color-primary-400, #60a5fa)}.thinking-label{flex:1}.thinking-toggle{display:flex;align-items:center;justify-content:center}.thinking-toggle .chevron{transition:transform .2s ease}.thinking-toggle .chevron.rotated{transform:rotate(180deg)}.thinking-content{padding:.75rem .875rem;padding-top:0;font-size:.8125rem;line-height:1.6;color:var(--color-text-secondary, #a0a0a0);max-height:300px;overflow-y:auto}.thinking-content p{margin:0 0 .5rem}.thinking-content p:last-child{margin-bottom:0}.thinking-content pre{background:var(--color-surface, rgba(0, 0, 0, .2));padding:.5rem;border-radius:4px;overflow-x:auto}.thinking-content code{font-size:.75rem}.thinking-cursor{display:inline-block;width:2px;height:1em;background:var(--color-primary-400, #60a5fa);margin-left:2px;animation:thinking-blink 1s infinite}@keyframes thinking-blink{0%,50%{opacity:1}51%,to{opacity:0}}.thinking-block.collapsed .thinking-content{display:none}.thinking-block.expanded{border-color:var(--color-primary-500, #3b82f6)}.thinking-block.expanded .thinking-header{border-bottom:1px solid var(--color-border, rgba(255, 255, 255, .1))}.image-viewer-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:9999;display:flex;align-items:center;justify-content:center;background:#000000eb;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);animation:imageViewerFadeIn .2s ease-out}@keyframes imageViewerFadeIn{0%{opacity:0}to{opacity:1}}.image-viewer-close{position:absolute;top:16px;right:16px;width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border:1px solid rgba(255,255,255,.15);border-radius:50%;color:#fff;cursor:pointer;transition:all .15s ease;z-index:10}.image-viewer-close:hover{background:#fff3;transform:scale(1.05)}.image-viewer-close svg{width:24px;height:24px}.image-viewer-nav{position:absolute;top:50%;transform:translateY(-50%);width:52px;height:52px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border:1px solid rgba(255,255,255,.15);border-radius:50%;color:#fff;cursor:pointer;transition:all .15s ease;z-index:10}.image-viewer-nav:hover:not(.disabled){background:#fff3;transform:translateY(-50%) scale(1.05)}.image-viewer-nav.disabled{opacity:.3;cursor:not-allowed}.image-viewer-nav svg{width:28px;height:28px}.image-viewer-nav-prev{left:16px}.image-viewer-nav-next{right:16px}.image-viewer-content{max-width:calc(100vw - 160px);max-height:calc(100vh - 160px);display:flex;align-items:center;justify-content:center}.image-viewer-image{max-width:100%;max-height:calc(100vh - 160px);object-fit:contain;border-radius:8px;box-shadow:0 8px 32px #00000080;animation:imageViewerZoomIn .25s ease-out}@keyframes imageViewerZoomIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.image-viewer-counter{position:absolute;top:20px;left:50%;transform:translate(-50%);padding:8px 16px;background:#0009;border:1px solid rgba(255,255,255,.1);border-radius:20px;color:#ffffffe6;font-size:14px;font-weight:500;letter-spacing:.5px}.image-viewer-thumbnails{position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;gap:8px;padding:8px;background:#0009;border:1px solid rgba(255,255,255,.1);border-radius:12px;max-width:calc(100vw - 40px);overflow-x:auto}.image-viewer-thumbnails::-webkit-scrollbar{height:4px}.image-viewer-thumbnails::-webkit-scrollbar-track{background:transparent}.image-viewer-thumbnails::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:2px}.image-viewer-thumbnail{flex-shrink:0;width:56px;height:56px;padding:0;border:2px solid transparent;border-radius:8px;overflow:hidden;cursor:pointer;transition:all .15s ease;background:transparent}.image-viewer-thumbnail:hover{border-color:#ffffff80}.image-viewer-thumbnail.active{border-color:var(--color-primary-400, #60a5fa);box-shadow:0 0 0 2px #60a5fa4d}.image-viewer-thumbnail img{width:100%;height:100%;object-fit:cover}@media (max-width: 768px){.image-viewer-nav{width:44px;height:44px}.image-viewer-nav svg{width:22px;height:22px}.image-viewer-nav-prev{left:8px}.image-viewer-nav-next{right:8px}.image-viewer-content{max-width:calc(100vw - 100px);max-height:calc(100vh - 140px)}.image-viewer-image{max-height:calc(100vh - 140px)}.image-viewer-close{top:12px;right:12px;width:40px;height:40px}.image-viewer-close svg{width:20px;height:20px}.image-viewer-thumbnail{width:48px;height:48px}}.chat-main{position:absolute;top:0;left:0;right:0;bottom:0;background:transparent;z-index:0;display:flex;flex-direction:column}.messages-container{flex:1;min-height:0;overflow-y:auto;background:transparent;padding:64px 20px calc(var(--composer-height, 160px) + 24px) 20px}.messages-container::-webkit-scrollbar{width:6px}.messages-container::-webkit-scrollbar-track{background:transparent}.messages-container::-webkit-scrollbar-thumb{background-color:var(--color-scrollbar-thumb);border-radius:3px}.messages-container::-webkit-scrollbar-thumb:hover{background-color:var(--color-scrollbar-thumb-hover)}.message-list{display:flex;flex-direction:column;gap:.75rem}.empty-state{text-align:center;color:var(--color-text-muted);font-size:.875rem;padding:64px 0}.empty-state-enhanced{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:100%;min-height:60vh;animation:fadeInUp .6s ease-out}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.empty-state-illustration{filter:drop-shadow(0 4px 24px var(--shadow-primary-glow))}.empty-state-hint{margin-top:1.5rem;font-size:.9375rem;color:var(--color-text-muted);letter-spacing:.01em}.typing-indicator{animation:fadeIn .3s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.typing-dots{display:flex;align-items:center;gap:6px;padding:.5rem 0}.typing-dot{width:8px;height:8px;border-radius:50%;background-color:var(--color-text-muted);animation:typingBounce 1.4s ease-in-out infinite}.typing-dot:nth-child(1){animation-delay:0s}.typing-dot:nth-child(2){animation-delay:.2s}.typing-dot:nth-child(3){animation-delay:.4s}@keyframes typingBounce{0%,60%,to{transform:translateY(0);opacity:.4}30%{transform:translateY(-8px);opacity:1}}.message-bubble.streaming{border-color:var(--accent-primary);box-shadow:0 0 0 1px var(--accent-primary) inset,0 4px 20px var(--shadow-primary-subtle)}.streaming-cursor{display:inline-block;width:2px;height:1em;background-color:var(--color-primary-400);margin-left:2px;animation:cursorBlink 1s ease-in-out infinite;vertical-align:text-bottom}@keyframes cursorBlink{0%,50%{opacity:1}51%,to{opacity:0}}.message-bubble{background:var(--color-background-surface);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:12px;border:1px solid var(--color-border-primary);padding:16px;transition:border-color .2s ease,box-shadow .2s ease}.message-role{font-size:.75rem;color:var(--color-text-muted);margin-bottom:.25rem}.message-content{color:var(--color-text-secondary);line-height:1.6}.message-images{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.75rem}.message-image-container{position:relative;max-width:300px;max-height:300px;border-radius:8px;overflow:hidden;border:1px solid var(--color-border-primary);background:var(--color-background-surface)}.message-image{display:block;max-width:100%;max-height:300px;width:auto;height:auto;object-fit:contain;cursor:pointer;transition:transform .2s ease}.message-image:hover{transform:scale(1.02)}.message-images-missing{margin-bottom:.75rem;padding:.5rem .75rem;border-radius:6px;border:1px dashed var(--color-border-primary);color:var(--color-text-muted);font-size:.75rem;background:var(--color-background-surface)}@media (max-width: 768px){.message-image-container{max-width:200px;max-height:200px}.message-image{max-height:200px}}.message-content h1,.message-content h2,.message-content h3,.message-content h4,.message-content h5,.message-content h6{color:var(--color-text-primary);font-weight:600;margin-top:1.25em;margin-bottom:.75em}.message-content p{margin-top:1.25em;margin-bottom:1.25em}.message-content code{background-color:var(--color-background-surface);padding:.125rem .25rem;border-radius:.25rem;font-size:.875em}.message-content pre{background-color:var(--color-interactive-disabled);padding:1rem;border-radius:.5rem;overflow-x:auto}.message-content pre code{background-color:transparent;padding:0}.code-block-wrapper{margin:1.25em 0;border-radius:.5rem;border:1px solid var(--color-border-primary);background-color:var(--color-interactive-disabled);overflow:hidden}.code-block-header{display:flex;align-items:center;justify-content:space-between;padding:.5rem 1rem;background-color:var(--color-background-surface-hover);border-bottom:1px solid var(--color-border-primary);color:var(--color-text-muted);font-size:.75rem;-webkit-user-select:none;user-select:none}.code-lang{font-weight:500;text-transform:uppercase;letter-spacing:.05em;font-size:.7rem}.code-block-actions{display:flex;align-items:center;gap:.5rem}.copy-code-btn,.sanitize-copy-btn{display:inline-flex;align-items:center;justify-content:center;padding:.25rem;background:transparent;border:1px solid transparent;color:var(--color-text-muted);cursor:pointer;border-radius:4px;transition:all .2s ease;gap:.25rem}.copy-code-btn:hover,.sanitize-copy-btn:hover{color:var(--color-text-primary);background-color:var(--color-background-surface-active)}.copy-code-btn.copied,.sanitize-copy-btn.copied{color:var(--color-success-400)}.btn-label{font-size:.65rem;font-weight:600;letter-spacing:.05em}.message-content .code-block-wrapper pre{margin:0;border-radius:0;border:none;background-color:transparent;padding:1rem}.message-actions{margin-top:.75rem;padding-top:.5rem;border-top:1px solid var(--color-border-primary);display:flex;align-items:center;gap:.5rem;opacity:0;transition:opacity .2s ease}.message-bubble:hover .message-actions,.message-bubble:focus-within .message-actions{opacity:1}.message-actions:has(.regenerating){opacity:1}.message-actions.always-visible{opacity:1}.regenerate-btn{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .625rem;font-size:.75rem;font-weight:500;color:var(--color-text-muted);background:transparent;border:1px solid var(--color-border-primary);border-radius:6px;cursor:pointer;transition:all .15s ease;font-family:inherit}.regenerate-btn:hover:not(:disabled){color:var(--color-text-primary);background:var(--color-background-elevated);border-color:var(--color-border-secondary)}.regenerate-btn:active:not(:disabled){transform:scale(.97)}.regenerate-btn:disabled{cursor:not-allowed;opacity:.6}.regenerate-btn.regenerating{color:var(--color-primary-400);border-color:var(--color-primary-400)}.regenerate-icon{flex-shrink:0}.regenerate-btn.regenerating .regenerate-icon{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.regenerate-text{white-space:nowrap}.copy-btn{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .625rem;font-size:.75rem;font-weight:500;color:var(--color-text-muted);background:transparent;border:1px solid var(--color-border-primary);border-radius:6px;cursor:pointer;transition:all .15s ease;font-family:inherit}.copy-btn:hover:not(:disabled){color:var(--color-text-primary);background:var(--color-background-elevated);border-color:var(--color-border-secondary)}.copy-btn:active:not(:disabled){transform:scale(.97)}.copy-btn.copied{color:var(--color-success-400);border-color:var(--color-success-400)}.copy-icon{flex-shrink:0}.copy-text{white-space:nowrap}.edit-btn{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .625rem;font-size:.75rem;font-weight:500;color:var(--color-text-muted);background:transparent;border:1px solid var(--color-border-primary);border-radius:6px;cursor:pointer;transition:all .15s ease;font-family:inherit}.edit-btn:hover:not(:disabled){color:var(--color-text-primary);background:var(--color-background-elevated);border-color:var(--color-border-secondary)}.edit-btn:active:not(:disabled){transform:scale(.97)}.edit-icon{flex-shrink:0}.edit-text{white-space:nowrap}.edit-container{margin-top:.75rem;padding-top:.75rem;border-top:1px solid var(--color-border-primary)}.edit-container.in-place{margin-top:0;padding-top:0;border-top:none}.edit-textarea{width:100%;min-height:80px;padding:.75rem;font-size:.875rem;font-family:inherit;line-height:1.6;color:var(--color-text-secondary);background:var(--color-background-surface);border:1px solid var(--color-border-secondary);border-radius:8px;resize:vertical;transition:border-color .2s ease,box-shadow .2s ease}.edit-textarea:focus{outline:none;border-color:var(--color-primary-400);box-shadow:0 0 0 2px var(--shadow-primary-subtle)}.edit-textarea::placeholder{color:var(--color-text-muted)}.edit-actions{display:flex;align-items:center;gap:.5rem;margin-top:.5rem}.edit-save-btn,.edit-cancel-btn{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;font-size:.75rem;font-weight:500;border-radius:6px;cursor:pointer;transition:all .15s ease;font-family:inherit;border:1px solid transparent}.edit-save-btn{color:var(--color-success-400);background:var(--color-success-alpha-10);border-color:var(--color-success-400)}.edit-save-btn:hover{background:var(--color-success-alpha-20);color:var(--color-success-300)}.edit-cancel-btn{color:var(--color-text-muted);background:transparent;border-color:var(--color-border-primary)}.edit-cancel-btn:hover{color:var(--color-text-primary);background:var(--color-background-elevated);border-color:var(--color-border-secondary)}.edit-save-btn:active,.edit-cancel-btn:active{transform:scale(.97)}.message-bubble.failed{border-color:var(--color-danger-500);background:var(--color-danger-alpha-5)}.message-failed{display:flex;align-items:center;gap:.5rem;color:var(--color-danger-400);font-size:.875rem}.failed-icon{font-size:1rem;flex-shrink:0}.message-bubble.failed .message-actions{opacity:1;border-top-color:var(--color-danger-500)}.message-bubble.failed .regenerate-btn{color:var(--color-danger-400);border-color:var(--color-danger-400)}.message-bubble.failed .regenerate-btn:hover:not(:disabled){background:var(--color-danger-alpha-10);color:var(--color-danger-300)}@media (max-width: 768px){.message-actions{opacity:1}.regenerate-btn,.copy-btn,.edit-btn{padding:.5rem .75rem;font-size:.8125rem;min-height:36px}.regenerate-icon,.copy-icon,.edit-icon{width:18px;height:18px}.edit-textarea{min-height:100px;font-size:1rem}.edit-save-btn,.edit-cancel-btn{padding:.5rem 1rem;font-size:.875rem;min-height:36px}}.error-boundary{display:flex;align-items:center;justify-content:center;min-height:100dvh;padding:1rem;background:var(--color-background-body)}.error-boundary-container{max-width:100%}.error-boundary-content{display:flex;flex-direction:column;align-items:center;text-align:center;padding:2rem;gap:1rem}.error-boundary-icon{font-size:3rem;line-height:1}.error-boundary-title{margin:0;font-size:1.5rem;font-weight:600;color:var(--color-text-primary)}.error-boundary-message{margin:0;font-size:.875rem;color:var(--color-text-muted);max-width:300px}.error-boundary-details{width:100%;text-align:left;margin-top:.5rem}.error-boundary-details summary{cursor:pointer;color:var(--color-text-muted);font-size:.75rem}.error-boundary-stack{margin-top:.5rem;padding:.75rem;background:var(--color-background-surface);border-radius:8px;overflow-x:auto;font-size:.75rem;color:var(--color-danger-400);white-space:pre-wrap;word-break:break-word}.error-boundary-actions{display:flex;gap:.75rem;margin-top:.5rem}.loading-skeleton{display:flex;height:100dvh;background:var(--color-background-body)}@keyframes skeleton-pulse{0%{opacity:.4}50%{opacity:.7}to{opacity:.4}}@keyframes skeleton-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.skeleton-sidebar{width:320px;background:var(--color-background-surface);border-right:1px solid var(--color-border-primary);padding:1rem;display:flex;flex-direction:column;gap:1rem}.skeleton-header{display:flex;flex-direction:column;gap:.5rem;padding-bottom:.75rem;border-bottom:1px solid var(--color-border-primary)}.skeleton-title{width:120px;height:20px;background:var(--color-background-surface-hover);border-radius:4px;animation:skeleton-pulse 1.5s ease-in-out infinite}.skeleton-subtitle{width:180px;height:14px;background:var(--color-background-surface-hover);border-radius:4px;animation:skeleton-pulse 1.5s ease-in-out infinite;animation-delay:.1s}.skeleton-search{height:36px;background:var(--color-background-surface-hover);border-radius:6px;animation:skeleton-pulse 1.5s ease-in-out infinite;animation-delay:.2s}.skeleton-threads{display:flex;flex-direction:column;gap:.5rem;flex:1}.skeleton-thread{padding:.75rem;background:var(--color-interactive-disabled);border-radius:8px;display:flex;flex-direction:column;gap:.5rem;animation:skeleton-pulse 1.5s ease-in-out infinite}.skeleton-thread:nth-child(1){animation-delay:.1s}.skeleton-thread:nth-child(2){animation-delay:.2s}.skeleton-thread:nth-child(3){animation-delay:.3s}.skeleton-thread:nth-child(4){animation-delay:.4s}.skeleton-thread-header{display:flex;align-items:center;gap:.5rem}.skeleton-indicator{width:10px;height:10px;border-radius:50%;background:var(--color-background-surface-hover)}.skeleton-thread-title{width:60%;height:16px;background:var(--color-background-surface-hover);border-radius:4px}.skeleton-thread-preview{width:80%;height:12px;background:var(--color-background-surface-hover);border-radius:4px}.skeleton-main{flex:1;display:flex;flex-direction:column;padding:1rem;gap:1rem}.skeleton-chips{display:flex;gap:.5rem;padding:.5rem}.skeleton-chip{width:100px;height:32px;background:var(--color-background-surface);border-radius:20px;animation:skeleton-pulse 1.5s ease-in-out infinite}.skeleton-chip:nth-child(1){animation-delay:0s}.skeleton-chip:nth-child(2){animation-delay:.1s;width:120px}.skeleton-chip:nth-child(3){animation-delay:.2s;width:90px}.skeleton-messages{flex:1;display:flex;align-items:center;justify-content:center}.skeleton-empty-state{display:flex;flex-direction:column;align-items:center;gap:1rem}.skeleton-spinner{width:40px;height:40px;border:3px solid var(--color-border-primary);border-top-color:var(--color-primary-400);border-radius:50%;animation:skeleton-spin 1s linear infinite}@media (max-width: 767px){.skeleton-sidebar{display:none}}
