var jd=Object.defineProperty;var Nd=(e,t,n)=>t in e?jd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>Nd(e,typeof t!="symbol"?t+"":t,n);import{b as h,t as l,R as je,f as Os,z as Md,v as _d,w as Id}from"./index-iaXOoHXH.js";import{x as Bt,h as Ls,A as Pd,u as Pn,E as Dd,F as Od,l as q,G as Be,B as ne,j as ae,m as be,n as Ee,r as Se,H as It,I as $s,p as et,t as nn,J as Ld,w as Ql,K as zs,O as Wn,N as Nt,P as Qe,Q as ke,U as Nn,L as Fs,S as lo,R as $d,C as Jl,T as co,o as bn,V as zd,W as Fd,_ as Bd,q as Ud,X as ec,Y as Vd,Z as Hd,$ as Wd,z as ye}from"./notifications.store-Cmwn6MVh.js";function rn(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==h.Fragment:!1}function on(e){const t=h.createContext(null);return[({children:o,value:s})=>l.jsx(t.Provider,{value:s,children:o}),()=>{const o=h.useContext(t);if(o===null)throw new Error(e);return o}]}function Cr(e=null){const t=h.createContext(e);return[({children:o,value:s})=>l.jsx(t.Provider,{value:s,children:o}),()=>h.useContext(t)]}function xi(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function Kr(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Gd(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Kd(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function qd(e,t,n){return Kr(e,n)===Kr(t,n)}function Bs({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:o=!1,dir:s="rtl",orientation:a}){return i=>{var g;n==null||n(i);const u=Array.from(((g=Kr(i.currentTarget,e))==null?void 0:g.querySelectorAll(t))||[]).filter(b=>qd(i.currentTarget,b,e)),c=u.findIndex(b=>i.currentTarget===b),d=Kd(c,u,r),p=Gd(c,u,r),f=s==="rtl"?p:d,m=s==="rtl"?d:p;switch(i.key){case"ArrowRight":{a==="horizontal"&&(i.stopPropagation(),i.preventDefault(),u[f].focus(),o&&u[f].click());break}case"ArrowLeft":{a==="horizontal"&&(i.stopPropagation(),i.preventDefault(),u[m].focus(),o&&u[m].click());break}case"ArrowUp":{a==="vertical"&&(i.stopPropagation(),i.preventDefault(),u[p].focus(),o&&u[p].click());break}case"ArrowDown":{a==="vertical"&&(i.stopPropagation(),i.preventDefault(),u[d].focus(),o&&u[d].click());break}case"Home":{i.stopPropagation(),i.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{i.stopPropagation(),i.preventDefault();const b=u.length-1;!u[b].disabled&&u[b].focus();break}}}}const ds=()=>{};function Yd(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||ds:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function ft(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Xd(e,t,n){var r;return n?Array.from(((r=Kr(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(o=>o===n):null}function vt(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function Cn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function uo(e,t){const{delay:n,flushOnUnmount:r,leading:o}=typeof t=="number"?{delay:t,flushOnUnmount:!1,leading:!1}:t,s=Cn(e),a=h.useRef(0),i=h.useMemo(()=>{const u=Object.assign((...c)=>{window.clearTimeout(a.current);const d=u._isFirstCall;u._isFirstCall=!1;function p(){window.clearTimeout(a.current),a.current=0,u._isFirstCall=!0}if(o&&d){s(...c);const g=()=>{p()},b=()=>{a.current!==0&&(p(),s(...c))},v=()=>{p()};u.flush=b,u.cancel=v,a.current=window.setTimeout(g,n);return}if(o&&!d){const g=()=>{a.current!==0&&(p(),s(...c))},b=()=>{p()};u.flush=g,u.cancel=b;const v=()=>{p()};a.current=window.setTimeout(v,n);return}const f=()=>{a.current!==0&&(p(),s(...c))},m=()=>{p()};u.flush=f,u.cancel=m,a.current=window.setTimeout(f,n)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return u},[s,n,o]);return h.useEffect(()=>()=>{r?i.flush():i.cancel()},[i,r]),i}const Zd=["mousedown","touchstart"];function Qd(e,t,n){const r=h.useRef(null),o=t||Zd;return h.useEffect(()=>{const s=a=>{const{target:i}=a??{};if(Array.isArray(n)){const u=!document.body.contains(i)&&i.tagName!=="HTML";n.every(d=>!!d&&!a.composedPath().includes(d))&&!u&&e()}else r.current&&!r.current.contains(i)&&e()};return o.forEach(a=>document.addEventListener(a,s)),()=>{o.forEach(a=>document.removeEventListener(a,s))}},[r,e,n]),r}function tc({opened:e,shouldReturnFocus:t=!0}){const n=h.useRef(null),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return Bt(()=>{let o=-1;const s=a=>{a.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",s)}},[e,t]),r}const Jd=/input|select|textarea|button|object/,nc="a, input, select, textarea, button, object, [tabindex]";function ef(e){return e.style.display==="none"}function tf(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(ef(n))return!1;n=n.parentNode}return!0}function rc(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function fs(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(rc(e));return(Jd.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&tf(e)}function oc(e){const t=rc(e);return(Number.isNaN(t)||t>=0)&&fs(e)}function nf(e){return Array.from(e.querySelectorAll(nc)).filter(oc)}function rf(e,t){const n=nf(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();let s=r===o.activeElement||e===o.activeElement;const a=o.activeElement;if(a.tagName==="INPUT"&&a.getAttribute("type")==="radio"&&(s=n.filter(d=>d.getAttribute("type")==="radio"&&d.getAttribute("name")===a.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const u=n[t.shiftKey?n.length-1:0];u&&u.focus()}function of(e=!0){const t=h.useRef(null),n=o=>{let s=o.querySelector("[data-autofocus]");if(!s){const a=Array.from(o.querySelectorAll(nc));s=a.find(oc)||a.find(fs)||null,!s&&fs(o)&&(s=o)}s&&s.focus({preventScroll:!0})},r=h.useCallback(o=>{e&&o!==null&&t.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&n(o)}),t.current=o):t.current=null)},[e]);return h.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const o=s=>{s.key==="Tab"&&t.current&&rf(t.current,s)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),r}const sf=je.useId||(()=>{});function af(){const e=sf();return e?`mantine-${e.replace(/:/g,"")}`:""}function Pt(e){const t=af(),[n,r]=h.useState(t);return Ls(()=>{r(Pd())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function lf(e,t,n){h.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function sc(e){return{x:vt(e.x,0,1),y:vt(e.y,0,1)}}function Us(e,t,n="ltr"){const r=h.useRef(!1),o=h.useRef(!1),s=h.useRef(0),[a,i]=h.useState(!1),u=h.useRef(null);return h.useEffect(()=>{r.current=!0},[]),{ref:h.useCallback(d=>{if(u.current&&(u.current(),u.current=null),!d)return;const p=({x:y,y:k})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(r.current&&d){d.style.userSelect="none";const E=d.getBoundingClientRect();if(E.width&&E.height){const A=vt((y-E.left)/E.width,0,1);e({x:n==="ltr"?A:1-A,y:vt((k-E.top)/E.height,0,1)})}}})},f=()=>{document.addEventListener("mousemove",w),document.addEventListener("mouseup",b),document.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("touchend",b)},m=()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",b)},g=()=>{!o.current&&r.current&&(o.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),i(!0),f())},b=()=>{o.current&&r.current&&(o.current=!1,i(!1),m(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},v=y=>{g(),y.preventDefault(),w(y)},w=y=>p({x:y.clientX,y:y.clientY}),S=y=>{y.cancelable&&y.preventDefault(),g(),x(y)},x=y=>{y.cancelable&&y.preventDefault(),p({x:y.changedTouches[0].clientX,y:y.changedTouches[0].clientY})};d.addEventListener("mousedown",v),d.addEventListener("touchstart",S,{passive:!1}),u.current=()=>{d.removeEventListener("mousedown",v),d.removeEventListener("touchstart",S)}},[n,e]),active:a}}function mt({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,s]=h.useState(t!==void 0?t:n),a=(i,...u)=>{s(i),r==null||r(i,...u)};return e!==void 0?[e,r,!0]:[o,a,!1]}function cf(e=!1,t={}){const[n,r]=h.useState(e),o=h.useCallback(()=>{r(i=>{var u;return i||((u=t.onOpen)==null||u.call(t),!0)})},[t.onOpen]),s=h.useCallback(()=>{r(i=>{var u;return i&&((u=t.onClose)==null||u.call(t),!1)})},[t.onClose]),a=h.useCallback(()=>{n?s():o()},[s,o,n]);return[n,{open:o,close:s,toggle:a}]}function uf(e){const t=h.useRef(void 0);return h.useEffect(()=>{t.current=e},[e]),t.current}function df(){const[e,t]=h.useState(!1);Ls(()=>{t(typeof window<"u"&&!ff()&&"EyeDropper"in window)},[]);const n=h.useCallback((r={})=>e?new window.EyeDropper().open(r):Promise.resolve(void 0),[e]);return{supported:e,open:n}}function ff(){return navigator.userAgent.includes("OPR")}var hf={};function pf(){return typeof process<"u"&&hf?"production":"development"}function wi(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function fo(e){var n;const t=je.version;return typeof je.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(n=e==null?void 0:e.props)==null?void 0:n.ref}function Dn({classNames:e,styles:t,props:n,stylesCtx:r}){const o=Pn();return{resolvedClassNames:Od({theme:o,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:Dd({theme:o,styles:t,props:n,stylesCtx:r||void 0})}}function mf(e,t){return typeof e=="boolean"?e:t.autoContrast}function ac(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...ac(r,t)}),{}):typeof e=="function"?e(t):e??{}}const gf=h.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function vn(){return h.useContext(gf)}function ho(){return typeof window<"u"}function Qn(e){return ic(e)?(e.nodeName||"").toLowerCase():"#document"}function ht(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gt(e){var t;return(t=(ic(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ic(e){return ho()?e instanceof Node||e instanceof ht(e).Node:!1}function Oe(e){return ho()?e instanceof Element||e instanceof ht(e).Element:!1}function gt(e){return ho()?e instanceof HTMLElement||e instanceof ht(e).HTMLElement:!1}function hs(e){return!ho()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ht(e).ShadowRoot}const bf=new Set(["inline","contents"]);function Tr(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=xt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!bf.has(o)}const vf=new Set(["table","td","th"]);function yf(e){return vf.has(Qn(e))}const xf=[":popover-open",":modal"];function po(e){return xf.some(t=>{try{return e.matches(t)}catch{return!1}})}const wf=["transform","translate","scale","rotate","perspective"],Sf=["transform","translate","scale","rotate","perspective","filter"],kf=["paint","layout","strict","content"];function Vs(e){const t=mo(),n=Oe(e)?xt(e):e;return wf.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Sf.some(r=>(n.willChange||"").includes(r))||kf.some(r=>(n.contain||"").includes(r))}function Cf(e){let t=tn(e);for(;gt(t)&&!fn(t);){if(Vs(t))return t;if(po(t))return null;t=tn(t)}return null}function mo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Tf=new Set(["html","body","#document"]);function fn(e){return Tf.has(Qn(e))}function xt(e){return ht(e).getComputedStyle(e)}function go(e){return Oe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tn(e){if(Qn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hs(e)&&e.host||Gt(e);return hs(t)?t.host:t}function lc(e){const t=tn(e);return fn(t)?e.ownerDocument?e.ownerDocument.body:e.body:gt(t)&&Tr(t)?t:lc(t)}function en(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=lc(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),a=ht(o);if(s){const i=ps(a);return t.concat(a,a.visualViewport||[],Tr(o)?o:[],i&&n?en(i):[])}return t.concat(o,en(o,[],n))}function ps(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Si(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function vr(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&hs(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function cc(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function uc(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Ef(e){return jf()?!1:!ki()&&e.width===0&&e.height===0||ki()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Rf(){return/apple/i.test(navigator.vendor)}function ki(){const e=/android/i;return e.test(cc())||e.test(uc())}function Af(){return cc().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function jf(){return uc().includes("jsdom/")}function ms(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function Nf(e){return"nativeEvent"in e}function Mf(e){return e.matches("html,body")}function En(e){return(e==null?void 0:e.ownerDocument)||document}function Vo(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Fn(e){return"composedPath"in e?e.composedPath()[0]:e.target}const _f="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function If(e){return gt(e)&&e.matches(_f)}const Pf=["top","right","bottom","left"],Mt=Math.min,Ze=Math.max,qr=Math.round,_r=Math.floor,Ut=e=>({x:e,y:e}),Df={left:"right",right:"left",bottom:"top",top:"bottom"},Of={start:"end",end:"start"};function gs(e,t,n){return Ze(e,Mt(t,n))}function Ht(e,t){return typeof e=="function"?e(t):e}function _t(e){return e.split("-")[0]}function Jn(e){return e.split("-")[1]}function Hs(e){return e==="x"?"y":"x"}function Ws(e){return e==="y"?"height":"width"}const Lf=new Set(["top","bottom"]);function jt(e){return Lf.has(_t(e))?"y":"x"}function Gs(e){return Hs(jt(e))}function $f(e,t,n){n===void 0&&(n=!1);const r=Jn(e),o=Gs(e),s=Ws(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Yr(a)),[a,Yr(a)]}function zf(e){const t=Yr(e);return[bs(e),t,bs(t)]}function bs(e){return e.replace(/start|end/g,t=>Of[t])}const Ci=["left","right"],Ti=["right","left"],Ff=["top","bottom"],Bf=["bottom","top"];function Uf(e,t,n){switch(e){case"top":case"bottom":return n?t?Ti:Ci:t?Ci:Ti;case"left":case"right":return t?Ff:Bf;default:return[]}}function Vf(e,t,n,r){const o=Jn(e);let s=Uf(_t(e),n==="start",r);return o&&(s=s.map(a=>a+"-"+o),t&&(s=s.concat(s.map(bs)))),s}function Yr(e){return e.replace(/left|right|bottom|top/g,t=>Df[t])}function Hf(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ks(e){return typeof e!="number"?Hf(e):{top:e,right:e,bottom:e,left:e}}function Gn(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Ei(e,t,n){let{reference:r,floating:o}=e;const s=jt(t),a=Gs(t),i=Ws(a),u=_t(t),c=s==="y",d=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,f=r[i]/2-o[i]/2;let m;switch(u){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-o.width,y:p};break;default:m={x:r.x,y:r.y}}switch(Jn(t)){case"start":m[a]-=f*(n&&c?-1:1);break;case"end":m[a]+=f*(n&&c?-1:1);break}return m}const Wf=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,i=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:p}=Ei(c,r,u),f=r,m={},g=0;for(let b=0;b<i.length;b++){const{name:v,fn:w}=i[b],{x:S,y:x,data:y,reset:k}=await w({x:d,y:p,initialPlacement:r,placement:f,strategy:o,middlewareData:m,rects:c,platform:a,elements:{reference:e,floating:t}});d=S??d,p=x??p,m={...m,[v]:{...m[v],...y}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):k.rects),{x:d,y:p}=Ei(c,f,u)),b=-1)}return{x:d,y:p,placement:f,strategy:o,middlewareData:m}};async function yr(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:a,elements:i,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:m=0}=Ht(t,e),g=Ks(m),v=i[f?p==="floating"?"reference":"floating":p],w=Gn(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:u})),S=p==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),y=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},k=Gn(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:S,offsetParent:x,strategy:u}):S);return{top:(w.top-k.top+g.top)/y.y,bottom:(k.bottom-w.bottom+g.bottom)/y.y,left:(w.left-k.left+g.left)/y.x,right:(k.right-w.right+g.right)/y.x}}const Gf=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:a,elements:i,middlewareData:u}=t,{element:c,padding:d=0}=Ht(e,t)||{};if(c==null)return{};const p=Ks(d),f={x:n,y:r},m=Gs(o),g=Ws(m),b=await a.getDimensions(c),v=m==="y",w=v?"top":"left",S=v?"bottom":"right",x=v?"clientHeight":"clientWidth",y=s.reference[g]+s.reference[m]-f[m]-s.floating[g],k=f[m]-s.reference[m],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let A=E?E[x]:0;(!A||!await(a.isElement==null?void 0:a.isElement(E)))&&(A=i.floating[x]||s.floating[g]);const _=y/2-k/2,C=A/2-b[g]/2-1,B=Mt(p[w],C),I=Mt(p[S],C),T=B,L=A-b[g]-I,D=A/2-b[g]/2+_,$=gs(T,D,L),M=!u.arrow&&Jn(o)!=null&&D!==$&&s.reference[g]/2-(D<T?B:I)-b[g]/2<0,N=M?D<T?D-T:D-L:0;return{[m]:f[m]+N,data:{[m]:$,centerOffset:D-$-N,...M&&{alignmentOffset:N}},reset:M}}}),Kf=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:a,initialPlacement:i,platform:u,elements:c}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0,...v}=Ht(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=_t(o),S=jt(i),x=_t(i)===i,y=await(u.isRTL==null?void 0:u.isRTL(c.floating)),k=f||(x||!b?[Yr(i)]:zf(i)),E=g!=="none";!f&&E&&k.push(...Vf(i,b,g,y));const A=[i,...k],_=await yr(t,v),C=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(_[w]),p){const D=$f(o,a,y);C.push(_[D[0]],_[D[1]])}if(B=[...B,{placement:o,overflows:C}],!C.every(D=>D<=0)){var I,T;const D=(((I=s.flip)==null?void 0:I.index)||0)+1,$=A[D];if($&&(!(p==="alignment"?S!==jt($):!1)||B.every(R=>jt(R.placement)===S?R.overflows[0]>0:!0)))return{data:{index:D,overflows:B},reset:{placement:$}};let M=(T=B.filter(N=>N.overflows[0]<=0).sort((N,R)=>N.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!M)switch(m){case"bestFit":{var L;const N=(L=B.filter(R=>{if(E){const O=jt(R.placement);return O===S||O==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(O=>O>0).reduce((O,F)=>O+F,0)]).sort((R,O)=>R[1]-O[1])[0])==null?void 0:L[0];N&&(M=N);break}case"initialPlacement":M=i;break}if(o!==M)return{reset:{placement:M}}}return{}}}};function Ri(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ai(e){return Pf.some(t=>e[t]>=0)}const qf=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Ht(e,t);switch(r){case"referenceHidden":{const s=await yr(t,{...o,elementContext:"reference"}),a=Ri(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Ai(a)}}}case"escaped":{const s=await yr(t,{...o,altBoundary:!0}),a=Ri(s,n.floating);return{data:{escapedOffsets:a,escaped:Ai(a)}}}default:return{}}}}};function dc(e){const t=Mt(...e.map(s=>s.left)),n=Mt(...e.map(s=>s.top)),r=Ze(...e.map(s=>s.right)),o=Ze(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:o-n}}function Yf(e){const t=e.slice().sort((o,s)=>o.y-s.y),n=[];let r=null;for(let o=0;o<t.length;o++){const s=t[o];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(o=>Gn(dc(o)))}const Xf=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:s,strategy:a}=t,{padding:i=2,x:u,y:c}=Ht(e,t),d=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),p=Yf(d),f=Gn(dc(d)),m=Ks(i);function g(){if(p.length===2&&p[0].left>p[1].right&&u!=null&&c!=null)return p.find(v=>u>v.left-m.left&&u<v.right+m.right&&c>v.top-m.top&&c<v.bottom+m.bottom)||f;if(p.length>=2){if(jt(n)==="y"){const B=p[0],I=p[p.length-1],T=_t(n)==="top",L=B.top,D=I.bottom,$=T?B.left:I.left,M=T?B.right:I.right,N=M-$,R=D-L;return{top:L,bottom:D,left:$,right:M,width:N,height:R,x:$,y:L}}const v=_t(n)==="left",w=Ze(...p.map(B=>B.right)),S=Mt(...p.map(B=>B.left)),x=p.filter(B=>v?B.left===S:B.right===w),y=x[0].top,k=x[x.length-1].bottom,E=S,A=w,_=A-E,C=k-y;return{top:y,bottom:k,left:E,right:A,width:_,height:C,x:E,y}}return f}const b=await s.getElementRects({reference:{getBoundingClientRect:g},floating:r.floating,strategy:a});return o.reference.x!==b.reference.x||o.reference.y!==b.reference.y||o.reference.width!==b.reference.width||o.reference.height!==b.reference.height?{reset:{rects:b}}:{}}}},fc=new Set(["left","top"]);async function Zf(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=_t(n),i=Jn(n),u=jt(n)==="y",c=fc.has(a)?-1:1,d=s&&u?-1:1,p=Ht(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return i&&typeof g=="number"&&(m=i==="end"?g*-1:g),u?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const Qf=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:a,middlewareData:i}=t,u=await Zf(t,e);return a===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:s+u.y,data:{...u,placement:a}}}}},Jf=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:i={fn:v=>{let{x:w,y:S}=v;return{x:w,y:S}}},...u}=Ht(e,t),c={x:n,y:r},d=await yr(t,u),p=jt(_t(o)),f=Hs(p);let m=c[f],g=c[p];if(s){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",S=m+d[v],x=m-d[w];m=gs(S,m,x)}if(a){const v=p==="y"?"top":"left",w=p==="y"?"bottom":"right",S=g+d[v],x=g-d[w];g=gs(S,g,x)}const b=i.fn({...t,[f]:m,[p]:g});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[f]:s,[p]:a}}}}}},eh=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:a}=t,{offset:i=0,mainAxis:u=!0,crossAxis:c=!0}=Ht(e,t),d={x:n,y:r},p=jt(o),f=Hs(p);let m=d[f],g=d[p];const b=Ht(i,t),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const x=f==="y"?"height":"width",y=s.reference[f]-s.floating[x]+v.mainAxis,k=s.reference[f]+s.reference[x]-v.mainAxis;m<y?m=y:m>k&&(m=k)}if(c){var w,S;const x=f==="y"?"width":"height",y=fc.has(_t(o)),k=s.reference[p]-s.floating[x]+(y&&((w=a.offset)==null?void 0:w[p])||0)+(y?0:v.crossAxis),E=s.reference[p]+s.reference[x]+(y?0:((S=a.offset)==null?void 0:S[p])||0)-(y?v.crossAxis:0);g<k?g=k:g>E&&(g=E)}return{[f]:m,[p]:g}}}},th=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:a,elements:i}=t,{apply:u=()=>{},...c}=Ht(e,t),d=await yr(t,c),p=_t(o),f=Jn(o),m=jt(o)==="y",{width:g,height:b}=s.floating;let v,w;p==="top"||p==="bottom"?(v=p,w=f===(await(a.isRTL==null?void 0:a.isRTL(i.floating))?"start":"end")?"left":"right"):(w=p,v=f==="end"?"top":"bottom");const S=b-d.top-d.bottom,x=g-d.left-d.right,y=Mt(b-d[v],S),k=Mt(g-d[w],x),E=!t.middlewareData.shift;let A=y,_=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(A=S),E&&!f){const B=Ze(d.left,0),I=Ze(d.right,0),T=Ze(d.top,0),L=Ze(d.bottom,0);m?_=g-2*(B!==0||I!==0?B+I:Ze(d.left,d.right)):A=b-2*(T!==0||L!==0?T+L:Ze(d.top,d.bottom))}await u({...t,availableWidth:_,availableHeight:A});const C=await a.getDimensions(i.floating);return g!==C.width||b!==C.height?{reset:{rects:!0}}:{}}}};function hc(e){const t=xt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=gt(e),s=o?e.offsetWidth:n,a=o?e.offsetHeight:r,i=qr(n)!==s||qr(r)!==a;return i&&(n=s,r=a),{width:n,height:r,$:i}}function qs(e){return Oe(e)?e:e.contextElement}function Un(e){const t=qs(e);if(!gt(t))return Ut(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=hc(t);let a=(s?qr(n.width):n.width)/r,i=(s?qr(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const nh=Ut(0);function pc(e){const t=ht(e);return!mo()||!t.visualViewport?nh:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rh(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ht(e)?!1:t}function Mn(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=qs(e);let a=Ut(1);t&&(r?Oe(r)&&(a=Un(r)):a=Un(e));const i=rh(s,n,r)?pc(s):Ut(0);let u=(o.left+i.x)/a.x,c=(o.top+i.y)/a.y,d=o.width/a.x,p=o.height/a.y;if(s){const f=ht(s),m=r&&Oe(r)?ht(r):r;let g=f,b=ps(g);for(;b&&r&&m!==g;){const v=Un(b),w=b.getBoundingClientRect(),S=xt(b),x=w.left+(b.clientLeft+parseFloat(S.paddingLeft))*v.x,y=w.top+(b.clientTop+parseFloat(S.paddingTop))*v.y;u*=v.x,c*=v.y,d*=v.x,p*=v.y,u+=x,c+=y,g=ht(b),b=ps(g)}}return Gn({width:d,height:p,x:u,y:c})}function bo(e,t){const n=go(e).scrollLeft;return t?t.left+n:Mn(Gt(e)).left+n}function mc(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-bo(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function oh(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",a=Gt(r),i=t?po(t.floating):!1;if(r===a||i&&s)return n;let u={scrollLeft:0,scrollTop:0},c=Ut(1);const d=Ut(0),p=gt(r);if((p||!p&&!s)&&((Qn(r)!=="body"||Tr(a))&&(u=go(r)),gt(r))){const m=Mn(r);c=Un(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=a&&!p&&!s?mc(a,u):Ut(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-u.scrollTop*c.y+d.y+f.y}}function sh(e){return Array.from(e.getClientRects())}function ah(e){const t=Gt(e),n=go(e),r=e.ownerDocument.body,o=Ze(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ze(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+bo(e);const i=-n.scrollTop;return xt(r).direction==="rtl"&&(a+=Ze(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:a,y:i}}const ji=25;function ih(e,t){const n=ht(e),r=Gt(e),o=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,i=0,u=0;if(o){s=o.width,a=o.height;const d=mo();(!d||d&&t==="fixed")&&(i=o.offsetLeft,u=o.offsetTop)}const c=bo(r);if(c<=0){const d=r.ownerDocument,p=d.body,f=getComputedStyle(p),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(r.clientWidth-p.clientWidth-m);g<=ji&&(s-=g)}else c<=ji&&(s+=c);return{width:s,height:a,x:i,y:u}}const lh=new Set(["absolute","fixed"]);function ch(e,t){const n=Mn(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=gt(e)?Un(e):Ut(1),a=e.clientWidth*s.x,i=e.clientHeight*s.y,u=o*s.x,c=r*s.y;return{width:a,height:i,x:u,y:c}}function Ni(e,t,n){let r;if(t==="viewport")r=ih(e,n);else if(t==="document")r=ah(Gt(e));else if(Oe(t))r=ch(t,n);else{const o=pc(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Gn(r)}function gc(e,t){const n=tn(e);return n===t||!Oe(n)||fn(n)?!1:xt(n).position==="fixed"||gc(n,t)}function uh(e,t){const n=t.get(e);if(n)return n;let r=en(e,[],!1).filter(i=>Oe(i)&&Qn(i)!=="body"),o=null;const s=xt(e).position==="fixed";let a=s?tn(e):e;for(;Oe(a)&&!fn(a);){const i=xt(a),u=Vs(a);!u&&i.position==="fixed"&&(o=null),(s?!u&&!o:!u&&i.position==="static"&&!!o&&lh.has(o.position)||Tr(a)&&!u&&gc(e,a))?r=r.filter(d=>d!==a):o=i,a=tn(a)}return t.set(e,r),r}function dh(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?po(t)?[]:uh(t,this._c):[].concat(n),r],i=a[0],u=a.reduce((c,d)=>{const p=Ni(t,d,o);return c.top=Ze(p.top,c.top),c.right=Mt(p.right,c.right),c.bottom=Mt(p.bottom,c.bottom),c.left=Ze(p.left,c.left),c},Ni(t,i,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function fh(e){const{width:t,height:n}=hc(e);return{width:t,height:n}}function hh(e,t,n){const r=gt(t),o=Gt(t),s=n==="fixed",a=Mn(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const u=Ut(0);function c(){u.x=bo(o)}if(r||!r&&!s)if((Qn(t)!=="body"||Tr(o))&&(i=go(t)),r){const m=Mn(t,!0,s,t);u.x=m.x+t.clientLeft,u.y=m.y+t.clientTop}else o&&c();s&&!r&&o&&c();const d=o&&!r&&!s?mc(o,i):Ut(0),p=a.left+i.scrollLeft-u.x-d.x,f=a.top+i.scrollTop-u.y-d.y;return{x:p,y:f,width:a.width,height:a.height}}function Ho(e){return xt(e).position==="static"}function Mi(e,t){if(!gt(e)||xt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Gt(e)===n&&(n=n.ownerDocument.body),n}function bc(e,t){const n=ht(e);if(po(e))return n;if(!gt(e)){let o=tn(e);for(;o&&!fn(o);){if(Oe(o)&&!Ho(o))return o;o=tn(o)}return n}let r=Mi(e,t);for(;r&&yf(r)&&Ho(r);)r=Mi(r,t);return r&&fn(r)&&Ho(r)&&!Vs(r)?n:r||Cf(e)||n}const ph=async function(e){const t=this.getOffsetParent||bc,n=this.getDimensions,r=await n(e.floating);return{reference:hh(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mh(e){return xt(e).direction==="rtl"}const gh={convertOffsetParentRelativeRectToViewportRelativeRect:oh,getDocumentElement:Gt,getClippingRect:dh,getOffsetParent:bc,getElementRects:ph,getClientRects:sh,getDimensions:fh,getScale:Un,isElement:Oe,isRTL:mh};function vc(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bh(e,t){let n=null,r;const o=Gt(e);function s(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function a(i,u){i===void 0&&(i=!1),u===void 0&&(u=1),s();const c=e.getBoundingClientRect(),{left:d,top:p,width:f,height:m}=c;if(i||t(),!f||!m)return;const g=_r(p),b=_r(o.clientWidth-(d+f)),v=_r(o.clientHeight-(p+m)),w=_r(d),x={rootMargin:-g+"px "+-b+"px "+-v+"px "+-w+"px",threshold:Ze(0,Mt(1,u))||1};let y=!0;function k(E){const A=E[0].intersectionRatio;if(A!==u){if(!y)return a();A?a(!1,A):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!vc(c,e.getBoundingClientRect())&&a(),y=!1}try{n=new IntersectionObserver(k,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(e)}return a(!0),s}function vs(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=qs(e),d=o||s?[...c?en(c):[],...en(t)]:[];d.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const p=c&&i?bh(c,n):null;let f=-1,m=null;a&&(m=new ResizeObserver(w=>{let[S]=w;S&&S.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),c&&!u&&m.observe(c),m.observe(t));let g,b=u?Mn(e):null;u&&v();function v(){const w=Mn(e);b&&!vc(b,w)&&n(),b=w,g=requestAnimationFrame(v)}return n(),()=>{var w;d.forEach(S=>{o&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),p==null||p(),(w=m)==null||w.disconnect(),m=null,u&&cancelAnimationFrame(g)}}const vh=Qf,yh=Jf,xh=Kf,wh=th,Sh=qf,_i=Gf,kh=Xf,Ch=eh,Th=(e,t,n)=>{const r=new Map,o={platform:gh,...n},s={...o.platform,_c:r};return Wf(e,t,{...o,platform:s})};var Eh=typeof document<"u",Rh=function(){},Fr=Eh?h.useLayoutEffect:Rh;function Xr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Xr(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Xr(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function yc(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ii(e,t){const n=yc(e);return Math.round(t*n)/n}function Wo(e){const t=h.useRef(e);return Fr(()=>{t.current=e}),t}function Ah(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:a}={},transform:i=!0,whileElementsMounted:u,open:c}=e,[d,p]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=h.useState(r);Xr(f,r)||m(r);const[g,b]=h.useState(null),[v,w]=h.useState(null),S=h.useCallback(R=>{R!==E.current&&(E.current=R,b(R))},[]),x=h.useCallback(R=>{R!==A.current&&(A.current=R,w(R))},[]),y=s||g,k=a||v,E=h.useRef(null),A=h.useRef(null),_=h.useRef(d),C=u!=null,B=Wo(u),I=Wo(o),T=Wo(c),L=h.useCallback(()=>{if(!E.current||!A.current)return;const R={placement:t,strategy:n,middleware:f};I.current&&(R.platform=I.current),Th(E.current,A.current,R).then(O=>{const F={...O,isPositioned:T.current!==!1};D.current&&!Xr(_.current,F)&&(_.current=F,Os.flushSync(()=>{p(F)}))})},[f,t,n,I,T]);Fr(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,p(R=>({...R,isPositioned:!1})))},[c]);const D=h.useRef(!1);Fr(()=>(D.current=!0,()=>{D.current=!1}),[]),Fr(()=>{if(y&&(E.current=y),k&&(A.current=k),y&&k){if(B.current)return B.current(y,k,L);L()}},[y,k,L,B,C]);const $=h.useMemo(()=>({reference:E,floating:A,setReference:S,setFloating:x}),[S,x]),M=h.useMemo(()=>({reference:y,floating:k}),[y,k]),N=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!M.floating)return R;const O=Ii(M.floating,d.x),F=Ii(M.floating,d.y);return i?{...R,transform:"translate("+O+"px, "+F+"px)",...yc(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:F}},[n,i,M.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:L,refs:$,elements:M,floatingStyles:N}),[d,L,$,M,N])}const jh=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?_i({element:r.current,padding:o}).fn(n):{}:r?_i({element:r,padding:o}).fn(n):{}}}},xc=(e,t)=>({...vh(e),options:[e,t]}),Ys=(e,t)=>({...yh(e),options:[e,t]}),Pi=(e,t)=>({...Ch(e),options:[e,t]}),Zr=(e,t)=>({...xh(e),options:[e,t]}),Nh=(e,t)=>({...wh(e),options:[e,t]}),Mh=(e,t)=>({...Sh(e),options:[e,t]}),gr=(e,t)=>({...kh(e),options:[e,t]}),wc=(e,t)=>({...jh(e),options:[e,t]});function Sc(e){return h.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const kc={...Md},_h=kc.useInsertionEffect,Ih=_h||(e=>e());function Zt(e){const t=h.useRef(()=>{});return Ih(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Vt=typeof document<"u"?h.useLayoutEffect:h.useEffect;let Di=!1,Ph=0;const Oi=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Ph++;function Dh(){const[e,t]=h.useState(()=>Di?Oi():void 0);return Vt(()=>{e==null&&t(Oi())},[]),h.useEffect(()=>{Di=!0},[]),e}const Oh=kc.useId,Cc=Oh||Dh;function Lh(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const $h=h.createContext(null),zh=h.createContext(null),Xs=()=>{var e;return((e=h.useContext($h))==null?void 0:e.id)||null},Zs=()=>h.useContext(zh);function Qs(e){return"data-floating-ui-"+e}function Go(e){const t=h.useRef(e);return Vt(()=>{t.current=e}),t}const Li=Qs("safe-polygon");function Br(e,t,n){return n&&!ms(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Fh(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:s,elements:a}=e,{enabled:i=!0,delay:u=0,handleClose:c=null,mouseOnly:d=!1,restMs:p=0,move:f=!0}=t,m=Zs(),g=Xs(),b=Go(c),v=Go(u),w=Go(n),S=h.useRef(),x=h.useRef(-1),y=h.useRef(),k=h.useRef(-1),E=h.useRef(!0),A=h.useRef(!1),_=h.useRef(()=>{}),C=h.useRef(!1),B=h.useCallback(()=>{var N;const R=(N=o.current.openEvent)==null?void 0:N.type;return(R==null?void 0:R.includes("mouse"))&&R!=="mousedown"},[o]);h.useEffect(()=>{if(!i)return;function N(R){let{open:O}=R;O||(clearTimeout(x.current),clearTimeout(k.current),E.current=!0,C.current=!1)}return s.on("openchange",N),()=>{s.off("openchange",N)}},[i,s]),h.useEffect(()=>{if(!i||!b.current||!n)return;function N(O){B()&&r(!1,O,"hover")}const R=En(a.floating).documentElement;return R.addEventListener("mouseleave",N),()=>{R.removeEventListener("mouseleave",N)}},[a.floating,n,r,i,b,B]);const I=h.useCallback(function(N,R,O){R===void 0&&(R=!0),O===void 0&&(O="hover");const F=Br(v.current,"close",S.current);F&&!y.current?(clearTimeout(x.current),x.current=window.setTimeout(()=>r(!1,N,O),F)):R&&(clearTimeout(x.current),r(!1,N,O))},[v,r]),T=Zt(()=>{_.current(),y.current=void 0}),L=Zt(()=>{if(A.current){const N=En(a.floating).body;N.style.pointerEvents="",N.removeAttribute(Li),A.current=!1}}),D=Zt(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);h.useEffect(()=>{if(!i)return;function N(z){if(clearTimeout(x.current),E.current=!1,d&&!ms(S.current)||p>0&&!Br(v.current,"open"))return;const W=Br(v.current,"open",S.current);W?x.current=window.setTimeout(()=>{w.current||r(!0,z,"hover")},W):n||r(!0,z,"hover")}function R(z){if(D())return;_.current();const W=En(a.floating);if(clearTimeout(k.current),C.current=!1,b.current&&o.current.floatingContext){n||clearTimeout(x.current),y.current=b.current({...o.current.floatingContext,tree:m,x:z.clientX,y:z.clientY,onClose(){L(),T(),D()||I(z,!0,"safe-polygon")}});const Y=y.current;W.addEventListener("mousemove",Y),_.current=()=>{W.removeEventListener("mousemove",Y)};return}(S.current==="touch"?!vr(a.floating,z.relatedTarget):!0)&&I(z)}function O(z){D()||o.current.floatingContext&&(b.current==null||b.current({...o.current.floatingContext,tree:m,x:z.clientX,y:z.clientY,onClose(){L(),T(),D()||I(z)}})(z))}if(Oe(a.domReference)){var F;const z=a.domReference;return n&&z.addEventListener("mouseleave",O),(F=a.floating)==null||F.addEventListener("mouseleave",O),f&&z.addEventListener("mousemove",N,{once:!0}),z.addEventListener("mouseenter",N),z.addEventListener("mouseleave",R),()=>{var W;n&&z.removeEventListener("mouseleave",O),(W=a.floating)==null||W.removeEventListener("mouseleave",O),f&&z.removeEventListener("mousemove",N),z.removeEventListener("mouseenter",N),z.removeEventListener("mouseleave",R)}}},[a,i,e,d,p,f,I,T,L,r,n,w,m,v,b,o,D]),Vt(()=>{var N;if(i&&n&&(N=b.current)!=null&&N.__options.blockPointerEvents&&B()){A.current=!0;const O=a.floating;if(Oe(a.domReference)&&O){var R;const F=En(a.floating).body;F.setAttribute(Li,"");const z=a.domReference,W=m==null||(R=m.nodesRef.current.find(H=>H.id===g))==null||(R=R.context)==null?void 0:R.elements.floating;return W&&(W.style.pointerEvents=""),F.style.pointerEvents="none",z.style.pointerEvents="auto",O.style.pointerEvents="auto",()=>{F.style.pointerEvents="",z.style.pointerEvents="",O.style.pointerEvents=""}}}},[i,n,g,a,m,b,B]),Vt(()=>{n||(S.current=void 0,C.current=!1,T(),L())},[n,T,L]),h.useEffect(()=>()=>{T(),clearTimeout(x.current),clearTimeout(k.current),L()},[i,a.domReference,T,L]);const $=h.useMemo(()=>{function N(R){S.current=R.pointerType}return{onPointerDown:N,onPointerEnter:N,onMouseMove(R){const{nativeEvent:O}=R;function F(){!E.current&&!w.current&&r(!0,O,"hover")}d&&!ms(S.current)||n||p===0||C.current&&R.movementX**2+R.movementY**2<2||(clearTimeout(k.current),S.current==="touch"?F():(C.current=!0,k.current=window.setTimeout(F,p)))}}},[d,r,n,w,p]),M=h.useMemo(()=>({onMouseEnter(){clearTimeout(x.current)},onMouseLeave(N){D()||I(N.nativeEvent,!1)}}),[I,D]);return h.useMemo(()=>i?{reference:$,floating:M}:{},[i,$,M])}const ys=()=>{},Tc=h.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:ys,setState:ys,isInstantPhase:!1}),Bh=()=>h.useContext(Tc);function Uh(e){const{children:t,delay:n,timeoutMs:r=0}=e,[o,s]=h.useReducer((u,c)=>({...u,...c}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),a=h.useRef(null),i=h.useCallback(u=>{s({currentId:u})},[]);return Vt(()=>{o.currentId?a.current===null?a.current=o.currentId:o.isInstantPhase||s({isInstantPhase:!0}):(o.isInstantPhase&&s({isInstantPhase:!1}),a.current=null)},[o.currentId,o.isInstantPhase]),h.createElement(Tc.Provider,{value:h.useMemo(()=>({...o,setState:s,setCurrentId:i}),[o,i])},t)}function Vh(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:o}=e,{id:s,enabled:a=!0}=t,i=s??o,u=Bh(),{currentId:c,setCurrentId:d,initialDelay:p,setState:f,timeoutMs:m}=u;return Vt(()=>{a&&c&&(f({delay:{open:1,close:Br(p,"close")}}),c!==i&&r(!1))},[a,i,r,f,c,p]),Vt(()=>{function g(){r(!1),f({delay:p,currentId:null})}if(a&&c&&!n&&c===i){if(m){const b=window.setTimeout(g,m);return()=>{clearTimeout(b)}}g()}},[a,n,f,c,i,r,p,m]),Vt(()=>{a&&(d===ys||!n||d(i))},[a,n,d,i]),u}function Ko(e,t){let n=e.filter(o=>{var s;return o.parentId===t&&((s=o.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(o=>{var s;return(s=r)==null?void 0:s.some(a=>{var i;return o.parentId===a.id&&((i=o.context)==null?void 0:i.open)})}),n=n.concat(r);return n}const Hh="data-floating-ui-focusable",Wh={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Gh={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},$i=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Kh(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:s}=e,{enabled:a=!0,escapeKey:i=!0,outsidePress:u=!0,outsidePressEvent:c="pointerdown",referencePress:d=!1,referencePressEvent:p="pointerdown",ancestorScroll:f=!1,bubbles:m,capture:g}=t,b=Zs(),v=Zt(typeof u=="function"?u:()=>!1),w=typeof u=="function"?v:u,S=h.useRef(!1),x=h.useRef(!1),{escapeKey:y,outsidePress:k}=$i(m),{escapeKey:E,outsidePress:A}=$i(g),_=h.useRef(!1),C=Zt($=>{var M;if(!n||!a||!i||$.key!=="Escape"||_.current)return;const N=(M=s.current.floatingContext)==null?void 0:M.nodeId,R=b?Ko(b.nodesRef.current,N):[];if(!y&&($.stopPropagation(),R.length>0)){let O=!0;if(R.forEach(F=>{var z;if((z=F.context)!=null&&z.open&&!F.context.dataRef.current.__escapeKeyBubbles){O=!1;return}}),!O)return}r(!1,Nf($)?$.nativeEvent:$,"escape-key")}),B=Zt($=>{var M;const N=()=>{var R;C($),(R=Fn($))==null||R.removeEventListener("keydown",N)};(M=Fn($))==null||M.addEventListener("keydown",N)}),I=Zt($=>{var M;const N=S.current;S.current=!1;const R=x.current;if(x.current=!1,c==="click"&&R||N||typeof w=="function"&&!w($))return;const O=Fn($),F="["+Qs("inert")+"]",z=En(o.floating).querySelectorAll(F);let W=Oe(O)?O:null;for(;W&&!fn(W);){const U=tn(W);if(fn(U)||!Oe(U))break;W=U}if(z.length&&Oe(O)&&!Mf(O)&&!vr(O,o.floating)&&Array.from(z).every(U=>!vr(W,U)))return;if(gt(O)&&D){const U=O.clientWidth>0&&O.scrollWidth>O.clientWidth,ee=O.clientHeight>0&&O.scrollHeight>O.clientHeight;let se=ee&&$.offsetX>O.clientWidth;if(ee&&xt(O).direction==="rtl"&&(se=$.offsetX<=O.offsetWidth-O.clientWidth),se||U&&$.offsetY>O.clientHeight)return}const H=(M=s.current.floatingContext)==null?void 0:M.nodeId,Y=b&&Ko(b.nodesRef.current,H).some(U=>{var ee;return Vo($,(ee=U.context)==null?void 0:ee.elements.floating)});if(Vo($,o.floating)||Vo($,o.domReference)||Y)return;const J=b?Ko(b.nodesRef.current,H):[];if(J.length>0){let U=!0;if(J.forEach(ee=>{var se;if((se=ee.context)!=null&&se.open&&!ee.context.dataRef.current.__outsidePressBubbles){U=!1;return}}),!U)return}r(!1,$,"outside-press")}),T=Zt($=>{var M;const N=()=>{var R;I($),(R=Fn($))==null||R.removeEventListener(c,N)};(M=Fn($))==null||M.addEventListener(c,N)});h.useEffect(()=>{if(!n||!a)return;s.current.__escapeKeyBubbles=y,s.current.__outsidePressBubbles=k;let $=-1;function M(z){r(!1,z,"ancestor-scroll")}function N(){window.clearTimeout($),_.current=!0}function R(){$=window.setTimeout(()=>{_.current=!1},mo()?5:0)}const O=En(o.floating);i&&(O.addEventListener("keydown",E?B:C,E),O.addEventListener("compositionstart",N),O.addEventListener("compositionend",R)),w&&O.addEventListener(c,A?T:I,A);let F=[];return f&&(Oe(o.domReference)&&(F=en(o.domReference)),Oe(o.floating)&&(F=F.concat(en(o.floating))),!Oe(o.reference)&&o.reference&&o.reference.contextElement&&(F=F.concat(en(o.reference.contextElement)))),F=F.filter(z=>{var W;return z!==((W=O.defaultView)==null?void 0:W.visualViewport)}),F.forEach(z=>{z.addEventListener("scroll",M,{passive:!0})}),()=>{i&&(O.removeEventListener("keydown",E?B:C,E),O.removeEventListener("compositionstart",N),O.removeEventListener("compositionend",R)),w&&O.removeEventListener(c,A?T:I,A),F.forEach(z=>{z.removeEventListener("scroll",M)}),window.clearTimeout($)}},[s,o,i,w,c,n,r,f,a,y,k,C,E,B,I,A,T]),h.useEffect(()=>{S.current=!1},[w,c]);const L=h.useMemo(()=>({onKeyDown:C,[Wh[p]]:$=>{d&&r(!1,$.nativeEvent,"reference-press")}}),[C,r,d,p]),D=h.useMemo(()=>({onKeyDown:C,onMouseDown(){x.current=!0},onMouseUp(){x.current=!0},[Gh[c]]:()=>{S.current=!0}}),[C,c]);return h.useMemo(()=>a?{reference:L,floating:D}:{},[a,L,D])}function qh(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Cc(),s=h.useRef({}),[a]=h.useState(()=>Lh()),i=Xs()!=null,[u,c]=h.useState(r.reference),d=Zt((m,g,b)=>{s.current.openEvent=m?g:void 0,a.emit("openchange",{open:m,event:g,reason:b,nested:i}),n==null||n(m,g,b)}),p=h.useMemo(()=>({setPositionReference:c}),[]),f=h.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return h.useMemo(()=>({dataRef:s,open:t,onOpenChange:d,elements:f,events:a,floatingId:o,refs:p}),[t,d,f,a,o,p])}function Js(e){e===void 0&&(e={});const{nodeId:t}=e,n=qh({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[s,a]=h.useState(null),[i,u]=h.useState(null),d=(o==null?void 0:o.domReference)||s,p=h.useRef(null),f=Zs();Vt(()=>{d&&(p.current=d)},[d]);const m=Ah({...e,elements:{...o,...i&&{reference:i}}}),g=h.useCallback(x=>{const y=Oe(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;u(y),m.refs.setReference(y)},[m.refs]),b=h.useCallback(x=>{(Oe(x)||x===null)&&(p.current=x,a(x)),(Oe(m.refs.reference.current)||m.refs.reference.current===null||x!==null&&!Oe(x))&&m.refs.setReference(x)},[m.refs]),v=h.useMemo(()=>({...m.refs,setReference:b,setPositionReference:g,domReference:p}),[m.refs,b,g]),w=h.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),S=h.useMemo(()=>({...m,...r,refs:v,elements:w,nodeId:t}),[m,v,w,t,r]);return Vt(()=>{r.dataRef.current.floatingContext=S;const x=f==null?void 0:f.nodesRef.current.find(y=>y.id===t);x&&(x.context=S)}),h.useMemo(()=>({...m,context:S,refs:v,elements:w}),[m,v,w,S])}function Yh(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:s,elements:a}=e,{enabled:i=!0,visibleOnly:u=!0}=t,c=h.useRef(!1),d=h.useRef(),p=h.useRef(!0);h.useEffect(()=>{if(!i)return;const m=ht(a.domReference);function g(){!n&&gt(a.domReference)&&a.domReference===Si(En(a.domReference))&&(c.current=!0)}function b(){p.current=!0}return m.addEventListener("blur",g),m.addEventListener("keydown",b,!0),()=>{m.removeEventListener("blur",g),m.removeEventListener("keydown",b,!0)}},[a.domReference,n,i]),h.useEffect(()=>{if(!i)return;function m(g){let{reason:b}=g;(b==="reference-press"||b==="escape-key")&&(c.current=!0)}return o.on("openchange",m),()=>{o.off("openchange",m)}},[o,i]),h.useEffect(()=>()=>{clearTimeout(d.current)},[]);const f=h.useMemo(()=>({onPointerDown(m){Ef(m.nativeEvent)||(p.current=!1)},onMouseLeave(){c.current=!1},onFocus(m){if(c.current)return;const g=Fn(m.nativeEvent);if(u&&Oe(g))try{if(Rf()&&Af())throw Error();if(!g.matches(":focus-visible"))return}catch{if(!p.current&&!If(g))return}r(!0,m.nativeEvent,"focus")},onBlur(m){c.current=!1;const g=m.relatedTarget,b=m.nativeEvent,v=Oe(g)&&g.hasAttribute(Qs("focus-guard"))&&g.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var w;const S=Si(a.domReference?a.domReference.ownerDocument:document);!g&&S===a.domReference||vr((w=s.current.floatingContext)==null?void 0:w.refs.floating.current,S)||vr(a.domReference,S)||v||r(!1,b,"focus")})}}),[s,a.domReference,r,u]);return h.useMemo(()=>i?{reference:f}:{},[i,f])}const zi="active",Fi="selected";function qo(e,t,n){const r=new Map,o=n==="item";let s=e;if(o&&e){const{[zi]:a,[Fi]:i,...u}=e;s=u}return{...n==="floating"&&{tabIndex:-1,[Hh]:""},...s,...t.map(a=>{const i=a?a[n]:null;return typeof i=="function"?e?i(e):null:i}).concat(e).reduce((a,i)=>(i&&Object.entries(i).forEach(u=>{let[c,d]=u;if(!(o&&[zi,Fi].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof d=="function"){var p;(p=r.get(c))==null||p.push(d),a[c]=function(){for(var f,m=arguments.length,g=new Array(m),b=0;b<m;b++)g[b]=arguments[b];return(f=r.get(c))==null?void 0:f.map(v=>v(...g)).find(v=>v!==void 0)}}}else a[c]=d}),a),{})}}function Xh(e){e===void 0&&(e=[]);const t=e.map(i=>i==null?void 0:i.reference),n=e.map(i=>i==null?void 0:i.floating),r=e.map(i=>i==null?void 0:i.item),o=h.useCallback(i=>qo(i,e,"reference"),t),s=h.useCallback(i=>qo(i,e,"floating"),n),a=h.useCallback(i=>qo(i,e,"item"),r);return h.useMemo(()=>({getReferenceProps:o,getFloatingProps:s,getItemProps:a}),[o,s,a])}const Zh=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Qh(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:s=!0,role:a="dialog"}=t,i=(n=Zh.get(a))!=null?n:a,u=Cc(),d=Xs()!=null,p=h.useMemo(()=>i==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":r?o:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:u},...i==="menu"&&d&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[i,o,d,r,u,a]),f=h.useMemo(()=>{const g={id:o,...i&&{role:i}};return i==="tooltip"||a==="label"?g:{...g,...i==="menu"&&{"aria-labelledby":u}}},[i,o,u,a]),m=h.useCallback(g=>{let{active:b,selected:v}=g;const w={role:"option",...b&&{id:o+"-option"}};switch(a){case"select":return{...w,"aria-selected":b&&v};case"combobox":return{...w,...b&&{"aria-selected":!0}}}return{}},[o,a]);return h.useMemo(()=>s?{reference:p,floating:f,item:m}:{},[s,p,f,m])}const[Jh,kt]=on("ScrollArea.Root component was not found in tree");function Kn(e,t){const n=Cn(t);Ls(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const ep=h.forwardRef((e,t)=>{const{style:n,...r}=e,o=kt(),[s,a]=h.useState(0),[i,u]=h.useState(0),c=!!(s&&i);return Kn(o.scrollbarX,()=>{var p;const d=((p=o.scrollbarX)==null?void 0:p.offsetHeight)||0;o.onCornerHeightChange(d),u(d)}),Kn(o.scrollbarY,()=>{var p;const d=((p=o.scrollbarY)==null?void 0:p.offsetWidth)||0;o.onCornerWidthChange(d),a(d)}),c?l.jsx("div",{...r,ref:t,style:{...n,width:s,height:i}}):null}),tp=h.forwardRef((e,t)=>{const n=kt(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(ep,{...e,ref:t}):null}),np={scrollHideDelay:1e3,type:"hover"},Ec=h.forwardRef((e,t)=>{const{type:n,scrollHideDelay:r,scrollbars:o,getStyles:s,...a}=q("ScrollAreaRoot",np,e),[i,u]=h.useState(null),[c,d]=h.useState(null),[p,f]=h.useState(null),[m,g]=h.useState(null),[b,v]=h.useState(null),[w,S]=h.useState(0),[x,y]=h.useState(0),[k,E]=h.useState(!1),[A,_]=h.useState(!1),C=Be(t,B=>u(B));return l.jsx(Jh,{value:{type:n,scrollHideDelay:r,scrollArea:i,viewport:c,onViewportChange:d,content:p,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:k,onScrollbarXEnabledChange:E,scrollbarY:b,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:_,onCornerWidthChange:S,onCornerHeightChange:y,getStyles:s},children:l.jsx(ne,{...a,ref:C,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${w}px`,"--sa-corner-height":o!=="xy"?"0px":`${x}px`}})})});Ec.displayName="@mantine/core/ScrollAreaRoot";function Rc(e,t){const n=e/t;return Number.isNaN(n)?0:n}function vo(e){const t=Rc(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Ac(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function rp(e,[t,n]){return Math.min(n,Math.max(t,e))}function Bi(e,t,n="ltr"){const r=vo(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,a=t.content-t.viewport,i=s-r,u=n==="ltr"?[0,a]:[a*-1,0],c=rp(e,u);return Ac([0,a],[0,i])(c)}function op(e,t,n,r="ltr"){const o=vo(n),s=o/2,a=t||s,i=o-a,u=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-i,d=n.content-n.viewport,p=r==="ltr"?[0,d]:[d*-1,0];return Ac([u,c],p)(e)}function jc(e,t){return e>0&&e<t}function Qr(e){return e?parseInt(e,10):0}function An(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[sp,Nc]=on("ScrollAreaScrollbar was not found in tree"),Mc=h.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:i,onDragScroll:u,onWheelScroll:c,onResize:d,...p}=e,f=kt(),[m,g]=h.useState(null),b=Be(t,_=>g(_)),v=h.useRef(null),w=h.useRef(""),{viewport:S}=f,x=n.content-n.viewport,y=Cn(c),k=Cn(i),E=uo(d,10),A=_=>{if(v.current){const C=_.clientX-v.current.left,B=_.clientY-v.current.top;u({x:C,y:B})}};return h.useEffect(()=>{const _=C=>{const B=C.target;(m==null?void 0:m.contains(B))&&y(C,x)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[S,m,x,y]),h.useEffect(k,[n,k]),Kn(m,E),Kn(f.content,E),l.jsx(sp,{value:{scrollbar:m,hasThumb:r,onThumbChange:Cn(o),onThumbPointerUp:Cn(s),onThumbPositionChange:k,onThumbPointerDown:Cn(a)},children:l.jsx("div",{...p,ref:b,"data-mantine-scrollbar":!0,style:{position:"absolute",...p.style},onPointerDown:An(e.onPointerDown,_=>{_.preventDefault(),_.button===0&&(_.target.setPointerCapture(_.pointerId),v.current=m.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A(_))}),onPointerMove:An(e.onPointerMove,A),onPointerUp:An(e.onPointerUp,_=>{const C=_.target;C.hasPointerCapture(_.pointerId)&&(_.preventDefault(),C.releasePointerCapture(_.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=w.current,v.current=null}})})}),_c=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...s}=e,a=kt(),[i,u]=h.useState(),c=h.useRef(null),d=Be(t,c,a.onScrollbarXChange);return h.useEffect(()=>{c.current&&u(getComputedStyle(c.current))},[c]),l.jsx(Mc,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{...o,"--sa-thumb-width":`${vo(n)}px`},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+p.deltaX;e.onWheelScroll(m),jc(m,f)&&p.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Qr(i.paddingLeft),paddingEnd:Qr(i.paddingRight)}})}})});_c.displayName="@mantine/core/ScrollAreaScrollbarX";const Ic=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...s}=e,a=kt(),[i,u]=h.useState(),c=h.useRef(null),d=Be(t,c,a.onScrollbarYChange);return h.useEffect(()=>{c.current&&u(window.getComputedStyle(c.current))},[]),l.jsx(Mc,{...s,"data-orientation":"vertical",ref:d,sizes:n,style:{"--sa-thumb-height":`${vo(n)}px`,...o},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,f)=>{if(a.viewport){const m=a.viewport.scrollTop+p.deltaY;e.onWheelScroll(m),jc(m,f)&&p.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Qr(i.paddingTop),paddingEnd:Qr(i.paddingBottom)}})}})});Ic.displayName="@mantine/core/ScrollAreaScrollbarY";const yo=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:o}=vn(),s=kt(),a=h.useRef(null),i=h.useRef(0),[u,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Rc(u.viewport,u.content),p={...r,sizes:u,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>{a.current=m},onThumbPointerUp:()=>{i.current=0},onThumbPointerDown:m=>{i.current=m}},f=(m,g)=>op(m,i.current,u,g);return n==="horizontal"?l.jsx(_c,{...p,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,g=Bi(m,u,o);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,o))}}):n==="vertical"?l.jsx(Ic,{...p,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,g=Bi(m,u);u.scrollbar.size===0?a.current.style.setProperty("--thumb-opacity","0"):a.current.style.setProperty("--thumb-opacity","1"),a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null});yo.displayName="@mantine/core/ScrollAreaScrollbarVisible";const ea=h.forwardRef((e,t)=>{const n=kt(),{forceMount:r,...o}=e,[s,a]=h.useState(!1),i=e.orientation==="horizontal",u=uo(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(i?c:d)}},10);return Kn(n.viewport,u),Kn(n.content,u),r||s?l.jsx(yo,{"data-state":s?"visible":"hidden",...o,ref:t}):null});ea.displayName="@mantine/core/ScrollAreaScrollbarAuto";const Pc=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=kt(),[s,a]=h.useState(!1);return h.useEffect(()=>{const{scrollArea:i}=o;let u=0;if(i){const c=()=>{window.clearTimeout(u),a(!0)},d=()=>{u=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",c),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),i.removeEventListener("pointerenter",c),i.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),n||s?l.jsx(ea,{"data-state":s?"visible":"hidden",...r,ref:t}):null});Pc.displayName="@mantine/core/ScrollAreaScrollbarHover";const ap=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=kt(),s=e.orientation==="horizontal",[a,i]=h.useState("hidden"),u=uo(()=>i("idle"),100);return h.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>i("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay]),h.useEffect(()=>{const{viewport:c}=o,d=s?"scrollLeft":"scrollTop";if(c){let p=c[d];const f=()=>{const m=c[d];p!==m&&(i("scrolling"),u()),p=m};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[o.viewport,s,u]),n||a!=="hidden"?l.jsx(yo,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:An(e.onPointerEnter,()=>i("interacting")),onPointerLeave:An(e.onPointerLeave,()=>i("idle"))}):null}),xs=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=kt(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=o,i=e.orientation==="horizontal";return h.useEffect(()=>(i?s(!0):a(!0),()=>{i?s(!1):a(!1)}),[i,s,a]),o.type==="hover"?l.jsx(Pc,{...r,ref:t,forceMount:n}):o.type==="scroll"?l.jsx(ap,{...r,ref:t,forceMount:n}):o.type==="auto"?l.jsx(ea,{...r,ref:t,forceMount:n}):o.type==="always"?l.jsx(yo,{...r,ref:t}):null});xs.displayName="@mantine/core/ScrollAreaScrollbar";function ip(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const s={left:e.scrollLeft,top:e.scrollTop},a=n.left!==s.left,i=n.top!==s.top;(a||i)&&t(),n=s,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)}const Dc=h.forwardRef((e,t)=>{const{style:n,...r}=e,o=kt(),s=Nc(),{onThumbPositionChange:a}=s,i=Be(t,d=>s.onThumbChange(d)),u=h.useRef(void 0),c=uo(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const{viewport:d}=o;if(d){const p=()=>{if(c(),!u.current){const f=ip(d,a);u.current=f,a()}};return a(),d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[o.viewport,c,a]),l.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:i,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:An(e.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),m=d.clientX-f.left,g=d.clientY-f.top;s.onThumbPointerDown({x:m,y:g})}),onPointerUp:An(e.onPointerUp,s.onThumbPointerUp)})});Dc.displayName="@mantine/core/ScrollAreaThumb";const ws=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Nc();return n||o.hasThumb?l.jsx(Dc,{ref:t,...r}):null});ws.displayName="@mantine/core/ScrollAreaThumb";const Oc=h.forwardRef(({children:e,style:t,...n},r)=>{const o=kt(),s=Be(r,o.onViewportChange);return l.jsx(ne,{...n,ref:s,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t},children:l.jsx("div",{...o.getStyles("content"),ref:o.onContentChange,children:e})})});Oc.displayName="@mantine/core/ScrollAreaViewport";var ta={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const Lc={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},lp=Ee((e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Se(t),"--scrollarea-over-scroll-behavior":n}})),hn=ae((e,t)=>{const n=q("ScrollArea",Lc,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,scrollbarSize:u,vars:c,type:d,scrollHideDelay:p,viewportProps:f,viewportRef:m,onScrollPositionChange:g,children:b,offsetScrollbars:v,scrollbars:w,onBottomReached:S,onTopReached:x,overscrollBehavior:y,attributes:k,...E}=n,[A,_]=h.useState(!1),[C,B]=h.useState(!1),[I,T]=h.useState(!1),L=be({name:"ScrollArea",props:n,classes:ta,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:k,vars:c,varsResolver:lp}),D=h.useRef(null),$=Sc([m,D]);return h.useEffect(()=>{if(!D.current||v!=="present")return;const M=D.current,N=new ResizeObserver(()=>{const{scrollHeight:R,clientHeight:O,scrollWidth:F,clientWidth:z}=M;B(R>O),T(F>z)});return N.observe(M),()=>N.disconnect()},[D,v]),l.jsxs(Ec,{getStyles:L,type:d==="never"?"always":d,scrollHideDelay:p,ref:t,scrollbars:w,...L("root"),...E,children:[l.jsx(Oc,{...f,...L("viewport",{style:f==null?void 0:f.style}),ref:$,"data-offset-scrollbars":v===!0?"xy":v||void 0,"data-scrollbars":w||void 0,"data-horizontal-hidden":v==="present"&&!I?"true":void 0,"data-vertical-hidden":v==="present"&&!C?"true":void 0,onScroll:M=>{var F;(F=f==null?void 0:f.onScroll)==null||F.call(f,M),g==null||g({x:M.currentTarget.scrollLeft,y:M.currentTarget.scrollTop});const{scrollTop:N,scrollHeight:R,clientHeight:O}=M.currentTarget;N-(R-O)>=-.6&&(S==null||S()),N===0&&(x==null||x())},children:b}),(w==="xy"||w==="x")&&l.jsx(xs,{...L("scrollbar"),orientation:"horizontal","data-hidden":d==="never"||v==="present"&&!I?!0:void 0,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:l.jsx(ws,{...L("thumb")})}),(w==="xy"||w==="y")&&l.jsx(xs,{...L("scrollbar"),orientation:"vertical","data-hidden":d==="never"||v==="present"&&!C?!0:void 0,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:l.jsx(ws,{...L("thumb")})}),l.jsx(tp,{...L("corner"),"data-hovered":A||void 0,"data-hidden":d==="never"||void 0})]})});hn.displayName="@mantine/core/ScrollArea";const na=ae((e,t)=>{const{children:n,classNames:r,styles:o,scrollbarSize:s,scrollHideDelay:a,type:i,dir:u,offsetScrollbars:c,viewportRef:d,onScrollPositionChange:p,unstyled:f,variant:m,viewportProps:g,scrollbars:b,style:v,vars:w,onBottomReached:S,onTopReached:x,onOverflowChange:y,...k}=q("ScrollAreaAutosize",Lc,e),E=h.useRef(null),A=Sc([d,E]),[_,C]=h.useState(!1),B=h.useRef(!1);return h.useEffect(()=>{if(!y)return;const I=E.current;if(!I)return;const T=()=>{const D=I.scrollHeight>I.clientHeight;D!==_&&(B.current?y==null||y(D):(B.current=!0,D&&(y==null||y(!0))),C(D))};T();const L=new ResizeObserver(T);return L.observe(I),()=>L.disconnect()},[y,_]),l.jsx(ne,{...k,ref:t,style:[{display:"flex",overflow:"hidden"},v],children:l.jsx(ne,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...b==="y"&&{minWidth:0},...b==="x"&&{minHeight:0},...b==="xy"&&{minWidth:0,minHeight:0},...b===!1&&{minWidth:0,minHeight:0}},children:l.jsx(hn,{classNames:r,styles:o,scrollHideDelay:a,scrollbarSize:s,type:i,dir:u,offsetScrollbars:c,viewportRef:A,onScrollPositionChange:p,unstyled:f,variant:m,viewportProps:g,vars:w,scrollbars:b,onBottomReached:S,onTopReached:x,"data-autosize":"true",children:n})})})});hn.classes=ta;na.displayName="@mantine/core/ScrollAreaAutosize";na.classes=ta;hn.Autosize=na;var $c={root:"m_515a97f8"};const ra=ae((e,t)=>{const n=q("VisuallyHidden",null,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,attributes:c,...d}=n,p=be({name:"VisuallyHidden",classes:$c,props:n,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:c});return l.jsx(ne,{component:"span",ref:t,...p("root"),...d})});ra.classes=$c;ra.displayName="@mantine/core/VisuallyHidden";var zc={root:"m_1b7284a3"};const cp=Ee((e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:et(t),"--paper-shadow":$s(n)}})),oa=It((e,t)=>{const n=q("Paper",null,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,withBorder:u,vars:c,radius:d,shadow:p,variant:f,mod:m,attributes:g,...b}=n,v=be({name:"Paper",props:n,classes:zc,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:g,vars:c,varsResolver:cp});return l.jsx(ne,{ref:t,mod:[{"data-with-border":u},m],...v("root"),variant:f,...b})});oa.classes=zc;oa.displayName="@mantine/core/Paper";function Ui(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Vi(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}const up={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function dp({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:s,arrowY:a,dir:i}){const[u,c="center"]=e.split("-"),d={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[up[u]]:r},p=-t/2;return u==="left"?{...d,...Ui(c,a,n,o),right:p,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:u==="right"?{...d,...Ui(c,a,n,o),left:p,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:u==="top"?{...d,...Vi(c,s,n,o,i),bottom:p,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:u==="bottom"?{...d,...Vi(c,s,n,o,i),top:p,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const Jr=h.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,visible:s,arrowX:a,arrowY:i,style:u,...c},d)=>{const{dir:p}=vn();return s?l.jsx("div",{...c,ref:d,style:{...u,...dp({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,dir:p,arrowX:a,arrowY:i})}}):null});Jr.displayName="@mantine/core/FloatingArrow";function Fc(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}var Bc={root:"m_9814e45f"};const fp={zIndex:nn("modal")},hp=Ee((e,{gradient:t,color:n,backgroundOpacity:r,blur:o,radius:s,zIndex:a})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Ld(n||"#000",r??.6)||void 0,"--overlay-filter":o?`blur(${Se(o)})`:void 0,"--overlay-radius":s===void 0?void 0:et(s),"--overlay-z-index":a==null?void 0:a.toString()}})),xo=It((e,t)=>{const n=q("Overlay",fp,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,fixed:c,center:d,children:p,radius:f,zIndex:m,gradient:g,blur:b,color:v,backgroundOpacity:w,mod:S,attributes:x,...y}=n,k=be({name:"Overlay",props:n,classes:Bc,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:x,vars:u,varsResolver:hp});return l.jsx(ne,{ref:t,...k("root"),mod:[{center:d,fixed:c},S],...y,children:p})});xo.classes=Bc;xo.displayName="@mantine/core/Overlay";const sr=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Ir={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...sr("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...sr("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...sr("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...sr("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...sr("top"),common:{transformOrigin:"top right"}}},Hi={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function pp({transition:e,state:t,duration:n,timingFunction:r}){const o={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Ir?{transitionProperty:Ir[e].transitionProperty,...o,...Ir[e].common,...Ir[e][Hi[t]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[Hi[t]]}}function mp({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:s,onEntered:a,onExited:i,enterDelay:u,exitDelay:c}){const d=Pn(),p=Ql(),f=d.respectReducedMotion?p:!1,[m,g]=h.useState(f?0:e),[b,v]=h.useState(r?"entered":"exited"),w=h.useRef(-1),S=h.useRef(-1),x=h.useRef(-1);function y(){window.clearTimeout(w.current),window.clearTimeout(S.current),cancelAnimationFrame(x.current)}const k=A=>{y();const _=A?o:s,C=A?a:i,B=f?0:A?e:t;g(B),B===0?(typeof _=="function"&&_(),typeof C=="function"&&C(),v(A?"entered":"exited")):x.current=requestAnimationFrame(()=>{_d.flushSync(()=>{v(A?"pre-entering":"pre-exiting")}),x.current=requestAnimationFrame(()=>{typeof _=="function"&&_(),v(A?"entering":"exiting"),w.current=window.setTimeout(()=>{typeof C=="function"&&C(),v(A?"entered":"exited")},B)})})},E=A=>{if(y(),typeof(A?u:c)!="number"){k(A);return}S.current=window.setTimeout(()=>{k(A)},A?u:c)};return Bt(()=>{E(r)},[r]),h.useEffect(()=>()=>{y()},[]),{transitionDuration:m,transitionStatus:b,transitionTimingFunction:n||"ease"}}function Wt({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:o,children:s,timingFunction:a="ease",onExit:i,onEntered:u,onEnter:c,onExited:d,enterDelay:p,exitDelay:f}){const m=zs(),{transitionDuration:g,transitionStatus:b,transitionTimingFunction:v}=mp({mounted:o,exitDuration:r,duration:n,timingFunction:a,onExit:i,onEntered:u,onEnter:c,onExited:d,enterDelay:p,exitDelay:f});return g===0||m==="test"?o?l.jsx(l.Fragment,{children:s({})}):e?s({display:"none"}):null:b==="exited"?e?s({display:"none"}):null:l.jsx(l.Fragment,{children:s(pp({transition:t,duration:g,state:b,timingFunction:v}))})}Wt.displayName="@mantine/core/Transition";const[gp,Uc]=on("Popover component was not found in the tree");function wo({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const o=of(t),s=Be(o,r);return rn(e)?h.cloneElement(e,{[n]:s}):e}function Vc(e){return l.jsx(ra,{tabIndex:-1,"data-autofocus":!0,...e})}wo.displayName="@mantine/core/FocusTrap";Vc.displayName="@mantine/core/FocusTrapInitialFocus";wo.InitialFocus=Vc;var Hc={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const sa=ae((e,t)=>{var v,w,S,x;const n=q("PopoverDropdown",null,e),{className:r,style:o,vars:s,children:a,onKeyDownCapture:i,variant:u,classNames:c,styles:d,...p}=n,f=Uc(),m=tc({opened:f.opened,shouldReturnFocus:f.returnFocus}),g=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},b=Be(t,f.floating);return f.disabled?null:l.jsx(Wn,{...f.portalProps,withinPortal:f.withinPortal,children:l.jsx(Wt,{mounted:f.opened,...f.transitionProps,transition:((v=f.transitionProps)==null?void 0:v.transition)||"fade",duration:((w=f.transitionProps)==null?void 0:w.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((S=f.transitionProps)==null?void 0:S.exitDuration)=="number"?f.transitionProps.exitDuration:(x=f.transitionProps)==null?void 0:x.duration,children:y=>l.jsx(wo,{active:f.trapFocus&&f.opened,innerRef:b,children:l.jsxs(ne,{...g,...p,variant:u,onKeyDownCapture:Yd(()=>{var k,E;(k=f.onClose)==null||k.call(f),(E=f.onDismiss)==null||E.call(f)},{active:f.closeOnEscape,onTrigger:m,onKeyDown:i}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:c,styles:d,style:[{...y,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:Se(f.width),...f.referenceHidden?{display:"none"}:null},f.resolvedStyles.dropdown,d==null?void 0:d.dropdown,o]}),children:[a,l.jsx(Jr,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:c,styles:d})})]})})})})});sa.classes=Hc;sa.displayName="@mantine/core/PopoverDropdown";const bp={refProp:"ref",popupType:"dialog"},Wc=ae((e,t)=>{const{children:n,refProp:r,popupType:o,...s}=q("PopoverTarget",bp,e);if(!rn(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=s,i=Uc(),u=Be(i.reference,fo(n),t),c=i.withRoles?{"aria-haspopup":o,"aria-expanded":i.opened,"aria-controls":i.getDropdownId(),id:i.getTargetId()}:{};return h.cloneElement(n,{...a,...c,...i.targetProps,className:Nt(i.targetProps.className,a.className,n.props.className),[r]:u,...i.controlled?null:{onClick:()=>{var d,p;i.onToggle(),(p=(d=n.props).onClick)==null||p.call(d)}}})});Wc.displayName="@mantine/core/PopoverTarget";function vp(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function yp(e,t,n){const r=vp(e.middlewares),o=[xc(e.offset),Mh()];return e.dropdownVisible&&n!=="test"&&e.preventPositionChangeWhenVisible&&(r.flip=!1,r.shift=!1),r.shift&&o.push(Ys(typeof r.shift=="boolean"?{limiter:Pi(),padding:5}:{limiter:Pi(),padding:5,...r.shift})),r.flip&&o.push(typeof r.flip=="boolean"?Zr():Zr(r.flip)),r.inline&&o.push(typeof r.inline=="boolean"?gr():gr(r.inline)),o.push(wc({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&o.push(Nh({...typeof r.size=="boolean"?{}:r.size,apply({rects:s,availableWidth:a,availableHeight:i,...u}){var p;const d=((p=t().refs.floating.current)==null?void 0:p.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:s,availableWidth:a,availableHeight:i,...u}):Object.assign(d,{maxWidth:`${a}px`,maxHeight:`${i}px`})),e.width==="target"&&Object.assign(d,{width:`${s.reference.width}px`})}})),o}function xp(e){const t=zs(),[n,r]=mt({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),o=h.useRef(n),s=()=>{n&&!e.disabled&&r(!1)},a=()=>{e.disabled||r(!n)},i=Js({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:yp(e,()=>i,t),whileElementsMounted:e.keepMounted?void 0:vs});return h.useEffect(()=>{if(!(!e.keepMounted||!i.refs.reference.current||!i.refs.floating.current)&&n)return vs(i.refs.reference.current,i.refs.floating.current,i.update)},[e.keepMounted,n,i.refs.reference,i.refs.floating,i.update]),Bt(()=>{var u;(u=e.onPositionChange)==null||u.call(e,i.placement),e.positionRef.current=i.placement},[i.placement]),Bt(()=>{var u,c;n!==o.current&&(n?(c=e.onOpen)==null||c.call(e):(u=e.onClose)==null||u.call(e)),o.current=n},[n,e.onClose,e.onOpen]),Bt(()=>{let u=-1;return n&&(u=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(u)}},[n,e.position]),{floating:i,controlled:typeof e.opened=="boolean",opened:n,onClose:s,onToggle:a}}const wp={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:nn("popover"),__staticSelector:"Popover",width:"max-content"},Sp=Ee((e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:et(t),"--popover-shadow":$s(n)}}));function qe(e){var Ve,Ot,Lt,ct,bt,$e,Ye;const t=q("Popover",wp,e),{children:n,position:r,offset:o,onPositionChange:s,positionDependencies:a,opened:i,transitionProps:u,onExitTransitionEnd:c,onEnterTransitionEnd:d,width:p,middlewares:f,withArrow:m,arrowSize:g,arrowOffset:b,arrowRadius:v,arrowPosition:w,unstyled:S,classNames:x,styles:y,closeOnClickOutside:k,withinPortal:E,portalProps:A,closeOnEscape:_,clickOutsideEvents:C,trapFocus:B,onClose:I,onDismiss:T,onOpen:L,onChange:D,zIndex:$,radius:M,shadow:N,id:R,defaultOpened:O,__staticSelector:F,withRoles:z,disabled:W,returnFocus:H,variant:Y,keepMounted:J,vars:U,floatingStrategy:ee,withOverlay:se,overlayProps:ue,hideDetached:ge,attributes:pe,preventPositionChangeWhenVisible:Ce,...he}=t,we=be({name:F,props:t,classes:Hc,classNames:x,styles:y,unstyled:S,attributes:pe,rootSelector:"dropdown",vars:U,varsResolver:Sp}),{resolvedStyles:xe}=Dn({classNames:x,styles:y,props:t}),[Ne,P]=h.useState(i??O??!1),V=h.useRef(r),G=h.useRef(null),[ie,ce]=h.useState(null),[re,te]=h.useState(null),{dir:De}=vn(),Z=zs(),Q=Pt(R),de=xp({middlewares:f,width:p,position:Fc(De,r),offset:typeof o=="number"?o+(m?g/2:0):o,arrowRef:G,arrowOffset:b,onPositionChange:s,positionDependencies:a,opened:i,defaultOpened:O,onChange:D,onOpen:L,onClose:I,onDismiss:T,strategy:ee,dropdownVisible:Ne,setDropdownVisible:P,positionRef:V,disabled:W,preventPositionChangeWhenVisible:Ce,keepMounted:J});Qd(()=>{k&&(de.onClose(),T==null||T())},C,[ie,re]);const Pe=h.useCallback(He=>{ce(He),de.floating.refs.setReference(He)},[de.floating.refs.setReference]),Me=h.useCallback(He=>{te(He),de.floating.refs.setFloating(He)},[de.floating.refs.setFloating]),tt=h.useCallback(()=>{var He;(He=u==null?void 0:u.onExited)==null||He.call(u),c==null||c(),P(!1),V.current=r},[u==null?void 0:u.onExited,c]),Re=h.useCallback(()=>{var He;(He=u==null?void 0:u.onEntered)==null||He.call(u),d==null||d()},[u==null?void 0:u.onEntered,d]);return l.jsxs(gp,{value:{returnFocus:H,disabled:W,controlled:de.controlled,reference:Pe,floating:Me,x:de.floating.x,y:de.floating.y,arrowX:(Lt=(Ot=(Ve=de.floating)==null?void 0:Ve.middlewareData)==null?void 0:Ot.arrow)==null?void 0:Lt.x,arrowY:($e=(bt=(ct=de.floating)==null?void 0:ct.middlewareData)==null?void 0:bt.arrow)==null?void 0:$e.y,opened:de.opened,arrowRef:G,transitionProps:{...u,onExited:tt,onEntered:Re},width:p,withArrow:m,arrowSize:g,arrowOffset:b,arrowRadius:v,arrowPosition:w,placement:de.floating.placement,trapFocus:B,withinPortal:E,portalProps:A,zIndex:$,radius:M,shadow:N,closeOnEscape:_,onDismiss:T,onClose:de.onClose,onToggle:de.onToggle,getTargetId:()=>`${Q}-target`,getDropdownId:()=>`${Q}-dropdown`,withRoles:z,targetProps:he,__staticSelector:F,classNames:x,styles:y,unstyled:S,variant:Y,keepMounted:J,getStyles:we,resolvedStyles:xe,floatingStrategy:ee,referenceHidden:ge&&Z!=="test"?(Ye=de.floating.middlewareData.hide)==null?void 0:Ye.referenceHidden:!1},children:[n,se&&l.jsx(Wt,{transition:"fade",mounted:de.opened,duration:(u==null?void 0:u.duration)||250,exitDuration:(u==null?void 0:u.exitDuration)||250,children:He=>l.jsx(Wn,{withinPortal:E,children:l.jsx(xo,{...ue,...we("overlay",{className:ue==null?void 0:ue.className,style:[He,ue==null?void 0:ue.style]})})})})]})}qe.Target=Wc;qe.Dropdown=sa;qe.displayName="@mantine/core/Popover";qe.extend=e=>e;var er={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Wi={orientation:"horizontal"},kp=Ee((e,{borderWidth:t})=>({group:{"--ai-border-width":Se(t)}})),aa=ae((e,t)=>{const n=q("ActionIconGroup",Wi,e),{className:r,style:o,classNames:s,styles:a,unstyled:i,orientation:u,vars:c,borderWidth:d,variant:p,mod:f,attributes:m,...g}=q("ActionIconGroup",Wi,e),b=be({name:"ActionIconGroup",props:n,classes:er,className:r,style:o,classNames:s,styles:a,unstyled:i,attributes:m,vars:c,varsResolver:kp,rootSelector:"group"});return l.jsx(ne,{...b("group"),ref:t,variant:p,mod:[{"data-orientation":u},f],role:"group",...g})});aa.classes=er;aa.displayName="@mantine/core/ActionIconGroup";const Cp=Ee((e,{radius:t,color:n,gradient:r,variant:o,autoContrast:s,size:a})=>{const i=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:s});return{groupSection:{"--section-height":ke(a,"section-height"),"--section-padding-x":ke(a,"section-padding-x"),"--section-fz":Qe(a),"--section-radius":t===void 0?void 0:et(t),"--section-bg":n||o?i.background:void 0,"--section-color":i.color,"--section-bd":n||o?i.border:void 0}}}),ia=ae((e,t)=>{const n=q("ActionIconGroupSection",null,e),{className:r,style:o,classNames:s,styles:a,unstyled:i,vars:u,variant:c,gradient:d,radius:p,autoContrast:f,attributes:m,...g}=n,b=be({name:"ActionIconGroupSection",props:n,classes:er,className:r,style:o,classNames:s,styles:a,unstyled:i,attributes:m,vars:u,varsResolver:Cp,rootSelector:"groupSection"});return l.jsx(ne,{...b("groupSection"),ref:t,variant:c,...g})});ia.classes=er;ia.displayName="@mantine/core/ActionIconGroupSection";const Tp=Ee((e,{size:t,radius:n,variant:r,gradient:o,color:s,autoContrast:a})=>{const i=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:a});return{root:{"--ai-size":ke(t,"ai-size"),"--ai-radius":n===void 0?void 0:et(n),"--ai-bg":s||r?i.background:void 0,"--ai-hover":s||r?i.hover:void 0,"--ai-hover-color":s||r?i.hoverColor:void 0,"--ai-color":i.color,"--ai-bd":s||r?i.border:void 0}}}),pn=It((e,t)=>{const n=q("ActionIcon",null,e),{className:r,unstyled:o,variant:s,classNames:a,styles:i,style:u,loading:c,loaderProps:d,size:p,color:f,radius:m,__staticSelector:g,gradient:b,vars:v,children:w,disabled:S,"data-disabled":x,autoContrast:y,mod:k,attributes:E,...A}=n,_=be({name:["ActionIcon",g],props:n,className:r,style:u,classes:er,classNames:a,styles:i,unstyled:o,attributes:E,vars:v,varsResolver:Tp});return l.jsxs(Nn,{..._("root",{active:!S&&!c&&!x}),...A,unstyled:o,variant:s,size:p,disabled:S||c,ref:t,mod:[{loading:c,disabled:S||x},k],children:[typeof c=="boolean"&&l.jsx(Wt,{mounted:c,transition:"slide-down",duration:150,children:C=>l.jsx(ne,{component:"span",..._("loader",{style:C}),"aria-hidden":!0,children:l.jsx(Fs,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...d})})}),l.jsx(ne,{component:"span",mod:{loading:c},..._("icon"),children:w})]})});pn.classes=er;pn.displayName="@mantine/core/ActionIcon";pn.Group=aa;pn.GroupSection=ia;function Ep(e){return h.Children.toArray(e).filter(Boolean)}var Gc={root:"m_4081bf90"};const Rp={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Ap=Ee((e,{grow:t,preventGrowOverflow:n,gap:r,align:o,justify:s,wrap:a},{childWidth:i})=>({root:{"--group-child-width":t&&n?i:void 0,"--group-gap":lo(r),"--group-align":o,"--group-justify":s,"--group-wrap":a}})),Ft=ae((e,t)=>{const n=q("Group",Rp,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,children:u,gap:c,align:d,justify:p,wrap:f,grow:m,preventGrowOverflow:g,vars:b,variant:v,__size:w,mod:S,attributes:x,...y}=n,k=Ep(u),E=k.length,A=lo(c??"md"),C={childWidth:`calc(${100/E}% - (${A} - ${A} / ${E}))`},B=be({name:"Group",props:n,stylesCtx:C,className:o,style:s,classes:Gc,classNames:r,styles:a,unstyled:i,attributes:x,vars:b,varsResolver:Ap});return l.jsx(ne,{...B("root"),ref:t,variant:v,mod:[{grow:m},S],size:w,...y,children:k})});Ft.classes=Gc;Ft.displayName="@mantine/core/Group";const[jp,sn]=on("ModalBase component was not found in tree");function Np({opened:e,transitionDuration:t}){const[n,r]=h.useState(e),o=h.useRef(-1),a=Ql()?0:t;return h.useEffect(()=>(e?(r(!0),window.clearTimeout(o.current)):a===0?r(!1):o.current=window.setTimeout(()=>r(!1),a),()=>window.clearTimeout(o.current)),[e,a]),n}function Mp({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:o,onClose:s,returnFocus:a}){const i=Pt(e),[u,c]=h.useState(!1),[d,p]=h.useState(!1),f=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,m=Np({opened:n,transitionDuration:f});return lf("keydown",g=>{var b;g.key==="Escape"&&o&&!g.isComposing&&n&&((b=g.target)==null?void 0:b.getAttribute("data-mantine-stop-propagation"))!=="true"&&s()},{capture:!0}),tc({opened:n,shouldReturnFocus:r&&a}),{_id:i,titleMounted:u,bodyMounted:d,shouldLockScroll:m,setTitleMounted:c,setBodyMounted:p}}const Kc=h.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:o,onExitTransitionEnd:s,onEnterTransitionEnd:a,trapFocus:i,closeOnEscape:u,returnFocus:c,closeOnClickOutside:d,withinPortal:p,portalProps:f,lockScroll:m,children:g,zIndex:b,shadow:v,padding:w,__vars:S,unstyled:x,removeScrollProps:y,...k},E)=>{const{_id:A,titleMounted:_,bodyMounted:C,shouldLockScroll:B,setTitleMounted:I,setBodyMounted:T}=Mp({id:r,transitionProps:o,opened:t,trapFocus:i,closeOnEscape:u,onClose:n,returnFocus:c}),{key:L,...D}=y||{};return l.jsx(Wn,{...f,withinPortal:p,children:l.jsx(jp,{value:{opened:t,onClose:n,closeOnClickOutside:d,onExitTransitionEnd:s,onEnterTransitionEnd:a,transitionProps:{...o,keepMounted:e},getTitleId:()=>`${A}-title`,getBodyId:()=>`${A}-body`,titleMounted:_,bodyMounted:C,setTitleMounted:I,setBodyMounted:T,trapFocus:i,closeOnEscape:u,zIndex:b,unstyled:x},children:l.jsx($d,{enabled:B&&m,...D,children:l.jsx(ne,{ref:E,...k,__vars:{...S,"--mb-z-index":(b||nn("modal")).toString(),"--mb-shadow":$s(v),"--mb-padding":lo(w)},children:g})},L)})})});Kc.displayName="@mantine/core/ModalBase";function _p(){const e=sn();return h.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var qn={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const qc=h.forwardRef(({className:e,...t},n)=>{const r=_p(),o=sn();return l.jsx(ne,{ref:n,...t,id:r,className:Nt({[qn.body]:!o.unstyled},e)})});qc.displayName="@mantine/core/ModalBaseBody";const Yc=h.forwardRef(({className:e,onClick:t,...n},r)=>{const o=sn();return l.jsx(Jl,{ref:r,...n,onClick:s=>{o.onClose(),t==null||t(s)},className:Nt({[qn.close]:!o.unstyled},e),unstyled:o.unstyled})});Yc.displayName="@mantine/core/ModalBaseCloseButton";const Xc=h.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:o,...s},a)=>{const i=sn();return l.jsx(Wt,{mounted:i.opened,transition:"pop",...i.transitionProps,onExited:()=>{var u,c,d;(u=i.onExitTransitionEnd)==null||u.call(i),(d=(c=i.transitionProps)==null?void 0:c.onExited)==null||d.call(c)},onEntered:()=>{var u,c,d;(u=i.onEnterTransitionEnd)==null||u.call(i),(d=(c=i.transitionProps)==null?void 0:c.onEntered)==null||d.call(c)},...e,children:u=>l.jsx("div",{...n,className:Nt({[qn.inner]:!i.unstyled},n.className),children:l.jsx(wo,{active:i.opened&&i.trapFocus,innerRef:a,children:l.jsx(oa,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":i.bodyMounted?i.getBodyId():void 0,"aria-labelledby":i.titleMounted?i.getTitleId():void 0,style:[o,u],className:Nt({[qn.content]:!i.unstyled},t),unstyled:i.unstyled,children:s.children})})})})});Xc.displayName="@mantine/core/ModalBaseContent";const Zc=h.forwardRef(({className:e,...t},n)=>{const r=sn();return l.jsx(ne,{component:"header",ref:n,className:Nt({[qn.header]:!r.unstyled},e),...t})});Zc.displayName="@mantine/core/ModalBaseHeader";const Ip={duration:200,timingFunction:"ease",transition:"fade"};function Pp(e){const t=sn();return{...Ip,...t.transitionProps,...e}}const Qc=h.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...o},s)=>{const a=sn(),i=Pp(t);return l.jsx(Wt,{mounted:r!==void 0?r:a.opened,...i,transition:"fade",children:u=>l.jsx(xo,{ref:s,fixed:!0,style:[n,u],zIndex:a.zIndex,unstyled:a.unstyled,onClick:c=>{e==null||e(c),a.closeOnClickOutside&&a.onClose()},...o})})});Qc.displayName="@mantine/core/ModalBaseOverlay";function Dp(){const e=sn();return h.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const Jc=h.forwardRef(({className:e,...t},n)=>{const r=Dp(),o=sn();return l.jsx(ne,{component:"h2",ref:n,className:Nt({[qn.title]:!o.unstyled},e),...t,id:r})});Jc.displayName="@mantine/core/ModalBaseTitle";function Op({children:e}){return l.jsx(l.Fragment,{children:e})}const[Lp,$p]=Cr({size:"sm"}),eu=ae((e,t)=>{const n=q("InputClearButton",null,e),{size:r,variant:o,vars:s,classNames:a,styles:i,...u}=n,c=$p(),{resolvedClassNames:d,resolvedStyles:p}=Dn({classNames:a,styles:i,props:n});return l.jsx(Jl,{variant:o||"transparent",ref:t,size:r||(c==null?void 0:c.size)||"sm",classNames:d,styles:p,__staticSelector:"InputClearButton",...u})});eu.displayName="@mantine/core/InputClearButton";const[zp,Er]=Cr({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Ct={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Fp=Ee((e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Qe(t)} - ${Se(2)})`}})),So=ae((e,t)=>{const n=q("InputDescription",null,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,size:c,__staticSelector:d,__inheritStyles:p=!0,attributes:f,variant:m,...g}=q("InputDescription",null,n),b=Er(),v=be({name:["InputWrapper",d],props:n,classes:Ct,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:f,rootSelector:"description",vars:u,varsResolver:Fp}),w=p&&(b==null?void 0:b.getStyles)||v;return l.jsx(ne,{component:"p",ref:t,variant:m,size:c,...w("description",b!=null&&b.getStyles?{className:o,style:s}:void 0),...g})});So.classes=Ct;So.displayName="@mantine/core/InputDescription";const Bp=Ee((e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Qe(t)} - ${Se(2)})`}})),ko=ae((e,t)=>{const n=q("InputError",null,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,size:c,attributes:d,__staticSelector:p,__inheritStyles:f=!0,variant:m,...g}=n,b=be({name:["InputWrapper",p],props:n,classes:Ct,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:d,rootSelector:"error",vars:u,varsResolver:Bp}),v=Er(),w=f&&(v==null?void 0:v.getStyles)||b;return l.jsx(ne,{component:"p",ref:t,variant:m,size:c,...w("error",v!=null&&v.getStyles?{className:o,style:s}:void 0),...g})});ko.classes=Ct;ko.displayName="@mantine/core/InputError";const Gi={labelElement:"label"},Up=Ee((e,{size:t})=>({label:{"--input-label-size":Qe(t),"--input-asterisk-color":void 0}})),Co=ae((e,t)=>{const n=q("InputLabel",Gi,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,labelElement:c,size:d,required:p,htmlFor:f,onMouseDown:m,children:g,__staticSelector:b,variant:v,mod:w,attributes:S,...x}=q("InputLabel",Gi,n),y=be({name:["InputWrapper",b],props:n,classes:Ct,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:S,rootSelector:"label",vars:u,varsResolver:Up}),k=Er(),E=(k==null?void 0:k.getStyles)||y;return l.jsxs(ne,{...E("label",k!=null&&k.getStyles?{className:o,style:s}:void 0),component:c,variant:v,size:d,ref:t,htmlFor:c==="label"?f:void 0,mod:[{required:p},w],onMouseDown:A=>{m==null||m(A),!A.defaultPrevented&&A.detail>1&&A.preventDefault()},...x,children:[g,p&&l.jsx("span",{...E("required"),"aria-hidden":!0,children:" *"})]})});Co.classes=Ct;Co.displayName="@mantine/core/InputLabel";const la=ae((e,t)=>{const n=q("InputPlaceholder",null,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,__staticSelector:c,variant:d,error:p,mod:f,attributes:m,...g}=n,b=be({name:["InputPlaceholder",c],props:n,classes:Ct,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:m,rootSelector:"placeholder"});return l.jsx(ne,{...b("placeholder"),mod:[{error:!!p},f],component:"span",variant:d,ref:t,...g})});la.classes=Ct;la.displayName="@mantine/core/InputPlaceholder";function Vp(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),o=e.slice(0,r),s=e.slice(r+1),a=t&&o.includes("description")||n&&o.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:a}}const Hp={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Wp=Ee((e,{size:t})=>({label:{"--input-label-size":Qe(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Qe(t)} - ${Se(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Qe(t)} - ${Se(2)})`}})),ca=ae((e,t)=>{const n=q("InputWrapper",Hp,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,size:c,variant:d,__staticSelector:p,inputContainer:f,inputWrapperOrder:m,label:g,error:b,description:v,labelProps:w,descriptionProps:S,errorProps:x,labelElement:y,children:k,withAsterisk:E,id:A,required:_,__stylesApiProps:C,mod:B,attributes:I,...T}=n,L=be({name:["InputWrapper",p],props:C||n,classes:Ct,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:I,vars:u,varsResolver:Wp}),D={size:c,variant:d,__staticSelector:p},$=Pt(A),M=typeof E=="boolean"?E:_,N=(x==null?void 0:x.id)||`${$}-error`,R=(S==null?void 0:S.id)||`${$}-description`,O=$,F=!!b&&typeof b!="boolean",z=!!v,W=`${F?N:""} ${z?R:""}`,H=W.trim().length>0?W.trim():void 0,Y=(w==null?void 0:w.id)||`${$}-label`,J=g&&l.jsx(Co,{labelElement:y,id:Y,htmlFor:O,required:M,...D,...w,children:g},"label"),U=z&&l.jsx(So,{...S,...D,size:(S==null?void 0:S.size)||D.size,id:(S==null?void 0:S.id)||R,children:v},"description"),ee=l.jsx(h.Fragment,{children:f(k)},"input"),se=F&&h.createElement(ko,{...x,...D,size:(x==null?void 0:x.size)||D.size,key:"error",id:(x==null?void 0:x.id)||N},b),ue=m.map(ge=>{switch(ge){case"label":return J;case"input":return ee;case"description":return U;case"error":return se;default:return null}});return l.jsx(zp,{value:{getStyles:L,describedBy:H,inputId:O,labelId:Y,...Vp(m,{hasDescription:z,hasError:F})},children:l.jsx(ne,{ref:t,variant:d,size:c,mod:[{error:!!b},B],...L("root"),...T,children:ue})})});ca.classes=Ct;ca.displayName="@mantine/core/InputWrapper";const Gp={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},Kp=Ee((e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":ke(t.size,"input-height"),"--input-fz":Qe(t.size),"--input-radius":t.radius===void 0?void 0:et(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Se(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Se(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?ke(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}})),Fe=It((e,t)=>{const n=q("Input",Gp,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,required:u,__staticSelector:c,__stylesApiProps:d,size:p,wrapperProps:f,error:m,disabled:g,leftSection:b,leftSectionProps:v,leftSectionWidth:w,rightSection:S,rightSectionProps:x,rightSectionWidth:y,rightSectionPointerEvents:k,leftSectionPointerEvents:E,variant:A,vars:_,pointer:C,multiline:B,radius:I,id:T,withAria:L,withErrorStyles:D,mod:$,inputSize:M,attributes:N,__clearSection:R,__clearable:O,__defaultRightSection:F,...z}=n,{styleProps:W,rest:H}=co(z),Y=Er(),J={offsetBottom:Y==null?void 0:Y.offsetBottom,offsetTop:Y==null?void 0:Y.offsetTop},U=be({name:["Input",c],props:d||n,classes:Ct,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:N,stylesCtx:J,rootSelector:"wrapper",vars:_,varsResolver:Kp}),ee=L?{required:u,disabled:g,"aria-invalid":!!m,"aria-describedby":Y==null?void 0:Y.describedBy,id:(Y==null?void 0:Y.inputId)||T}:{},se=S||O&&R||F;return l.jsx(Lp,{value:{size:p||"sm"},children:l.jsxs(ne,{...U("wrapper"),...W,...f,mod:[{error:!!m&&D,pointer:C,disabled:g,multiline:B,"data-with-right-section":!!se,"data-with-left-section":!!b},$],variant:A,size:p,children:[b&&l.jsx("div",{...v,"data-position":"left",...U("section",{className:v==null?void 0:v.className,style:v==null?void 0:v.style}),children:b}),l.jsx(ne,{component:"input",...H,...ee,ref:t,required:u,mod:{disabled:g,error:!!m&&D},variant:A,__size:M,...U("input")}),se&&l.jsx("div",{...x,"data-position":"right",...U("section",{className:x==null?void 0:x.className,style:x==null?void 0:x.style}),children:se})]})})});Fe.classes=Ct;Fe.Wrapper=ca;Fe.Label=Co;Fe.Error=ko;Fe.Description=So;Fe.Placeholder=la;Fe.ClearButton=eu;Fe.displayName="@mantine/core/Input";function tu(e,t,n){const r=q(e,t,n),{label:o,description:s,error:a,required:i,classNames:u,styles:c,className:d,unstyled:p,__staticSelector:f,__stylesApiProps:m,errorProps:g,labelProps:b,descriptionProps:v,wrapperProps:w,id:S,size:x,style:y,inputContainer:k,inputWrapperOrder:E,withAsterisk:A,variant:_,vars:C,mod:B,attributes:I,...T}=r,{styleProps:L,rest:D}=co(T),$={label:o,description:s,error:a,required:i,classNames:u,className:d,__staticSelector:f,__stylesApiProps:m||r,errorProps:g,labelProps:b,descriptionProps:v,unstyled:p,styles:c,size:x,style:y,inputContainer:k,inputWrapperOrder:E,withAsterisk:A,variant:_,id:S,mod:B,attributes:I,...w};return{...D,classNames:u,styles:c,unstyled:p,wrapperProps:{...$,...L},inputProps:{required:i,classNames:u,styles:c,unstyled:p,size:x,__staticSelector:f,__stylesApiProps:m||r,error:a,variant:_,id:S,attributes:I}}}const qp={__staticSelector:"InputBase",withAria:!0},Tt=It((e,t)=>{const{inputProps:n,wrapperProps:r,...o}=tu("InputBase",qp,e);return l.jsx(Fe.Wrapper,{...r,children:l.jsx(Fe,{...n,...o,ref:t})})});Tt.classes={...Fe.classes,...Fe.Wrapper.classes};Tt.displayName="@mantine/core/InputBase";function nu({open:e,close:t,openDelay:n,closeDelay:r}){const o=h.useRef(-1),s=h.useRef(-1),a=()=>{window.clearTimeout(o.current),window.clearTimeout(s.current)},i=()=>{a(),n===0||n===void 0?e():o.current=window.setTimeout(e,n)},u=()=>{a(),r===0||r===void 0?t():s.current=window.setTimeout(t,r)};return h.useEffect(()=>a,[]),{openDropdown:i,closeDropdown:u}}function ru({style:e,size:t=16,...n}){return l.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Se(t),height:Se(t),display:"block"},...n,children:l.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}ru.displayName="@mantine/core/AccordionChevron";var ou={root:"m_b6d8b162"};function Yp(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const Xp={inherit:!1},Zp=Ee((e,{variant:t,lineClamp:n,gradient:r,size:o,color:s})=>({root:{"--text-fz":Qe(o),"--text-lh":Fd(o),"--text-gradient":t==="gradient"?zd(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":s?bn(s,e):void 0}})),fe=It((e,t)=>{const n=q("Text",Xp,e),{lineClamp:r,truncate:o,inline:s,inherit:a,gradient:i,span:u,__staticSelector:c,vars:d,className:p,style:f,classNames:m,styles:g,unstyled:b,variant:v,mod:w,size:S,attributes:x,...y}=n,k=be({name:["Text",c],props:n,classes:ou,className:p,style:f,classNames:m,styles:g,unstyled:b,attributes:x,vars:d,varsResolver:Zp});return l.jsx(ne,{...k("root",{focusable:!0}),ref:t,component:u?"span":"p",variant:v,mod:[{"data-truncate":Yp(o),"data-line-clamp":typeof r=="number","data-inline":s,"data-inherit":a},w],size:S,...y})});fe.classes=ou;fe.displayName="@mantine/core/Text";function su(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>su(t))}:e}function Qp(e){return e?e.map(t=>su(t)):[]}function au(e){return e.reduce((t,n)=>"group"in n?{...t,...au(n.items)}:(t[n.value]=n,t),{})}var pt={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const Jp={error:null},em=Ee((e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":ke(t,"combobox-chevron-size"),"--combobox-chevron-color":n?bn(n,e):void 0}})),ua=ae((e,t)=>{const n=q("ComboboxChevron",Jp,e),{size:r,error:o,style:s,className:a,classNames:i,styles:u,unstyled:c,vars:d,mod:p,...f}=n,m=be({name:"ComboboxChevron",classes:pt,props:n,style:s,className:a,classNames:i,styles:u,unstyled:c,vars:d,varsResolver:em,rootSelector:"chevron"});return l.jsx(ne,{component:"svg",...f,...m("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},p],ref:t,children:l.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});ua.classes=pt;ua.displayName="@mantine/core/ComboboxChevron";const[tm,Et]=on("Combobox component was not found in tree"),iu=h.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...o},s)=>l.jsx(Fe.ClearButton,{ref:s,tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:a=>{a.preventDefault(),t==null||t(a)},onClick:a=>{r(),n==null||n(a)}}));iu.displayName="@mantine/core/ComboboxClearButton";const da=ae((e,t)=>{const{classNames:n,styles:r,className:o,style:s,hidden:a,...i}=q("ComboboxDropdown",null,e),u=Et();return l.jsx(qe.Dropdown,{...i,ref:t,role:"presentation","data-hidden":a||void 0,...u.getStyles("dropdown",{className:o,style:s,classNames:n,styles:r})})});da.classes=pt;da.displayName="@mantine/core/ComboboxDropdown";const nm={refProp:"ref"},lu=ae((e,t)=>{const{children:n,refProp:r}=q("ComboboxDropdownTarget",nm,e);if(Et(),!rn(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return l.jsx(qe.Target,{ref:t,refProp:r,children:n})});lu.displayName="@mantine/core/ComboboxDropdownTarget";const fa=ae((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:a,...i}=q("ComboboxEmpty",null,e),u=Et();return l.jsx(ne,{ref:t,...u.getStyles("empty",{className:r,classNames:n,styles:s,style:o}),...i})});fa.classes=pt;fa.displayName="@mantine/core/ComboboxEmpty";function ha({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:o,autoComplete:s}){const a=Et(),[i,u]=h.useState(null),c=p=>{if(e==null||e(p),!a.readOnly&&t){if(p.nativeEvent.isComposing)return;if(p.nativeEvent.code==="ArrowDown"&&(p.preventDefault(),a.store.dropdownOpened?u(a.store.selectNextOption()):(a.store.openDropdown("keyboard"),u(a.store.selectActiveOption()),a.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),p.nativeEvent.code==="ArrowUp"&&(p.preventDefault(),a.store.dropdownOpened?u(a.store.selectPreviousOption()):(a.store.openDropdown("keyboard"),u(a.store.selectActiveOption()),a.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),p.nativeEvent.code==="Enter"||p.nativeEvent.code==="NumpadEnter"){if(p.nativeEvent.keyCode===229)return;const f=a.store.getSelectedOptionIndex();a.store.dropdownOpened&&f!==-1?(p.preventDefault(),a.store.clickSelectedOption()):o==="button"&&(p.preventDefault(),a.store.openDropdown("keyboard"))}p.key==="Escape"&&a.store.closeDropdown("keyboard"),p.nativeEvent.code==="Space"&&o==="button"&&(p.preventDefault(),a.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r?!!(a.store.listId&&a.store.dropdownOpened):void 0,"aria-controls":a.store.dropdownOpened&&a.store.listId?a.store.listId:void 0,"aria-activedescendant":a.store.dropdownOpened&&i||void 0,autoComplete:s,"data-expanded":a.store.dropdownOpened||void 0,"data-mantine-stop-propagation":a.store.dropdownOpened||void 0}:{},onKeyDown:c}}const rm={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},cu=ae((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:s,withExpandedAttribute:a,targetType:i,autoComplete:u,...c}=q("ComboboxEventsTarget",rm,e);if(!rn(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=Et(),p=ha({targetType:i,withAriaAttributes:s,withKeyboardNavigation:o,withExpandedAttribute:a,onKeyDown:n.props.onKeyDown,autoComplete:u});return h.cloneElement(n,{...p,...c,[r]:Be(t,d.store.targetRef,fo(n))})});cu.displayName="@mantine/core/ComboboxEventsTarget";const pa=ae((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:a,...i}=q("ComboboxFooter",null,e),u=Et();return l.jsx(ne,{ref:t,...u.getStyles("footer",{className:r,classNames:n,style:o,styles:s}),...i,onMouseDown:c=>{c.preventDefault()}})});pa.classes=pt;pa.displayName="@mantine/core/ComboboxFooter";const ma=ae((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:a,children:i,label:u,id:c,...d}=q("ComboboxGroup",null,e),p=Et(),f=Pt(c);return l.jsxs(ne,{ref:t,role:"group","aria-labelledby":u?f:void 0,...p.getStyles("group",{className:r,classNames:n,style:o,styles:s}),...d,children:[u&&l.jsx("div",{id:f,...p.getStyles("groupLabel",{classNames:n,styles:s}),children:u}),i]})});ma.classes=pt;ma.displayName="@mantine/core/ComboboxGroup";const ga=ae((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:a,...i}=q("ComboboxHeader",null,e),u=Et();return l.jsx(ne,{ref:t,...u.getStyles("header",{className:r,classNames:n,style:o,styles:s}),...i,onMouseDown:c=>{c.preventDefault()}})});ga.classes=pt;ga.displayName="@mantine/core/ComboboxHeader";function uu({value:e,valuesDivider:t=",",...n}){return l.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}uu.displayName="@mantine/core/ComboboxHiddenInput";const ba=ae((e,t)=>{const n=q("ComboboxOption",null,e),{classNames:r,className:o,style:s,styles:a,vars:i,onClick:u,id:c,active:d,onMouseDown:p,onMouseOver:f,disabled:m,selected:g,mod:b,...v}=n,w=Et(),S=h.useId(),x=c||S;return l.jsx(ne,{...w.getStyles("option",{className:o,classNames:r,styles:a,style:s}),...v,ref:t,id:x,mod:["combobox-option",{"combobox-active":d,"combobox-disabled":m,"combobox-selected":g},b],role:"option",onClick:y=>{var k;m?y.preventDefault():((k=w.onOptionSubmit)==null||k.call(w,n.value,n),u==null||u(y))},onMouseDown:y=>{y.preventDefault(),p==null||p(y)},onMouseOver:y=>{w.resetSelectionOnOptionHover&&w.store.resetSelectedOption(),f==null||f(y)}})});ba.classes=pt;ba.displayName="@mantine/core/ComboboxOption";const va=ae((e,t)=>{const n=q("ComboboxOptions",null,e),{classNames:r,className:o,style:s,styles:a,id:i,onMouseDown:u,labelledBy:c,...d}=n,p=Et(),f=Pt(i);return h.useEffect(()=>{p.store.setListId(f)},[f]),l.jsx(ne,{ref:t,...p.getStyles("options",{className:o,style:s,classNames:r,styles:a}),...d,id:f,role:"listbox","aria-labelledby":c,onMouseDown:m=>{m.preventDefault(),u==null||u(m)}})});va.classes=pt;va.displayName="@mantine/core/ComboboxOptions";const om={withAriaAttributes:!0,withKeyboardNavigation:!0},ya=ae((e,t)=>{const n=q("ComboboxSearch",om,e),{classNames:r,styles:o,unstyled:s,vars:a,withAriaAttributes:i,onKeyDown:u,withKeyboardNavigation:c,size:d,...p}=n,f=Et(),m=f.getStyles("search"),g=ha({targetType:"input",withAriaAttributes:i,withKeyboardNavigation:c,withExpandedAttribute:!1,onKeyDown:u,autoComplete:"off"});return l.jsx(Fe,{ref:Be(t,f.store.searchRef),classNames:[{input:m.className},r],styles:[{input:m.style},o],size:d||f.size,...g,...p,__staticSelector:"Combobox"})});ya.classes=pt;ya.displayName="@mantine/core/ComboboxSearch";const sm={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},du=ae((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:s,withExpandedAttribute:a,targetType:i,autoComplete:u,...c}=q("ComboboxTarget",sm,e);if(!rn(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=Et(),p=ha({targetType:i,withAriaAttributes:s,withKeyboardNavigation:o,withExpandedAttribute:a,onKeyDown:n.props.onKeyDown,autoComplete:u}),f=h.cloneElement(n,{...p,...c});return l.jsx(qe.Target,{ref:Be(t,d.store.targetRef),children:f})});du.displayName="@mantine/core/ComboboxTarget";function am(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function im(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function lm(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function fu({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:o,loop:s=!0,scrollBehavior:a="instant"}={}){const[i,u]=mt({value:t,defaultValue:e,finalValue:!1,onChange:n}),c=h.useRef(null),d=h.useRef(-1),p=h.useRef(null),f=h.useRef(null),m=h.useRef(-1),g=h.useRef(-1),b=h.useRef(-1),v=h.useCallback((M="unknown")=>{i||(u(!0),o==null||o(M))},[u,o,i]),w=h.useCallback((M="unknown")=>{i&&(u(!1),r==null||r(M))},[u,r,i]),S=h.useCallback((M="unknown")=>{i?w(M):v(M)},[w,v,i]),x=h.useCallback(()=>{const M=document.querySelector(`#${c.current} [data-combobox-selected]`);M==null||M.removeAttribute("data-combobox-selected"),M==null||M.removeAttribute("aria-selected")},[]),y=h.useCallback(M=>{const N=document.getElementById(c.current),R=N==null?void 0:N.querySelectorAll("[data-combobox-option]");if(!R)return null;const O=M>=R.length?0:M<0?R.length-1:M;return d.current=O,R!=null&&R[O]&&!R[O].hasAttribute("data-combobox-disabled")?(x(),R[O].setAttribute("data-combobox-selected","true"),R[O].setAttribute("aria-selected","true"),R[O].scrollIntoView({block:"nearest",behavior:a}),R[O].id):null},[a,x]),k=h.useCallback(()=>{const M=document.querySelector(`#${c.current} [data-combobox-active]`);if(M){const N=document.querySelectorAll(`#${c.current} [data-combobox-option]`),R=Array.from(N).findIndex(O=>O===M);return y(R)}return y(0)},[y]),E=h.useCallback(()=>y(im(d.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),s)),[y,s]),A=h.useCallback(()=>y(am(d.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),s)),[y,s]),_=h.useCallback(()=>y(lm(document.querySelectorAll(`#${c.current} [data-combobox-option]`))),[y]),C=h.useCallback((M="selected",N)=>{b.current=window.setTimeout(()=>{var F;const R=document.querySelectorAll(`#${c.current} [data-combobox-option]`),O=Array.from(R).findIndex(z=>z.hasAttribute(`data-combobox-${M}`));d.current=O,N!=null&&N.scrollIntoView&&((F=R[O])==null||F.scrollIntoView({block:"nearest",behavior:a}))},0)},[]),B=h.useCallback(()=>{d.current=-1,x()},[x]),I=h.useCallback(()=>{const M=document.querySelectorAll(`#${c.current} [data-combobox-option]`),N=M==null?void 0:M[d.current];N==null||N.click()},[]),T=h.useCallback(M=>{c.current=M},[]),L=h.useCallback(()=>{m.current=window.setTimeout(()=>p.current.focus(),0)},[]),D=h.useCallback(()=>{g.current=window.setTimeout(()=>f.current.focus(),0)},[]),$=h.useCallback(()=>d.current,[]);return h.useEffect(()=>()=>{window.clearTimeout(m.current),window.clearTimeout(g.current),window.clearTimeout(b.current)},[]),{dropdownOpened:i,openDropdown:v,closeDropdown:w,toggleDropdown:S,selectedOptionIndex:d.current,getSelectedOptionIndex:$,selectOption:y,selectFirstOption:_,selectActiveOption:k,selectNextOption:E,selectPreviousOption:A,resetSelectedOption:B,updateSelectedOptionIndex:C,listId:c.current,setListId:T,clickSelectedOption:I,searchRef:p,focusSearchInput:L,targetRef:f,focusTarget:D}}const cm={keepMounted:!1,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},um=Ee((e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Qe(t),"--combobox-option-padding":ke(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Se(n),"--combobox-option-fz":Qe(t),"--combobox-option-padding":ke(t,"combobox-option-padding")}}));function _e(e){const t=q("Combobox",cm,e),{classNames:n,styles:r,unstyled:o,children:s,store:a,vars:i,onOptionSubmit:u,onClose:c,size:d,dropdownPadding:p,resetSelectionOnOptionHover:f,__staticSelector:m,readOnly:g,attributes:b,...v}=t,w=fu(),S=a||w,x=be({name:m||"Combobox",classes:pt,props:t,classNames:n,styles:r,unstyled:o,attributes:b,vars:i,varsResolver:um}),y=()=>{c==null||c(),S.closeDropdown()};return l.jsx(tm,{value:{getStyles:x,store:S,onOptionSubmit:u,size:d,resetSelectionOnOptionHover:f,readOnly:g},children:l.jsx(qe,{opened:S.dropdownOpened,preventPositionChangeWhenVisible:!0,...v,onChange:k=>!k&&y(),withRoles:!1,unstyled:o,children:s})})}const dm=e=>e;_e.extend=dm;_e.classes=pt;_e.displayName="@mantine/core/Combobox";_e.Target=du;_e.Dropdown=da;_e.Options=va;_e.Option=ba;_e.Search=ya;_e.Empty=fa;_e.Chevron=ua;_e.Footer=pa;_e.Header=ga;_e.EventsTarget=cu;_e.DropdownTarget=lu;_e.Group=ma;_e.ClearButton=iu;_e.HiddenInput=uu;var hu={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const fm=hu,pu=h.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:o,unstyled:s,children:a,label:i,description:u,id:c,disabled:d,error:p,size:f,labelPosition:m="left",bodyElement:g="div",labelElement:b="label",variant:v,style:w,vars:S,mod:x,attributes:y,...k},E)=>{const A=be({name:e,props:t,className:n,style:w,classes:hu,classNames:r,styles:o,unstyled:s,attributes:y});return l.jsx(ne,{...A("root"),ref:E,__vars:{"--label-fz":Qe(f),"--label-lh":ke(f,"label-lh")},mod:[{"label-position":m},x],variant:v,size:f,...k,children:l.jsxs(ne,{component:g,htmlFor:g==="label"?c:void 0,...A("body"),children:[a,l.jsxs("div",{...A("labelWrapper"),"data-disabled":d||void 0,children:[i&&l.jsx(ne,{component:b,htmlFor:b==="label"?c:void 0,...A("label"),"data-disabled":d||void 0,children:i}),u&&l.jsx(Fe.Description,{size:f,__inheritStyles:!1,...A("description"),children:u}),p&&typeof p!="boolean"&&l.jsx(Fe.Error,{size:f,__inheritStyles:!1,...A("error"),children:p})]})]})})});pu.displayName="@mantine/core/InlineInput";function hm({children:e,role:t}){const n=Er();return n?l.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):l.jsx(l.Fragment,{children:e})}function pm({size:e,style:t,...n}){const r=e!==void 0?{width:Se(e),height:Se(e),...t}:t;return l.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:l.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function xr(e){return"group"in e}function mu({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),o=[];for(let s=0;s<e.length;s+=1){const a=e[s];if(o.length===n)return o;xr(a)&&o.push({group:a.group,items:mu({options:a.items,search:t,limit:n-o.length})}),xr(a)||a.label.toLowerCase().includes(r)&&o.push(a)}return o}function mm(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function gu(e,t=new Set){if(Array.isArray(e))for(const n of e)if(xr(n))gu(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function gm(e,t){return Array.isArray(e)?e.includes(t):e===t}function bu({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:o,renderOption:s}){if(!xr(e)){const i=gm(n,e.value),u=t&&i&&l.jsx(pm,{className:pt.optionsDropdownCheckIcon}),c=l.jsxs(l.Fragment,{children:[r==="left"&&u,l.jsx("span",{children:e.label}),r==="right"&&u]});return l.jsx(_e.Option,{value:e.value,disabled:e.disabled,className:Nt({[pt.optionsDropdownOption]:!o}),"data-reverse":r==="right"||void 0,"data-checked":i||void 0,"aria-selected":i,active:i,children:typeof s=="function"?s({option:e,checked:i}):c})}const a=e.items.map(i=>l.jsx(bu,{data:i,value:n,unstyled:o,withCheckIcon:t,checkIconPosition:r,renderOption:s},i.value));return l.jsx(_e.Group,{label:e.group,children:a})}function bm({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:o,limit:s,maxDropdownHeight:a,withScrollArea:i=!0,filterOptions:u=!0,withCheckIcon:c=!1,value:d,checkIconPosition:p,nothingFoundMessage:f,unstyled:m,labelId:g,renderOption:b,scrollAreaProps:v,"aria-label":w}){gu(e);const x=typeof o=="string"?(r||mu)({options:e,search:u?o:"",limit:s??1/0}):e,y=mm(x),k=x.map(E=>l.jsx(bu,{data:E,withCheckIcon:c,value:d,checkIconPosition:p,unstyled:m,renderOption:b},xr(E)?E.group:E.value));return l.jsx(_e.Dropdown,{hidden:t||n&&y,"data-composed":!0,children:l.jsxs(_e.Options,{labelledBy:g,"aria-label":w,children:[i?l.jsx(hn.Autosize,{mah:a??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...v,children:k}):k,y&&f&&l.jsx(_e.Empty,{children:f})]})})}var vu={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const vm=Ee((e,{radius:t,color:n,gradient:r,variant:o,size:s,autoContrast:a})=>{const i=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{root:{"--badge-height":ke(s,"badge-height"),"--badge-padding-x":ke(s,"badge-padding-x"),"--badge-fz":ke(s,"badge-fz"),"--badge-radius":t===void 0?void 0:et(t),"--badge-bg":n||o?i.background:void 0,"--badge-color":n||o?i.color:void 0,"--badge-bd":n||o?i.border:void 0,"--badge-dot-color":o==="dot"?bn(n,e):void 0}}}),Yn=It((e,t)=>{const n=q("Badge",null,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,radius:c,color:d,gradient:p,leftSection:f,rightSection:m,children:g,variant:b,fullWidth:v,autoContrast:w,circle:S,mod:x,attributes:y,...k}=n,E=be({name:"Badge",props:n,classes:vu,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:y,vars:u,varsResolver:vm});return l.jsxs(ne,{variant:b,mod:[{block:v,circle:S,"with-right-section":!!m,"with-left-section":!!f},x],...E("root",{variant:b}),ref:t,...k,children:[f&&l.jsx("span",{...E("section"),"data-position":"left",children:f}),l.jsx("span",{...E("label"),children:g}),m&&l.jsx("span",{...E("section"),"data-position":"right",children:m})]})});Yn.classes=vu;Yn.displayName="@mantine/core/Badge";var tr={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const Ki={orientation:"horizontal"},ym=Ee((e,{borderWidth:t})=>({group:{"--button-border-width":Se(t)}})),xa=ae((e,t)=>{const n=q("ButtonGroup",Ki,e),{className:r,style:o,classNames:s,styles:a,unstyled:i,orientation:u,vars:c,borderWidth:d,variant:p,mod:f,attributes:m,...g}=q("ButtonGroup",Ki,e),b=be({name:"ButtonGroup",props:n,classes:tr,className:r,style:o,classNames:s,styles:a,unstyled:i,attributes:m,vars:c,varsResolver:ym,rootSelector:"group"});return l.jsx(ne,{...b("group"),ref:t,variant:p,mod:[{"data-orientation":u},f],role:"group",...g})});xa.classes=tr;xa.displayName="@mantine/core/ButtonGroup";const xm=Ee((e,{radius:t,color:n,gradient:r,variant:o,autoContrast:s,size:a})=>{const i=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:s});return{groupSection:{"--section-height":ke(a,"section-height"),"--section-padding-x":ke(a,"section-padding-x"),"--section-fz":a!=null&&a.includes("compact")?Qe(a.replace("compact-","")):Qe(a),"--section-radius":t===void 0?void 0:et(t),"--section-bg":n||o?i.background:void 0,"--section-color":i.color,"--section-bd":n||o?i.border:void 0}}}),wa=ae((e,t)=>{const n=q("ButtonGroupSection",null,e),{className:r,style:o,classNames:s,styles:a,unstyled:i,vars:u,variant:c,gradient:d,radius:p,autoContrast:f,attributes:m,...g}=n,b=be({name:"ButtonGroupSection",props:n,classes:tr,className:r,style:o,classNames:s,styles:a,unstyled:i,attributes:m,vars:u,varsResolver:xm,rootSelector:"groupSection"});return l.jsx(ne,{...b("groupSection"),ref:t,variant:c,...g})});wa.classes=tr;wa.displayName="@mantine/core/ButtonGroupSection";const wm={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Se(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Sm=Ee((e,{radius:t,color:n,gradient:r,variant:o,size:s,justify:a,autoContrast:i})=>{const u=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{root:{"--button-justify":a,"--button-height":ke(s,"button-height"),"--button-padding-x":ke(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Qe(s.replace("compact-","")):Qe(s),"--button-radius":t===void 0?void 0:et(t),"--button-bg":n||o?u.background:void 0,"--button-hover":n||o?u.hover:void 0,"--button-color":u.color,"--button-bd":n||o?u.border:void 0,"--button-hover-color":n||o?u.hoverColor:void 0}}}),Ie=It((e,t)=>{const n=q("Button",null,e),{style:r,vars:o,className:s,color:a,disabled:i,children:u,leftSection:c,rightSection:d,fullWidth:p,variant:f,radius:m,loading:g,loaderProps:b,gradient:v,classNames:w,styles:S,unstyled:x,"data-disabled":y,autoContrast:k,mod:E,attributes:A,..._}=n,C=be({name:"Button",props:n,classes:tr,className:s,style:r,classNames:w,styles:S,unstyled:x,attributes:A,vars:o,varsResolver:Sm}),B=!!c,I=!!d;return l.jsxs(Nn,{ref:t,...C("root",{active:!i&&!g&&!y}),unstyled:x,variant:f,disabled:i||g,mod:[{disabled:i||y,loading:g,block:p,"with-left-section":B,"with-right-section":I},E],..._,children:[typeof g=="boolean"&&l.jsx(Wt,{mounted:g,transition:wm,duration:150,children:T=>l.jsx(ne,{component:"span",...C("loader",{style:T}),"aria-hidden":!0,children:l.jsx(Fs,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...b})})}),l.jsxs("span",{...C("inner"),children:[c&&l.jsx(ne,{component:"span",...C("section"),mod:{position:"left"},children:c}),l.jsx(ne,{component:"span",mod:{loading:g},...C("label"),children:u}),d&&l.jsx(ne,{component:"span",...C("section"),mod:{position:"right"},children:d})]})]})});Ie.classes=tr;Ie.displayName="@mantine/core/Button";Ie.Group=xa;Ie.GroupSection=wa;var yu={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const qi={withShadow:!0},km=Ee((e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:et(t),"--cs-size":Se(n)}})),Rr=It((e,t)=>{const n=q("ColorSwatch",qi,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,color:c,size:d,radius:p,withShadow:f,children:m,variant:g,attributes:b,...v}=q("ColorSwatch",qi,n),w=be({name:"ColorSwatch",props:n,classes:yu,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:b,vars:u,varsResolver:km});return l.jsxs(ne,{ref:t,variant:g,size:d,...w("root",{focusable:!0}),...v,children:[l.jsx("span",{...w("alphaOverlay")}),f&&l.jsx("span",{...w("shadowOverlay")}),l.jsx("span",{...w("colorOverlay",{style:{backgroundColor:c}})}),l.jsx("span",{...w("childrenOverlay"),children:m})]})});Rr.classes=yu;Rr.displayName="@mantine/core/ColorSwatch";const[Cm,Sa]=Cr(null),ka=h.forwardRef(({position:e,...t},n)=>l.jsx(ne,{ref:n,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));ka.displayName="@mantine/core/ColorPickerThumb";var Ca={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const Ta=ae((e,t)=>{var O;const n=q("ColorSlider",null,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,onChange:c,onChangeEnd:d,maxValue:p,round:f,size:m="md",focusable:g=!0,value:b,overlays:v,thumbColor:w="transparent",onScrubStart:S,onScrubEnd:x,__staticSelector:y="ColorPicker",attributes:k,...E}=n,A=be({name:y,classes:Ca,props:n,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:k}),C=((O=Sa())==null?void 0:O.getStyles)||A,B=Pn(),[I,T]=h.useState({y:0,x:b/p}),L=h.useRef(I),D=F=>f?Math.round(F*p):F*p,{ref:$}=Us(({x:F,y:z})=>{L.current={x:F,y:z},c==null||c(D(F))},{onScrubEnd:()=>{const{x:F}=L.current;d==null||d(D(F)),x==null||x()},onScrubStart:S});Bt(()=>{T({y:0,x:b/p})},[b]);const M=(F,z)=>{F.preventDefault();const W=sc(z);c==null||c(D(W.x)),d==null||d(D(W.x))},N=F=>{switch(F.key){case"ArrowRight":{M(F,{x:I.x+.05,y:I.y});break}case"ArrowLeft":{M(F,{x:I.x-.05,y:I.y});break}}},R=v.map((F,z)=>h.createElement("div",{...C("sliderOverlay"),style:F,key:z}));return l.jsxs(ne,{...E,ref:Be($,t),...C("slider"),role:"slider","aria-valuenow":b,"aria-valuemax":p,"aria-valuemin":0,tabIndex:g?0:-1,onKeyDown:N,"data-focus-ring":B.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${m})`},children:[R,l.jsx(ka,{position:I,...C("thumb",{style:{top:Se(1),background:w}})})]})});Ta.displayName="@mantine/core/ColorSlider";function yt(e,t=0,n=10**t){return Math.round(n*e)/n}function Tm({h:e,s:t,l:n,a:r}){const o=t*((n<50?n:100-n)/100);return{h:e,s:o>0?2*o/(n+o)*100:0,v:n+o,a:r}}const Em={grad:360/400,turn:360,rad:360/(Math.PI*2)};function Rm(e,t="deg"){return Number(e)*(Em[t]||1)}const Am=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function Yi(e){const t=Am.exec(e);return t?Tm({h:Rm(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function Ss({r:e,g:t,b:n,a:r}){const o=Math.max(e,t,n),s=o-Math.min(e,t,n),a=s?o===e?(t-n)/s:o===t?2+(n-e)/s:4+(e-t)/s:0;return{h:yt(60*(a<0?a+6:a),3),s:yt(o?s/o*100:0,3),v:yt(o/255*100,3),a:r}}function ks(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?Ss({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):Ss({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function jm(e){const t=e[0]==="#"?e.slice(1):e,n=a=>yt(parseInt(a,16)/255,3);if(t.length===4){const a=t.slice(0,3),i=n(t[3]+t[3]);return{...ks(a),a:i}}const r=t.slice(0,6),o=n(t.slice(6,8));return{...ks(r),a:o}}const Nm=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function Xi(e){const t=Nm.exec(e);return t?Ss({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const xu={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},Mm={hex:ks,hexa:jm,rgb:Xi,rgba:Xi,hsl:Yi,hsla:Yi};function mr(e){for(const[,t]of Object.entries(xu))if(t.test(e))return!0;return!1}function Rn(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[n,r]of Object.entries(xu))if(r.test(t))return Mm[n](t);return{h:0,s:0,v:0,a:1}}const wu=h.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:o,color:s,...a}=q("AlphaSlider",null,e);return l.jsx(Ta,{...a,ref:t,value:n,onChange:i=>r==null?void 0:r(yt(i,2)),onChangeEnd:i=>o==null?void 0:o(yt(i,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${Se(8)} ${Se(8)}`,backgroundPosition:`0 0, 0 ${Se(4)}, ${Se(4)} ${Se(-4)}, ${Se(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${s})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Se(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Se(4)} inset`}]})});wu.displayName="@mantine/core/AlphaSlider";function Su({h:e,s:t,v:n,a:r}){const o=e/360*6,s=t/100,a=n/100,i=Math.floor(o),u=a*(1-s),c=a*(1-(o-i)*s),d=a*(1-(1-o+i)*s),p=i%6;return{r:yt([a,c,u,u,d,a][p]*255),g:yt([d,a,a,c,u,u][p]*255),b:yt([u,u,d,a,a,c][p]*255),a:yt(r,2)}}function Zi(e,t){const{r:n,g:r,b:o,a:s}=Su(e);return t?`rgba(${n}, ${r}, ${o}, ${yt(s,2)})`:`rgb(${n}, ${r}, ${o})`}function Qi({h:e,s:t,v:n,a:r},o){const s=(200-t)*n/100,a={h:Math.round(e),s:Math.round(s>0&&s<200?t*n/100/(s<=100?s:200-s)*100:0),l:Math.round(s/2)};return o?`hsla(${a.h}, ${a.s}%, ${a.l}%, ${yt(r,2)})`:`hsl(${a.h}, ${a.s}%, ${a.l}%)`}function Ur(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function ku(e){const{r:t,g:n,b:r}=Su(e);return`#${Ur(t)}${Ur(n)}${Ur(r)}`}function _m(e){const t=Math.round(e.a*255);return`${ku(e)}${Ur(t)}`}const Yo={hex:ku,hexa:e=>_m(e),rgb:e=>Zi(e,!1),rgba:e=>Zi(e,!0),hsl:e=>Qi(e,!1),hsla:e=>Qi(e,!0)};function At(e,t){return t?e in Yo?Yo[e](t):Yo.hex(t):"#000000"}const Cu=h.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:o,color:s,...a}=q("HueSlider",{},e);return l.jsx(Ta,{...a,ref:t,value:n,onChange:r,onChangeEnd:o,maxValue:360,thumbColor:`hsl(${n}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Se(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Se(4)} inset`}]})});Cu.displayName="@mantine/core/HueSlider";function Tu({className:e,onChange:t,onChangeEnd:n,value:r,saturationLabel:o,focusable:s=!0,size:a,color:i,onScrubStart:u,onScrubEnd:c,...d}){const{getStyles:p}=Sa(),[f,m]=h.useState({x:r.s/100,y:1-r.v/100}),g=h.useRef(f),{ref:b}=Us(({x:S,y:x})=>{g.current={x:S,y:x},t({s:Math.round(S*100),v:Math.round((1-x)*100)})},{onScrubEnd:()=>{const{x:S,y:x}=g.current;n({s:Math.round(S*100),v:Math.round((1-x)*100)}),c==null||c()},onScrubStart:u});h.useEffect(()=>{m({x:r.s/100,y:1-r.v/100})},[r.s,r.v]);const v=(S,x)=>{S.preventDefault();const y=sc(x);t({s:Math.round(y.x*100),v:Math.round((1-y.y)*100)}),n({s:Math.round(y.x*100),v:Math.round((1-y.y)*100)})},w=S=>{switch(S.key){case"ArrowUp":{v(S,{y:f.y-.05,x:f.x});break}case"ArrowDown":{v(S,{y:f.y+.05,x:f.x});break}case"ArrowRight":{v(S,{x:f.x+.05,y:f.y});break}case"ArrowLeft":{v(S,{x:f.x-.05,y:f.y});break}}};return l.jsxs(ne,{...p("saturation"),ref:b,...d,role:"slider","aria-label":o,"aria-valuenow":f.x,"aria-valuetext":At("rgba",r),tabIndex:s?0:-1,onKeyDown:w,children:[l.jsx("div",{...p("saturationOverlay",{style:{backgroundColor:`hsl(${r.h}, 100%, 50%)`}})}),l.jsx("div",{...p("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),l.jsx("div",{...p("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),l.jsx(ka,{position:f,...p("thumb",{style:{backgroundColor:i}})})]})}Tu.displayName="@mantine/core/Saturation";const Eu=h.forwardRef(({className:e,datatype:t,setValue:n,onChangeEnd:r,size:o,focusable:s,data:a,swatchesPerRow:i,...u},c)=>{const d=Sa(),p=a.map((f,m)=>h.createElement(Rr,{...d.getStyles("swatch"),unstyled:d.unstyled,component:"button",type:"button",color:f,key:m,radius:"sm",onClick:()=>{n(f),r==null||r(f)},"aria-label":f,tabIndex:s?0:-1,"data-swatch":!0}));return l.jsx(ne,{...d.getStyles("swatches"),ref:c,...u,children:p})});Eu.displayName="@mantine/core/Swatches";const Im={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},Pm=Ee((e,{size:t,swatchesPerRow:n})=>({wrapper:{"--cp-preview-size":ke(t,"cp-preview-size"),"--cp-width":ke(t,"cp-width"),"--cp-body-spacing":lo(t),"--cp-swatch-size":`${100/n}%`,"--cp-thumb-size":ke(t,"cp-thumb-size"),"--cp-saturation-height":ke(t,"cp-saturation-height")}})),Ea=ae((e,t)=>{const n=q("ColorPicker",Im,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,format:c="hex",value:d,defaultValue:p,onChange:f,onChangeEnd:m,withPicker:g,size:b,saturationLabel:v,hueLabel:w,alphaLabel:S,focusable:x,swatches:y,swatchesPerRow:k,fullWidth:E,onColorSwatchClick:A,__staticSelector:_,mod:C,attributes:B,...I}=n,T=be({name:_,props:n,classes:Ca,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:B,rootSelector:"wrapper",vars:u,varsResolver:Pm}),L=h.useRef(c||"hex"),D=h.useRef(""),$=h.useRef(-1),M=h.useRef(!1),N=c==="hexa"||c==="rgba"||c==="hsla",[R,O,F]=mt({value:d,defaultValue:p,finalValue:"#FFFFFF",onChange:f}),[z,W]=h.useState(Rn(R)),H=()=>{window.clearTimeout($.current),M.current=!0},Y=()=>{window.clearTimeout($.current),$.current=window.setTimeout(()=>{M.current=!1},200)},J=U=>{W(ee=>{const se={...ee,...U};return D.current=At(L.current,se),se}),O(D.current)};return Bt(()=>{typeof d=="string"&&mr(d)&&!M.current&&W(Rn(d))},[d]),Bt(()=>{L.current=c||"hex",O(At(L.current,z))},[c]),l.jsx(Cm,{value:{getStyles:T,unstyled:i},children:l.jsxs(ne,{ref:t,...T("wrapper"),size:b,mod:[{"full-width":E},C],...I,children:[g&&l.jsxs(l.Fragment,{children:[l.jsx(Tu,{value:z,onChange:J,onChangeEnd:({s:U,v:ee})=>m==null?void 0:m(At(L.current,{...z,s:U,v:ee})),color:R,size:b,focusable:x,saturationLabel:v,onScrubStart:H,onScrubEnd:Y}),l.jsxs("div",{...T("body"),children:[l.jsxs("div",{...T("sliders"),children:[l.jsx(Cu,{value:z.h,onChange:U=>J({h:U}),onChangeEnd:U=>m==null?void 0:m(At(L.current,{...z,h:U})),size:b,focusable:x,"aria-label":w,onScrubStart:H,onScrubEnd:Y}),N&&l.jsx(wu,{value:z.a,onChange:U=>J({a:U}),onChangeEnd:U=>{m==null||m(At(L.current,{...z,a:U}))},size:b,color:At("hex",z),focusable:x,"aria-label":S,onScrubStart:H,onScrubEnd:Y})]}),N&&l.jsx(Rr,{color:R,radius:"sm",size:"var(--cp-preview-size)",...T("preview")})]})]}),Array.isArray(y)&&l.jsx(Eu,{data:y,swatchesPerRow:k,focusable:x,setValue:O,onChangeEnd:U=>{const ee=At(c,Rn(U));A==null||A(ee),m==null||m(ee),F||W(Rn(U))}})]})})});Ea.classes=Ca;Ea.displayName="@mantine/core/ColorPicker";function Dm({style:e,...t}){return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),l.jsx("path",{d:"M12 3l0 4"}),l.jsx("path",{d:"M12 21l0 -3"}),l.jsx("path",{d:"M3 12l4 0"}),l.jsx("path",{d:"M21 12l-3 0"}),l.jsx("path",{d:"M12 12l0 .01"})]})}var Ji={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const el={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},Om=Ee((e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":ke(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":ke(t,"ci-preview-size")}})),Ra=ae((e,t)=>{const n=q("ColorInput",el,e),{classNames:r,styles:o,unstyled:s,disallowInput:a,fixOnBlur:i,popoverProps:u,withPreview:c,withEyeDropper:d,eyeDropperIcon:p,closeOnColorSwatchClick:f,eyeDropperButtonProps:m,value:g,defaultValue:b,onChange:v,onChangeEnd:w,onClick:S,onFocus:x,onBlur:y,inputProps:k,format:E="hex",wrapperProps:A,readOnly:_,withPicker:C,swatches:B,disabled:I,leftSection:T,rightSection:L,swatchesPerRow:D,...$}=tu("ColorInput",el,e),M=be({name:"ColorInput",props:n,classes:Ji,classNames:r,styles:o,unstyled:s,rootSelector:"wrapper",vars:n.vars,varsResolver:Om}),{resolvedClassNames:N,resolvedStyles:R}=Dn({classNames:r,styles:o,props:n}),[O,F]=h.useState(!1),[z,W]=h.useState(""),[H,Y]=mt({value:g,defaultValue:b,finalValue:"",onChange:v}),{supported:J,open:U}=df(),ee=l.jsx(pn,{...m,...M("eyeDropperButton",{className:m==null?void 0:m.className,style:m==null?void 0:m.style}),variant:"subtle",color:"gray",size:k.size,unstyled:s,onClick:()=>U().then(pe=>{if(pe!=null&&pe.sRGBHex){const Ce=At(E,Rn(pe.sRGBHex));Y(Ce),w==null||w(Ce)}}).catch(()=>{}),children:p||l.jsx(Dm,{...M("eyeDropperIcon")})}),se=pe=>{x==null||x(pe),F(!0)},ue=pe=>{i&&Y(z),y==null||y(pe),F(!1)},ge=pe=>{S==null||S(pe),F(!0)};return h.useEffect(()=>{(mr(H)||H.trim()==="")&&W(H)},[H]),Bt(()=>{mr(H)&&Y(At(E,Rn(H)))},[E]),l.jsx(Fe.Wrapper,{...A,classNames:N,styles:R,__staticSelector:"ColorInput",children:l.jsxs(qe,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:O,...u,classNames:N,styles:R,unstyled:s,withRoles:!1,disabled:_||C===!1&&(!Array.isArray(B)||B.length===0),children:[l.jsx(qe.Target,{children:l.jsx(Fe,{autoComplete:"off",...$,...k,classNames:N,styles:R,disabled:I,ref:t,__staticSelector:"ColorInput",onFocus:se,onBlur:ue,onClick:ge,spellCheck:!1,value:H,onChange:pe=>{const Ce=pe.currentTarget.value;Y(Ce),mr(Ce)&&(w==null||w(At(E,Rn(Ce))))},leftSection:T||(c?l.jsx(Rr,{color:mr(H)?H:"#fff",size:"var(--ci-preview-size)",...M("colorPreview")}):null),readOnly:a||_,pointer:a,unstyled:s,rightSection:L||(d&&!I&&!_&&J?ee:null)})}),l.jsx(qe.Dropdown,{onMouseDown:pe=>pe.preventDefault(),className:Ji.dropdown,children:l.jsx(Ea,{__staticSelector:"ColorInput",value:H,onChange:Y,onChangeEnd:w,format:E,swatches:B,swatchesPerRow:D,withPicker:C,size:k.size,focusable:!1,unstyled:s,styles:R,classNames:N,onColorSwatchClick:()=>f&&F(!1),attributes:A.attributes})})]})})});Ra.classes=Tt.classes;Ra.displayName="@mantine/core/ColorInput";var Lm=h.useLayoutEffect,$m=function(t){var n=je.useRef(t);return Lm(function(){n.current=t}),n},tl=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},zm=function(t,n){var r=je.useRef();return je.useCallback(function(o){t.current=o,r.current&&tl(r.current,null),r.current=n,n&&tl(n,o)},[n])},nl={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Fm=function(t){Object.keys(nl).forEach(function(n){t.style.setProperty(n,nl[n],"important")})},rl=Fm,nt=null,ol=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Bm(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),nt||(nt=document.createElement("textarea"),nt.setAttribute("tabindex","-1"),nt.setAttribute("aria-hidden","true"),rl(nt)),nt.parentNode===null&&document.body.appendChild(nt);var o=e.paddingSize,s=e.borderSize,a=e.sizingStyle,i=a.boxSizing;Object.keys(a).forEach(function(f){var m=f;nt.style[m]=a[m]}),rl(nt),nt.value=t;var u=ol(nt,e);nt.value=t,u=ol(nt,e),nt.value="x";var c=nt.scrollHeight-o,d=c*n;i==="border-box"&&(d=d+o+s),u=Math.max(d,u);var p=c*r;return i==="border-box"&&(p=p+o+s),u=Math.min(p,u),[u,c]}var sl=function(){},Um=function(t,n){return t.reduce(function(r,o){return r[o]=n[o],r},{})},Vm=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Hm=!!document.documentElement.currentStyle,Wm=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Um(Vm,n),o=r.boxSizing;if(o==="")return null;Hm&&o==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),a=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:a}},Gm=Wm;function Aa(e,t,n){var r=$m(n);h.useLayoutEffect(function(){var o=function(a){return r.current(a)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var Km=function(t,n){Aa(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},qm=function(t){Aa(window,"resize",t)},Ym=function(t){Aa(document.fonts,"loadingdone",t)},Xm=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Zm=function(t,n){var r=t.cacheMeasurements,o=t.maxRows,s=t.minRows,a=t.onChange,i=a===void 0?sl:a,u=t.onHeightChange,c=u===void 0?sl:u,d=Bd(t,Xm),p=d.value!==void 0,f=h.useRef(null),m=zm(f,n),g=h.useRef(0),b=h.useRef(),v=function(){var x=f.current,y=r&&b.current?b.current:Gm(x);if(y){b.current=y;var k=Bm(y,x.value||x.placeholder||"x",s,o),E=k[0],A=k[1];g.current!==E&&(g.current=E,x.style.setProperty("height",E+"px","important"),c(E,{rowHeight:A}))}},w=function(x){p||v(),i(x)};return h.useLayoutEffect(v),Km(f,function(){if(!p){var S=f.current.value;requestAnimationFrame(function(){var x=f.current;x&&S!==x.value&&v()})}}),qm(v),Ym(v),h.createElement("textarea",Ud({},d,{onChange:w,ref:m}))},Qm=h.forwardRef(Zm);const ja=ae((e,t)=>{const{autosize:n,maxRows:r,minRows:o,__staticSelector:s,resize:a,...i}=q("Textarea",null,e),u=n&&pf()!=="test",c=u?{maxRows:r,minRows:o}:{};return l.jsx(Tt,{component:u?Qm:"textarea",ref:t,...i,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":a},...c})});ja.classes=Tt.classes;ja.displayName="@mantine/core/Textarea";const[Jm,yn]=on("Menu component was not found in the tree");var xn={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504",chevron:"m_b85b0bed"};const Na=ae((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:a,...i}=q("MenuDivider",null,e),u=yn();return l.jsx(ne,{ref:t,...u.getStyles("divider",{className:r,style:o,styles:s,classNames:n}),...i})});Na.classes=xn;Na.displayName="@mantine/core/MenuDivider";const Ma=ae((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:a,onMouseEnter:i,onMouseLeave:u,onKeyDown:c,children:d,...p}=q("MenuDropdown",null,e),f=h.useRef(null),m=yn(),g=ft(c,w=>{var S,x;(w.key==="ArrowUp"||w.key==="ArrowDown")&&(w.preventDefault(),(x=(S=f.current)==null?void 0:S.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||x.focus())}),b=ft(i,()=>(m.trigger==="hover"||m.trigger==="click-hover")&&m.openDropdown()),v=ft(u,()=>(m.trigger==="hover"||m.trigger==="click-hover")&&m.closeDropdown());return l.jsxs(qe.Dropdown,{...p,onMouseEnter:b,onMouseLeave:v,role:"menu","aria-orientation":"vertical",ref:Be(t,f),...m.getStyles("dropdown",{className:r,style:o,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:g,children:[m.withInitialFocusPlaceholder&&l.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),d]})});Ma.classes=xn;Ma.displayName="@mantine/core/MenuDropdown";const[eg,To]=Cr(),_a=It((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:a,color:i,closeMenuOnClick:u,leftSection:c,rightSection:d,children:p,disabled:f,"data-disabled":m,...g}=q("MenuItem",null,e),b=yn(),v=To(),w=Pn(),{dir:S}=vn(),x=h.useRef(null),y=g,k=ft(y.onClick,()=>{m||(typeof u=="boolean"?u&&b.closeDropdownImmediately():b.closeOnItemClick&&b.closeDropdownImmediately())}),E=i?w.variantColorResolver({color:i,theme:w,variant:"light"}):void 0,A=i?ec({color:i,theme:w}):null,_=ft(y.onKeyDown,C=>{C.key==="ArrowLeft"&&v&&(v.close(),v.focusParentItem())});return l.jsxs(Nn,{onMouseDown:C=>C.preventDefault(),...g,unstyled:b.unstyled,tabIndex:b.menuItemTabIndex,...b.getStyles("item",{className:r,style:o,styles:s,classNames:n}),ref:Be(x,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||m||void 0,"data-mantine-stop-propagation":!0,onClick:k,onKeyDown:Bs({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:b.loop,dir:S,orientation:"vertical",onKeyDown:_}),__vars:{"--menu-item-color":A!=null&&A.isThemeColor&&(A==null?void 0:A.shade)===void 0?`var(--mantine-color-${A.color}-6)`:E==null?void 0:E.color,"--menu-item-hover":E==null?void 0:E.hover},children:[c&&l.jsx("div",{...b.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:c}),p&&l.jsx("div",{...b.getStyles("itemLabel",{styles:s,classNames:n}),children:p}),d&&l.jsx("div",{...b.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:d})]})});_a.classes=xn;_a.displayName="@mantine/core/MenuItem";const Ia=ae((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:a,...i}=q("MenuLabel",null,e),u=yn();return l.jsx(ne,{ref:t,...u.getStyles("label",{className:r,style:o,styles:s,classNames:n}),...i})});Ia.classes=xn;Ia.displayName="@mantine/core/MenuLabel";const Pa=ae((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:a,onMouseEnter:i,onMouseLeave:u,onKeyDown:c,children:d,...p}=q("MenuSubDropdown",null,e),f=h.useRef(null),m=yn(),g=To(),b=ft(i,g==null?void 0:g.open),v=ft(u,g==null?void 0:g.close);return l.jsx(qe.Dropdown,{...p,onMouseEnter:b,onMouseLeave:v,role:"menu","aria-orientation":"vertical",ref:Be(t,f),...m.getStyles("dropdown",{className:r,style:o,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,children:d})});Pa.classes=xn;Pa.displayName="@mantine/core/MenuSubDropdown";const Da=It((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:a,color:i,leftSection:u,rightSection:c,children:d,disabled:p,"data-disabled":f,closeMenuOnClick:m,...g}=q("MenuSubItem",null,e),b=yn(),v=To(),w=Pn(),{dir:S}=vn(),x=h.useRef(null),y=g,k=i?w.variantColorResolver({color:i,theme:w,variant:"light"}):void 0,E=i?ec({color:i,theme:w}):null,A=ft(y.onKeyDown,I=>{I.key==="ArrowRight"&&(v==null||v.open(),v==null||v.focusFirstItem()),I.key==="ArrowLeft"&&(v!=null&&v.parentContext)&&(v.parentContext.close(),v.parentContext.focusParentItem())}),_=ft(y.onClick,()=>{!f&&m&&b.closeDropdownImmediately()}),C=ft(y.onMouseEnter,v==null?void 0:v.open),B=ft(y.onMouseLeave,v==null?void 0:v.close);return l.jsxs(Nn,{onMouseDown:I=>I.preventDefault(),...g,unstyled:b.unstyled,tabIndex:b.menuItemTabIndex,...b.getStyles("item",{className:r,style:o,styles:s,classNames:n}),ref:Be(x,t),role:"menuitem",disabled:p,"data-menu-item":!0,"data-sub-menu-item":!0,"data-disabled":p||f||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:C,onMouseLeave:B,onClick:_,onKeyDown:Bs({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:b.loop,dir:S,orientation:"vertical",onKeyDown:A}),__vars:{"--menu-item-color":E!=null&&E.isThemeColor&&(E==null?void 0:E.shade)===void 0?`var(--mantine-color-${E.color}-6)`:k==null?void 0:k.color,"--menu-item-hover":k==null?void 0:k.hover},children:[u&&l.jsx("div",{...b.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:u}),d&&l.jsx("div",{...b.getStyles("itemLabel",{styles:s,classNames:n}),children:d}),l.jsx("div",{...b.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:c||l.jsx(ru,{...b.getStyles("chevron"),size:14})})]})});Da.classes=xn;Da.displayName="@mantine/core/MenuSubItem";function Ru({children:e,refProp:t}){if(!rn(e))throw new Error("Menu.Sub.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return yn(),l.jsx(qe.Target,{refProp:t,popupType:"menu",children:e})}Ru.displayName="@mantine/core/MenuSubTarget";const tg={offset:0,position:"right-start",transitionProps:{duration:0},middlewares:{shift:{crossAxis:!0}}};function nr(e){const{children:t,closeDelay:n,...r}=q("MenuSub",tg,e),o=Pt(),[s,{open:a,close:i}]=cf(!1),u=To(),{openDropdown:c,closeDropdown:d}=nu({open:a,close:i,closeDelay:n,openDelay:0}),p=()=>window.setTimeout(()=>{var m,g;(g=(m=document.getElementById(`${o}-dropdown`))==null?void 0:m.querySelectorAll("[data-menu-item]:not([data-disabled])")[0])==null||g.focus()},16),f=()=>window.setTimeout(()=>{var m;(m=document.getElementById(`${o}-target`))==null||m.focus()},16);return l.jsx(eg,{value:{opened:s,close:d,open:c,focusFirstItem:p,focusParentItem:f,parentContext:u},children:l.jsx(qe,{opened:s,...r,withinPortal:!1,withArrow:!1,id:o,children:t})})}nr.extend=e=>e;nr.displayName="@mantine/core/MenuSub";nr.Target=Ru;nr.Dropdown=Pa;nr.Item=Da;const ng={refProp:"ref"},Au=h.forwardRef((e,t)=>{const{children:n,refProp:r,...o}=q("MenuTarget",ng,e);if(!rn(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=yn(),a=n.props,i=ft(a.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),u=ft(a.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),c=ft(a.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return l.jsx(qe.Target,{refProp:r,popupType:"menu",ref:t,...o,children:h.cloneElement(n,{onClick:i,onMouseEnter:u,onMouseLeave:c,"data-expanded":s.opened?!0:void 0})})});Au.displayName="@mantine/core/MenuTarget";const rg={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function st(e){const t=q("Menu",rg,e),{children:n,onOpen:r,onClose:o,opened:s,defaultOpened:a,trapFocus:i,onChange:u,closeOnItemClick:c,loop:d,closeOnEscape:p,trigger:f,openDelay:m,closeDelay:g,classNames:b,styles:v,unstyled:w,variant:S,vars:x,menuItemTabIndex:y,keepMounted:k,withInitialFocusPlaceholder:E,attributes:A,..._}=t,C=be({name:"Menu",classes:xn,props:t,classNames:b,styles:v,unstyled:w,attributes:A}),[B,I]=mt({value:s,defaultValue:a,finalValue:!1,onChange:u}),[T,L]=h.useState(!1),D=()=>{I(!1),L(!1),B&&(o==null||o())},$=()=>{I(!0),!B&&(r==null||r())},M=()=>{B?D():$()},{openDropdown:N,closeDropdown:R}=nu({open:$,close:D,closeDelay:g,openDelay:m}),O=W=>Xd("[data-menu-item]","[data-menu-dropdown]",W),{resolvedClassNames:F,resolvedStyles:z}=Dn({classNames:b,styles:v,props:t});return l.jsx(Jm,{value:{getStyles:C,opened:B,toggleDropdown:M,getItemIndex:O,openedViaClick:T,setOpenedViaClick:L,closeOnItemClick:c,closeDropdown:f==="click"?D:R,openDropdown:f==="click"?$:N,closeDropdownImmediately:D,loop:d,trigger:f,unstyled:w,menuItemTabIndex:y,withInitialFocusPlaceholder:E},children:l.jsx(qe,{..._,opened:B,onChange:M,defaultOpened:a,trapFocus:k?!1:i,closeOnEscape:p,__staticSelector:"Menu",classNames:F,styles:z,unstyled:w,variant:S,keepMounted:k,children:n})})}st.extend=e=>e;st.withProps=Vd(st);st.classes=xn;st.displayName="@mantine/core/Menu";st.Item=_a;st.Label=Ia;st.Dropdown=Ma;st.Target=Au;st.Divider=Na;st.Sub=nr;const[og,rr]=on("Modal component was not found in tree");var an={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Eo=ae((e,t)=>{const n=q("ModalBody",null,e),{classNames:r,className:o,style:s,styles:a,vars:i,...u}=n,c=rr();return l.jsx(qc,{ref:t,...c.getStyles("body",{classNames:r,style:s,styles:a,className:o}),...u})});Eo.classes=an;Eo.displayName="@mantine/core/ModalBody";const Ro=ae((e,t)=>{const n=q("ModalCloseButton",null,e),{classNames:r,className:o,style:s,styles:a,vars:i,...u}=n,c=rr();return l.jsx(Yc,{ref:t,...c.getStyles("close",{classNames:r,style:s,styles:a,className:o}),...u})});Ro.classes=an;Ro.displayName="@mantine/core/ModalCloseButton";const Ao=ae((e,t)=>{const n=q("ModalContent",null,e),{classNames:r,className:o,style:s,styles:a,vars:i,children:u,__hidden:c,...d}=n,p=rr(),f=p.scrollAreaComponent||Op;return l.jsx(Xc,{...p.getStyles("content",{className:o,style:s,styles:a,classNames:r}),innerProps:p.getStyles("inner",{className:o,style:s,styles:a,classNames:r}),"data-full-screen":p.fullScreen||void 0,"data-modal-content":!0,"data-hidden":c||void 0,ref:t,...d,children:l.jsx(f,{style:{maxHeight:p.fullScreen?"100dvh":`calc(100dvh - (${Se(p.yOffset)} * 2))`},children:u})})});Ao.classes=an;Ao.displayName="@mantine/core/ModalContent";const jo=ae((e,t)=>{const n=q("ModalHeader",null,e),{classNames:r,className:o,style:s,styles:a,vars:i,...u}=n,c=rr();return l.jsx(Zc,{ref:t,...c.getStyles("header",{classNames:r,style:s,styles:a,className:o}),...u})});jo.classes=an;jo.displayName="@mantine/core/ModalHeader";const No=ae((e,t)=>{const n=q("ModalOverlay",null,e),{classNames:r,className:o,style:s,styles:a,vars:i,...u}=n,c=rr();return l.jsx(Qc,{ref:t,...c.getStyles("overlay",{classNames:r,style:s,styles:a,className:o}),...u})});No.classes=an;No.displayName="@mantine/core/ModalOverlay";const sg={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:nn("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},ag=Ee((e,{radius:t,size:n,yOffset:r,xOffset:o})=>({root:{"--modal-radius":t===void 0?void 0:et(t),"--modal-size":ke(n,"modal-size"),"--modal-y-offset":Se(r),"--modal-x-offset":Se(o)}})),Mo=ae((e,t)=>{const n=q("ModalRoot",sg,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,yOffset:c,scrollAreaComponent:d,radius:p,fullScreen:f,centered:m,xOffset:g,__staticSelector:b,attributes:v,...w}=n,S=be({name:b,classes:an,props:n,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:v,vars:u,varsResolver:ag});return l.jsx(og,{value:{yOffset:c,scrollAreaComponent:d,getStyles:S,fullScreen:f},children:l.jsx(Kc,{ref:t,...S("root"),"data-full-screen":f||void 0,"data-centered":m||void 0,"data-offset-scrollbars":d===hn.Autosize||void 0,unstyled:i,...w})})});Mo.classes=an;Mo.displayName="@mantine/core/ModalRoot";const[ig,lg]=Cr();function ju({children:e}){const[t,n]=h.useState([]),[r,o]=h.useState(nn("modal"));return l.jsx(ig,{value:{stack:t,addModal:(s,a)=>{n(i=>[...new Set([...i,s])]),o(i=>typeof a=="number"&&typeof i=="number"?Math.max(i,a):i)},removeModal:s=>n(a=>a.filter(i=>i!==s)),getZIndex:s=>`calc(${r} + ${t.indexOf(s)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}ju.displayName="@mantine/core/ModalStack";const _o=ae((e,t)=>{const n=q("ModalTitle",null,e),{classNames:r,className:o,style:s,styles:a,vars:i,...u}=n,c=rr();return l.jsx(Jc,{ref:t,...c.getStyles("title",{classNames:r,style:s,styles:a,className:o}),...u})});_o.classes=an;_o.displayName="@mantine/core/ModalTitle";const cg={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:nn("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Je=ae((e,t)=>{const{title:n,withOverlay:r,overlayProps:o,withCloseButton:s,closeButtonProps:a,children:i,radius:u,opened:c,stackId:d,zIndex:p,...f}=q("Modal",cg,e),m=lg(),g=!!n||s,b=m&&d?{closeOnEscape:m.currentId===d,trapFocus:m.currentId===d,zIndex:m.getZIndex(d)}:{},v=r===!1?!1:d&&m?m.currentId===d:c;return h.useEffect(()=>{m&&d&&(c?m.addModal(d,p||nn("modal")):m.removeModal(d))},[c,d,p]),l.jsxs(Mo,{ref:t,radius:u,opened:c,zIndex:m&&d?m.getZIndex(d):p,...f,...b,children:[r&&l.jsx(No,{visible:v,transitionProps:m&&d?{duration:0}:void 0,...o}),l.jsxs(Ao,{radius:u,__hidden:m&&d&&c?d!==m.currentId:!1,children:[g&&l.jsxs(jo,{children:[n&&l.jsx(_o,{children:n}),s&&l.jsx(Ro,{...a})]}),l.jsx(Eo,{children:i})]})]})});Je.classes=an;Je.displayName="@mantine/core/Modal";Je.Root=Mo;Je.Overlay=No;Je.Content=Ao;Je.Body=Eo;Je.Header=jo;Je.Title=_o;Je.CloseButton=Ro;Je.Stack=ju;function Nu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}var wr;(function(e){e.event="event",e.props="prop"})(wr||(wr={}));function un(){}function ug(e){var t,n=void 0;return function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return t&&r.length===t.length&&r.every(function(s,a){return s===t[a]})||(t=r,n=e.apply(void 0,r)),n}}function Sr(e){return!!(e||"").match(/\d/)}function Vn(e){return e==null}function dg(e){return typeof e=="number"&&isNaN(e)}function Mu(e){return Vn(e)||dg(e)||typeof e=="number"&&!isFinite(e)}function _u(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function fg(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function hg(e,t,n){var r=fg(n),o=e.search(/[1-9]/);return o=o===-1?e.length:o,e.substring(0,o)+e.substring(o,e.length).replace(r,"$1"+t)}function pg(e){var t=h.useRef(e);t.current=e;var n=h.useRef(function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return t.current.apply(t,r)});return n.current}function Oa(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var o=e.split("."),s=o[0],a=o[1]||"";return{beforeDecimal:s,afterDecimal:a,hasNegation:n,addNegation:r}}function mg(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",o=n[1]||"";return(t?"-":"")+r+(o?"."+o:"")}function Iu(e,t,n){for(var r="",o=n?"0":"",s=0;s<=t-1;s++)r+=e[s]||o;return r}function al(e,t){return Array(t+1).join(e)}function Pu(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),o=r[0],s=r[1];if(s=Number(s),!s)return n+o;o=o.replace(".","");var a=1+s,i=o.length;return a<0?o="0."+al("0",Math.abs(a))+o:a>=i?o=o+al("0",a-i):o=(o.substring(0,a)||"0")+"."+o.substring(a),n+o}function il(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,o=Oa(e),s=o.beforeDecimal,a=o.afterDecimal,i=o.hasNegation,u=parseFloat("0."+(a||"0")),c=a.length<=t?"0."+a:u.toFixed(t),d=c.split("."),p=s;s&&Number(d[0])&&(p=s.split("").reverse().reduce(function(b,v,w){return b.length>w?(Number(b[0])+Number(v)).toString()+b.substring(1,b.length):v+b},d[0]));var f=Iu(d[1]||"",t,n),m=i?"-":"",g=r?".":"";return""+m+p+g+f}function Tn(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var Du=ug(function(e,t){for(var n=0,r=0,o=e.length,s=t.length;e[n]===t[n]&&n<o;)n++;for(;e[o-1-r]===t[s-1-r]&&s-r>n&&o-r>n;)r++;return{from:{start:n,end:o-r},to:{start:n,end:s-r}}}),gg=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function bg(e,t,n){return Math.min(Math.max(e,t),n)}function Xo(e){return Math.max(e.selectionStart,e.selectionEnd)}function vg(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function yg(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function xg(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,o=e.formattedValueIndex;return t[r]===n[o]}function wg(e,t,n,r,o,s,a){a===void 0&&(a=xg);var i=o.findIndex(function(y){return y}),u=e.slice(0,i);!t&&!n.startsWith(u)&&(t=u,n=u+n,r=r+u.length);for(var c=n.length,d=e.length,p={},f=new Array(c),m=0;m<c;m++){f[m]=-1;for(var g=0,b=d;g<b;g++){var v=a({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:m,formattedValueIndex:g});if(v&&p[g]!==!0){f[m]=g,p[g]=!0;break}}}for(var w=r;w<c&&(f[w]===-1||!s(n[w]));)w++;var S=w===c||f[w]===-1?d:f[w];for(w=r-1;w>0&&f[w]===-1;)w--;var x=w===-1||f[w]===-1?0:f[w]+1;return x>S?S:r-x<S-r?x:S}function ll(e,t,n,r){var o=e.length;if(t=bg(t,0,o),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=o&&!n[t];)t++;t>o&&(t=n.lastIndexOf(!0))}return t===-1&&(t=o),t}function Sg(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(Sr(e[n])||Sr(e[n-1]));return t}function Ou(e,t,n,r,o,s){s===void 0&&(s=un);var a=pg(function(g,b){var v,w;return Mu(g)?(w="",v=""):typeof g=="number"||b?(w=typeof g=="number"?Pu(g):g,v=r(w)):(w=o(g,void 0),v=r(w)),{formattedValue:v,numAsString:w}}),i=h.useState(function(){return a(Vn(e)?t:e,n)}),u=i[0],c=i[1],d=function(g,b){g.formattedValue!==u.formattedValue&&c({formattedValue:g.formattedValue,numAsString:g.value}),s(g,b)},p=e,f=n;Vn(e)&&(p=u.numAsString,f=!0);var m=a(p,f);return h.useMemo(function(){c(m)},[m.formattedValue]),[u,d]}function kg(e){return e.replace(/[^0-9]/g,"")}function Cg(e){return e}function Tg(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,o=e.renderText,s=e.getInputRef,a=e.format;a===void 0&&(a=Cg);var i=e.removeFormatting;i===void 0&&(i=kg);var u=e.defaultValue,c=e.valueIsNumericString,d=e.onValueChange,p=e.isAllowed,f=e.onChange;f===void 0&&(f=un);var m=e.onKeyDown;m===void 0&&(m=un);var g=e.onMouseUp;g===void 0&&(g=un);var b=e.onFocus;b===void 0&&(b=un);var v=e.onBlur;v===void 0&&(v=un);var w=e.value,S=e.getCaretBoundary;S===void 0&&(S=Sg);var x=e.isValidInputCharacter;x===void 0&&(x=Sr);var y=e.isCharacterSame,k=Nu(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),E=Ou(w,u,!!c,a,i,d),A=E[0],_=A.formattedValue,C=A.numAsString,B=E[1],I=h.useRef(),T=h.useRef({formattedValue:_,numAsString:C}),L=function(P,V){T.current={formattedValue:P.formattedValue,numAsString:P.value},B(P,V)},D=h.useState(!1),$=D[0],M=D[1],N=h.useRef(null),R=h.useRef({setCaretTimeout:null,focusTimeout:null});h.useEffect(function(){return M(!0),function(){clearTimeout(R.current.setCaretTimeout),clearTimeout(R.current.focusTimeout)}},[]);var O=a,F=function(P,V){var G=parseFloat(V);return{formattedValue:P,value:V,floatValue:isNaN(G)?void 0:G}},z=function(P,V,G){P.selectionStart===0&&P.selectionEnd===P.value.length||(Tn(P,V),R.current.setCaretTimeout=setTimeout(function(){P.value===G&&P.selectionStart!==V&&Tn(P,V)},0))},W=function(P,V,G){return ll(P,V,S(P),G)},H=function(P,V,G){var ie=S(V),ce=wg(V,_,P,G,ie,x,y);return ce=ll(V,ce,ie),ce},Y=function(P){var V=P.formattedValue;V===void 0&&(V="");var G=P.input,ie=P.source,ce=P.event,re=P.numAsString,te;if(G){var De=P.inputValue||G.value,Z=Xo(G);G.value=V,te=H(De,V,Z),te!==void 0&&z(G,te,V)}V!==_&&L(F(V,re),{event:ce,source:ie})};h.useEffect(function(){var P=T.current,V=P.formattedValue,G=P.numAsString;(_!==V||C!==G)&&L(F(_,C),{event:void 0,source:wr.props})},[_,C]);var J=N.current?Xo(N.current):void 0,U=typeof window<"u"?h.useLayoutEffect:h.useEffect;U(function(){var P=N.current;if(_!==T.current.formattedValue&&P){var V=H(T.current.formattedValue,_,J);P.value=_,z(P,V,_)}},[_]);var ee=function(P,V,G){var ie=V.target,ce=I.current?gg(I.current,ie.selectionEnd):Du(_,P),re=Object.assign(Object.assign({},ce),{lastValue:_}),te=i(P,re),De=O(te);if(te=i(De,void 0),p&&!p(F(De,te))){var Z=V.target,Q=Xo(Z),de=H(P,_,Q);return Z.value=_,z(Z,de,_),!1}return Y({formattedValue:De,numAsString:te,inputValue:P,event:V,source:G,input:V.target}),!0},se=function(P,V){V===void 0&&(V=0);var G=P.selectionStart,ie=P.selectionEnd;I.current={selectionStart:G,selectionEnd:ie+V}},ue=function(P){var V=P.target,G=V.value,ie=ee(G,P,wr.event);ie&&f(P),I.current=void 0},ge=function(P){var V=P.target,G=P.key,ie=V.selectionStart,ce=V.selectionEnd,re=V.value;re===void 0&&(re="");var te;G==="ArrowLeft"||G==="Backspace"?te=Math.max(ie-1,0):G==="ArrowRight"?te=Math.min(ie+1,re.length):G==="Delete"&&(te=ie);var De=0;G==="Delete"&&ie===ce&&(De=1);var Z=G==="ArrowLeft"||G==="ArrowRight";if(te===void 0||ie!==ce&&!Z){m(P),se(V,De);return}var Q=te;if(Z){var de=G==="ArrowLeft"?"left":"right";Q=W(re,te,de),Q!==te&&P.preventDefault()}else G==="Delete"&&!x(re[te])?Q=W(re,te,"right"):G==="Backspace"&&!x(re[te])&&(Q=W(re,te,"left"));Q!==te&&z(V,Q,re),m(P),se(V,De)},pe=function(P){var V=P.target,G=function(){var ie=V.selectionStart,ce=V.selectionEnd,re=V.value;if(re===void 0&&(re=""),ie===ce){var te=W(re,ie);te!==ie&&z(V,te,re)}};G(),requestAnimationFrame(function(){G()}),g(P),se(V)},Ce=function(P){P.persist&&P.persist();var V=P.target,G=P.currentTarget;N.current=V,R.current.focusTimeout=setTimeout(function(){var ie=V.selectionStart,ce=V.selectionEnd,re=V.value;re===void 0&&(re="");var te=W(re,ie);te!==ie&&!(ie===0&&ce===re.length)&&z(V,te,re),b(Object.assign(Object.assign({},P),{currentTarget:G}))},0)},he=function(P){N.current=null,clearTimeout(R.current.focusTimeout),clearTimeout(R.current.setCaretTimeout),v(P)},we=$&&vg()?"numeric":void 0,xe=Object.assign({inputMode:we},k,{type:t,value:_,onChange:ue,onKeyDown:ge,onMouseUp:pe,onFocus:Ce,onBlur:he});if(n==="text")return o?je.createElement(je.Fragment,null,o(_,k)||null):je.createElement("span",Object.assign({},k,{ref:s}),_);if(r){var Ne=r;return je.createElement(Ne,Object.assign({},xe,{ref:s}))}return je.createElement("input",Object.assign({},xe,{ref:s}))}function cl(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,o=t.prefix;o===void 0&&(o="");var s=t.suffix;s===void 0&&(s="");var a=t.allowNegative,i=t.thousandsGroupStyle;if(i===void 0&&(i="thousand"),e===""||e==="-")return e;var u=Io(t),c=u.thousandSeparator,d=u.decimalSeparator,p=n!==0&&e.indexOf(".")!==-1||n&&r,f=Oa(e,a),m=f.beforeDecimal,g=f.afterDecimal,b=f.addNegation;return n!==void 0&&(g=Iu(g,n,!!r)),c&&(m=hg(m,c,i)),o&&(m=o+m),s&&(g=g+s),b&&(m="-"+m),e=m+(p&&d||"")+g,e}function Io(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function Eg(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),o=n.test(e),s=r.test(e);return e=e.replace(/-/g,""),o&&!s&&t&&(e="-"+e),e}function Rg(e,t){return new RegExp("(^-)|[0-9]|"+_u(e),"g")}function Ag(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function jg(e,t,n){var r;t===void 0&&(t=yg(e));var o=n.allowNegative,s=n.prefix;s===void 0&&(s="");var a=n.suffix;a===void 0&&(a="");var i=n.decimalScale,u=t.from,c=t.to,d=c.start,p=c.end,f=Io(n),m=f.allowedDecimalSeparators,g=f.decimalSeparator,b=e[p]===g;if(Sr(e)&&(e===s||e===a)&&t.lastValue==="")return e;if(p-d===1&&m.indexOf(e[d])!==-1){var v=i===0?"":g;e=e.substring(0,d)+v+e.substring(d+1,e.length)}var w=function(N,R,O){var F=!1,z=!1;s.startsWith("-")?F=!1:N.startsWith("--")?(F=!1,z=!0):a.startsWith("-")&&N.length===a.length?F=!1:N[0]==="-"&&(F=!0);var W=F?1:0;return z&&(W=2),W&&(N=N.substring(W),R-=W,O-=W),{value:N,start:R,end:O,hasNegation:F}},S=w(e,d,p),x=S.hasNegation;r=S,e=r.value,d=r.start,p=r.end;var y=w(t.lastValue,u.start,u.end),k=y.start,E=y.end,A=y.value,_=e.substring(d,p);e.length&&A.length&&(k>A.length-a.length||E<s.length)&&!(_&&a.startsWith(_))&&(e=A);var C=0;e.startsWith(s)?C+=s.length:d<s.length&&(C=d),e=e.substring(C),p-=C;var B=e.length,I=e.length-a.length;e.endsWith(a)?B=I:(p>I||p>e.length-a.length)&&(B=p),e=e.substring(0,B),e=Eg(x?"-"+e:e,o),e=(e.match(Rg(g))||[]).join("");var T=e.indexOf(g);e=e.replace(new RegExp(_u(g),"g"),function(N,R){return R===T?".":""});var L=Oa(e,o),D=L.beforeDecimal,$=L.afterDecimal,M=L.addNegation;return c.end-c.start<u.end-u.start&&D===""&&b&&!parseFloat($)&&(e=M?"-":""),e}function Ng(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var o=Array.from({length:e.length+1}).map(function(){return!0}),s=e[0]==="-";o.fill(!1,0,n.length+(s?1:0));var a=e.length;return o.fill(!1,a-r.length+1,a+1),o}function Mg(e){var t=Io(e),n=t.thousandSeparator,r=t.decimalSeparator,o=e.prefix;o===void 0&&(o="");var s=e.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return o.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+o+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},e),{allowNegative:s})}function _g(e){e=Mg(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,o=e.onKeyDown;o===void 0&&(o=un);var s=e.onBlur;s===void 0&&(s=un);var a=e.thousandSeparator,i=e.decimalScale,u=e.fixedDecimalScale,c=e.prefix;c===void 0&&(c="");var d=e.defaultValue,p=e.value,f=e.valueIsNumericString,m=e.onValueChange,g=Nu(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),b=Io(e),v=b.decimalSeparator,w=b.allowedDecimalSeparators,S=function(M){return cl(M,e)},x=function(M,N){return jg(M,N,e)},y=Vn(p)?d:p,k=f??Ag(y,c,t);Vn(p)?Vn(d)||(k=k||typeof d=="number"):k=k||typeof p=="number";var E=function(M){return Mu(M)?M:(typeof M=="number"&&(M=Pu(M)),k&&typeof i=="number"?il(M,i,!!u):M)},A=Ou(E(p),E(d),!!k,S,x,m),_=A[0],C=_.numAsString,B=_.formattedValue,I=A[1],T=function(M){var N=M.target,R=M.key,O=N.selectionStart,F=N.selectionEnd,z=N.value;if(z===void 0&&(z=""),(R==="Backspace"||R==="Delete")&&F<c.length){M.preventDefault();return}if(O!==F){o(M);return}R==="Backspace"&&z[0]==="-"&&O===c.length+1&&n&&Tn(N,1),i&&u&&(R==="Backspace"&&z[O-1]===v?(Tn(N,O-1),M.preventDefault()):R==="Delete"&&z[O]===v&&M.preventDefault()),w!=null&&w.includes(R)&&z[O]===v&&Tn(N,O+1);var W=a===!0?",":a;R==="Backspace"&&z[O-1]===W&&Tn(N,O-1),R==="Delete"&&z[O]===W&&Tn(N,O+1),o(M)},L=function(M){var N=C;if(N.match(/\d/g)||(N=""),r||(N=mg(N)),u&&i&&(N=il(N,i,u)),N!==C){var R=cl(N,e);I({formattedValue:R,value:N,floatValue:parseFloat(N)},{event:M,source:wr.event})}s(M)},D=function(M){return M===v?!0:Sr(M)},$=function(M){var N=M.currentValue,R=M.lastValue,O=M.formattedValue,F=M.currentValueIndex,z=M.formattedValueIndex,W=N[F],H=O[z],Y=Du(R,N),J=Y.to,U=function(ee){return x(ee).indexOf(".")+c.length};return p===0&&u&&i&&N[J.start]===v&&U(N)<F&&U(O)>z?!1:F>=J.start&&F<J.end&&w&&w.includes(W)&&H===v?!0:W===H};return Object.assign(Object.assign({},g),{value:B,valueIsNumericString:!1,isValidInputCharacter:D,isCharacterSame:$,onValueChange:I,format:S,removeFormatting:x,getCaretBoundary:function(M){return Ng(M,e)},onKeyDown:T,onBlur:L})}function Ig(e){var t=_g(e);return je.createElement(Tg,Object.assign({},t))}function ul({direction:e,style:t,...n}){return l.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:l.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var Cs={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Pg=/^(0\.0*|-0(\.0*)?)$/,Dg=/^-?0\d+(\.\d+)?\.?$/,Og=/\.\d*0$/;function Ts(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function Zo(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||Ts(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function Lg(e){return e.toString().replace(".","").length}function $g(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&Lg(t)<14&&t!==""}function dl(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,o=n===void 0||e<=n;return r&&o}const zg={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},Fg=Ee((e,{size:t})=>({controls:{"--ni-chevron-size":ke(t,"ni-chevron-size")}}));function Bg(e,t,n){const r=e.toString().replace(/^0+/,""),o=parseFloat(r);return Number.isNaN(o)?r:o>Number.MAX_SAFE_INTEGER?t!==void 0?t:r:vt(o,n,t)}const La=ae((e,t)=>{const n=q("NumberInput",zg,e),{className:r,classNames:o,styles:s,unstyled:a,vars:i,onChange:u,onValueChange:c,value:d,defaultValue:p,max:f,min:m,step:g,hideControls:b,rightSection:v,isAllowed:w,clampBehavior:S,onBlur:x,allowDecimal:y,decimalScale:k,onKeyDown:E,onKeyDownCapture:A,handlersRef:_,startValue:C,disabled:B,rightSectionPointerEvents:I,allowNegative:T,readOnly:L,size:D,rightSectionWidth:$,stepHoldInterval:M,stepHoldDelay:N,allowLeadingZeros:R,withKeyboardEvents:O,trimLeadingZeroesOnBlur:F,attributes:z,...W}=n,H=be({name:"NumberInput",classes:Cs,props:n,classNames:o,styles:s,unstyled:a,attributes:z,vars:i,varsResolver:Fg}),{resolvedClassNames:Y,resolvedStyles:J}=Dn({classNames:o,styles:s,props:n}),[U,ee]=mt({value:d,defaultValue:p,finalValue:"",onChange:u}),se=N!==void 0&&M!==void 0,ue=h.useRef(null),ge=h.useRef(null),pe=h.useRef(0),Ce=(Z,Q)=>{Q.source==="event"&&ee($g(Z.floatValue,Z.value)&&!Pg.test(Z.value)&&!(R&&Dg.test(Z.value))&&!Og.test(Z.value)?Z.floatValue:Z.value),c==null||c(Z,Q)},he=Z=>{const Q=String(Z).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Q?Math.max(0,(Q[1]?Q[1].length:0)-(Q[2]?+Q[2]:0)):0},we=Z=>{ue.current&&typeof Z<"u"&&ue.current.setSelectionRange(Z,Z)},xe=h.useRef(ds);xe.current=()=>{if(!Zo(U))return;let Z;const Q=he(U),de=he(g),Pe=Math.max(Q,de),Me=10**Pe;if(!Ts(U)&&(typeof U!="number"||Number.isNaN(U)))Z=vt(C,m,f);else if(f!==void 0){const Re=(Math.round(Number(U)*Me)+Math.round(g*Me))/Me;Z=Re<=f?Re:f}else Z=(Math.round(Number(U)*Me)+Math.round(g*Me))/Me;const tt=Z.toFixed(Pe);ee(parseFloat(tt)),c==null||c({floatValue:parseFloat(tt),formattedValue:tt,value:tt},{source:"increment"}),setTimeout(()=>{var Re;return we((Re=ue.current)==null?void 0:Re.value.length)},0)};const Ne=h.useRef(ds);Ne.current=()=>{if(!Zo(U))return;let Z;const Q=m!==void 0?m:T?Number.MIN_SAFE_INTEGER:0,de=he(U),Pe=he(g),Me=Math.max(de,Pe),tt=10**Me;if(!Ts(U)&&typeof U!="number"||Number.isNaN(U))Z=vt(C,Q,f);else{const Ve=(Math.round(Number(U)*tt)-Math.round(g*tt))/tt;Z=Q!==void 0&&Ve<Q?Q:Ve}const Re=Z.toFixed(Me);ee(parseFloat(Re)),c==null||c({floatValue:parseFloat(Re),formattedValue:Re,value:Re},{source:"decrement"}),setTimeout(()=>{var Ve;return we((Ve=ue.current)==null?void 0:Ve.value.length)},0)};const P=Z=>{var Q,de;E==null||E(Z),!(L||!O)&&(Z.key==="ArrowUp"&&(Z.preventDefault(),(Q=xe.current)==null||Q.call(xe)),Z.key==="ArrowDown"&&(Z.preventDefault(),(de=Ne.current)==null||de.call(Ne)))},V=Z=>{if(A==null||A(Z),Z.key==="Backspace"){const Q=ue.current;Q&&Q.selectionStart===0&&Q.selectionStart===Q.selectionEnd&&(Z.preventDefault(),window.setTimeout(()=>we(0),0))}},G=Z=>{let Q=U;S==="blur"&&typeof Q=="number"&&(Q=vt(Q,m,f)),F&&typeof Q=="string"&&he(Q)<15&&(Q=Bg(Q,f,m)),U!==Q&&ee(Q),x==null||x(Z)};Hd(_,{increment:xe.current,decrement:Ne.current});const ie=Z=>{var Q,de;Z?(Q=xe.current)==null||Q.call(xe):(de=Ne.current)==null||de.call(Ne),pe.current+=1},ce=Z=>{if(ie(Z),se){const Q=typeof M=="number"?M:M(pe.current);ge.current=window.setTimeout(()=>ce(Z),Q)}},re=(Z,Q)=>{var de;Z.preventDefault(),(de=ue.current)==null||de.focus(),ie(Q),se&&(ge.current=window.setTimeout(()=>ce(Q),N))},te=()=>{ge.current&&window.clearTimeout(ge.current),ge.current=null,pe.current=0},De=l.jsxs("div",{...H("controls"),children:[l.jsx(Nn,{...H("control"),tabIndex:-1,"aria-hidden":!0,disabled:B||typeof U=="number"&&f!==void 0&&U>=f,mod:{direction:"up"},onMouseDown:Z=>Z.preventDefault(),onPointerDown:Z=>{re(Z,!0)},onPointerUp:te,onPointerLeave:te,children:l.jsx(ul,{direction:"up"})}),l.jsx(Nn,{...H("control"),tabIndex:-1,"aria-hidden":!0,disabled:B||typeof U=="number"&&m!==void 0&&U<=m,mod:{direction:"down"},onMouseDown:Z=>Z.preventDefault(),onPointerDown:Z=>{re(Z,!1)},onPointerUp:te,onPointerLeave:te,children:l.jsx(ul,{direction:"down"})})]});return l.jsx(Tt,{component:Ig,allowNegative:T,className:Nt(Cs.root,r),size:D,...W,readOnly:L,disabled:B,value:U,getInputRef:Be(t,ue),onValueChange:Ce,rightSection:b||L||!Zo(U)?v:v||De,classNames:Y,styles:J,unstyled:a,__staticSelector:"NumberInput",decimalScale:y?k:0,onKeyDown:P,onKeyDownCapture:V,rightSectionPointerEvents:I??(B?"none":void 0),rightSectionWidth:$??`var(--ni-right-section-width-${D||"sm"})`,allowLeadingZeros:R,onBlur:G,attributes:z,isAllowed:Z=>S==="strict"?w?w(Z)&&dl(Z.floatValue,m,f):dl(Z.floatValue,m,f):w?w(Z):!0})});La.classes={...Tt.classes,...Cs};La.displayName="@mantine/core/NumberInput";const Ug=({reveal:e})=>l.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:l.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Es={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const Vg={visibilityToggleIcon:Ug},Hg=Ee((e,{size:t})=>({root:{"--psi-icon-size":ke(t,"psi-icon-size"),"--psi-button-size":ke(t,"psi-button-size")}})),$a=ae((e,t)=>{const n=q("PasswordInput",Vg,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,required:c,error:d,leftSection:p,disabled:f,id:m,variant:g,inputContainer:b,description:v,label:w,size:S,errorProps:x,descriptionProps:y,labelProps:k,withAsterisk:E,inputWrapperOrder:A,wrapperProps:_,radius:C,rightSection:B,rightSectionWidth:I,rightSectionPointerEvents:T,leftSectionWidth:L,visible:D,defaultVisible:$,onVisibilityChange:M,visibilityToggleIcon:N,visibilityToggleButtonProps:R,rightSectionProps:O,leftSectionProps:F,leftSectionPointerEvents:z,withErrorStyles:W,mod:H,attributes:Y,...J}=n,U=Pt(m),[ee,se]=mt({value:D,defaultValue:$,finalValue:!1,onChange:M}),ue=()=>se(!ee),ge=be({name:"PasswordInput",classes:Es,props:n,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:Y,vars:u,varsResolver:Hg}),{resolvedClassNames:pe,resolvedStyles:Ce}=Dn({classNames:r,styles:a,props:n}),{styleProps:he,rest:we}=co(J),xe=(x==null?void 0:x.id)||`${U}-error`,Ne=(y==null?void 0:y.id)||`${U}-description`,G=`${!!d&&typeof d!="boolean"?xe:""} ${!!v?Ne:""}`,ie=G.trim().length>0?G.trim():void 0,ce=l.jsx(pn,{...ge("visibilityToggle"),disabled:f,radius:C,"aria-hidden":!R,tabIndex:-1,...R,variant:(R==null?void 0:R.variant)??"subtle",color:"gray",unstyled:i,onTouchEnd:re=>{var te;re.preventDefault(),(te=R==null?void 0:R.onTouchEnd)==null||te.call(R,re),ue()},onMouseDown:re=>{var te;re.preventDefault(),(te=R==null?void 0:R.onMouseDown)==null||te.call(R,re),ue()},onKeyDown:re=>{var te;(te=R==null?void 0:R.onKeyDown)==null||te.call(R,re),re.key===" "&&(re.preventDefault(),ue())},children:l.jsx(N,{reveal:ee})});return l.jsx(Fe.Wrapper,{required:c,id:U,label:w,error:d,description:v,size:S,classNames:pe,styles:Ce,__staticSelector:"PasswordInput",unstyled:i,withAsterisk:E,inputWrapperOrder:A,inputContainer:b,variant:g,labelProps:{...k,htmlFor:U},descriptionProps:{...y,id:Ne},errorProps:{...x,id:xe},mod:H,attributes:Y,...ge("root"),...he,..._,children:l.jsx(Fe,{component:"div",error:d,leftSection:p,size:S,classNames:{...pe,input:Nt(Es.input,pe.input)},styles:Ce,radius:C,disabled:f,__staticSelector:"PasswordInput",rightSectionWidth:I,rightSection:B??ce,variant:g,unstyled:i,leftSectionWidth:L,rightSectionPointerEvents:T||"all",rightSectionProps:O,leftSectionProps:F,leftSectionPointerEvents:z,withAria:!1,withErrorStyles:W,attributes:Y,children:l.jsx("input",{required:c,"data-invalid":!!d||void 0,"data-with-left-section":!!p||void 0,...ge("innerInput"),disabled:f,id:U,ref:t,...we,"aria-describedby":ie,autoComplete:we.autoComplete||"off",type:ee?"text":"password"})})})});$a.classes={...Tt.classes,...Es};$a.displayName="@mantine/core/PasswordInput";const Wg={duration:100,transition:"fade"};function fl(e,t){return{...Wg,...t,...e}}function Gg({offset:e,position:t,defaultOpened:n}){const[r,o]=h.useState(n),s=h.useRef(null),{x:a,y:i,elements:u,refs:c,update:d,placement:p}=Js({placement:t,middleware:[Ys({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=p.includes("right")?e:t.includes("left")?e*-1:0,m=p.includes("bottom")?e:t.includes("top")?e*-1:0,g=h.useCallback(({clientX:b,clientY:v})=>{c.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:b,y:v,left:b+f,top:v+m,right:b,bottom:v}}})},[u.reference]);return h.useEffect(()=>{if(c.floating.current){const b=s.current;b.addEventListener("mousemove",g);const v=en(c.floating.current);return v.forEach(w=>{w.addEventListener("scroll",d)}),()=>{b.removeEventListener("mousemove",g),v.forEach(w=>{w.removeEventListener("scroll",d)})}}},[u.reference,c.floating.current,d,g,r]),{handleMouseMove:g,x:a,y:i,opened:r,setOpened:o,boundaryRef:s,floating:c.setFloating}}var Po={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Kg={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:nn("popover")},qg=Ee((e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:et(t),"--tooltip-bg":n?bn(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}})),za=ae((e,t)=>{const n=q("TooltipFloating",Kg,e),{children:r,refProp:o,withinPortal:s,style:a,className:i,classNames:u,styles:c,unstyled:d,radius:p,color:f,label:m,offset:g,position:b,multiline:v,zIndex:w,disabled:S,defaultOpened:x,variant:y,vars:k,portalProps:E,attributes:A,..._}=n,C=Pn(),B=be({name:"TooltipFloating",props:n,classes:Po,className:i,style:a,classNames:u,styles:c,unstyled:d,attributes:A,rootSelector:"tooltip",vars:k,varsResolver:qg}),{handleMouseMove:I,x:T,y:L,opened:D,boundaryRef:$,floating:M,setOpened:N}=Gg({offset:g,position:b,defaultOpened:x});if(!rn(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const R=Be($,fo(r),t),O=r.props,F=W=>{var H;(H=O.onMouseEnter)==null||H.call(O,W),I(W),N(!0)},z=W=>{var H;(H=O.onMouseLeave)==null||H.call(O,W),N(!1)};return l.jsxs(l.Fragment,{children:[l.jsx(Wn,{...E,withinPortal:s,children:l.jsx(ne,{..._,...B("tooltip",{style:{...ac(a,C),zIndex:w,display:!S&&D?"block":"none",top:(L&&Math.round(L))??"",left:(T&&Math.round(T))??""}}),variant:y,ref:M,mod:{multiline:v},children:m})}),h.cloneElement(r,{...O,[o]:R,onMouseEnter:F,onMouseLeave:z})]})});za.classes=Po;za.displayName="@mantine/core/TooltipFloating";const Lu=h.createContext(!1),Yg=Lu.Provider,Xg=()=>h.useContext(Lu),Zg={openDelay:0,closeDelay:0};function Fa(e){const{openDelay:t,closeDelay:n,children:r}=q("TooltipGroup",Zg,e);return l.jsx(Yg,{value:!0,children:l.jsx(Uh,{delay:{open:t,close:n},children:r})})}Fa.displayName="@mantine/core/TooltipGroup";Fa.extend=e=>e;function Qg(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function Jg(e){const t=Qg(e.middlewares),n=[xc(e.offset)];return t.shift&&n.push(Ys(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?Zr():Zr(t.flip)),n.push(wc({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?gr():gr(t.inline)):e.inline&&n.push(gr()),n}function eb(e){var k,E,A;const[t,n]=h.useState(e.defaultOpened),o=typeof e.opened=="boolean"?e.opened:t,s=Xg(),a=Pt(),i=h.useCallback(_=>{n(_),_&&w(a)},[a]),{x:u,y:c,context:d,refs:p,placement:f,middlewareData:{arrow:{x:m,y:g}={}}}=Js({strategy:e.strategy,placement:e.position,open:o,onOpenChange:i,middleware:Jg(e),whileElementsMounted:vs}),{delay:b,currentId:v,setCurrentId:w}=Vh(d,{id:a}),{getReferenceProps:S,getFloatingProps:x}=Xh([Fh(d,{enabled:(k=e.events)==null?void 0:k.hover,delay:s?b:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((E=e.events)!=null&&E.touch)}),Yh(d,{enabled:(A=e.events)==null?void 0:A.focus,visibleOnly:!0}),Qh(d,{role:"tooltip"}),Kh(d,{enabled:typeof e.opened>"u"})]);Bt(()=>{var _;(_=e.onPositionChange)==null||_.call(e,f)},[f]);const y=o&&v&&v!==a;return{x:u,y:c,arrowX:m,arrowY:g,reference:p.setReference,floating:p.setFloating,getFloatingProps:x,getReferenceProps:S,isGroupPhase:y,opened:o,placement:f}}const hl={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:nn("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},tb=Ee((e,{radius:t,color:n,variant:r,autoContrast:o})=>{const s=e.variantColorResolver({theme:e,color:n||e.primaryColor,autoContrast:o,variant:r||"filled"});return{tooltip:{"--tooltip-radius":t===void 0?void 0:et(t),"--tooltip-bg":n?s.background:void 0,"--tooltip-color":n?s.color:void 0}}}),Xn=ae((e,t)=>{const n=q("Tooltip",hl,e),{children:r,position:o,refProp:s,label:a,openDelay:i,closeDelay:u,onPositionChange:c,opened:d,defaultOpened:p,withinPortal:f,radius:m,color:g,classNames:b,styles:v,unstyled:w,style:S,className:x,withArrow:y,arrowSize:k,arrowOffset:E,arrowRadius:A,arrowPosition:_,offset:C,transitionProps:B,multiline:I,events:T,zIndex:L,disabled:D,positionDependencies:$,onClick:M,onMouseEnter:N,onMouseLeave:R,inline:O,variant:F,keepMounted:z,vars:W,portalProps:H,mod:Y,floatingStrategy:J,middlewares:U,autoContrast:ee,attributes:se,target:ue,...ge}=q("Tooltip",hl,n),{dir:pe}=vn(),Ce=h.useRef(null),he=eb({position:Fc(pe,o),closeDelay:u,openDelay:i,onPositionChange:c,opened:d,defaultOpened:p,events:T,arrowRef:Ce,arrowOffset:E,offset:typeof C=="number"?C+(y?k/2:0):C,positionDependencies:[...$,ue??r],inline:O,strategy:J,middlewares:U});h.useEffect(()=>{const G=ue instanceof HTMLElement?ue:typeof ue=="string"?document.querySelector(ue):(ue==null?void 0:ue.current)||null;G&&he.reference(G)},[ue,he]);const we=be({name:"Tooltip",props:n,classes:Po,className:x,style:S,classNames:b,styles:v,unstyled:w,attributes:se,rootSelector:"tooltip",vars:W,varsResolver:tb});if(!ue&&!rn(r))return null;if(ue){const G=fl(B,{duration:100,transition:"fade"});return l.jsx(l.Fragment,{children:l.jsx(Wn,{...H,withinPortal:f,children:l.jsx(Wt,{...G,keepMounted:z,mounted:!D&&!!he.opened,duration:he.isGroupPhase?10:G.duration,children:ie=>l.jsxs(ne,{...ge,"data-fixed":J==="fixed"||void 0,variant:F,mod:[{multiline:I},Y],...he.getFloatingProps({ref:he.floating,className:we("tooltip").className,style:{...we("tooltip").style,...ie,zIndex:L,top:he.y??0,left:he.x??0}}),children:[a,l.jsx(Jr,{ref:Ce,arrowX:he.arrowX,arrowY:he.arrowY,visible:y,position:he.placement,arrowSize:k,arrowOffset:E,arrowRadius:A,arrowPosition:_,...we("arrow")})]})})})})}const xe=r,Ne=xe.props,P=Be(he.reference,fo(xe),t),V=fl(B,{duration:100,transition:"fade"});return l.jsxs(l.Fragment,{children:[l.jsx(Wn,{...H,withinPortal:f,children:l.jsx(Wt,{...V,keepMounted:z,mounted:!D&&!!he.opened,duration:he.isGroupPhase?10:V.duration,children:G=>l.jsxs(ne,{...ge,"data-fixed":J==="fixed"||void 0,variant:F,mod:[{multiline:I},Y],...he.getFloatingProps({ref:he.floating,className:we("tooltip").className,style:{...we("tooltip").style,...G,zIndex:L,top:he.y??0,left:he.x??0}}),children:[a,l.jsx(Jr,{ref:Ce,arrowX:he.arrowX,arrowY:he.arrowY,visible:y,position:he.placement,arrowSize:k,arrowOffset:E,arrowRadius:A,arrowPosition:_,...we("arrow")})]})})}),h.cloneElement(xe,he.getReferenceProps({onClick:M,onMouseEnter:N,onMouseLeave:R,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Nt(x,Ne.className),...Ne,[s]:P}))]})});Xn.classes=Po;Xn.displayName="@mantine/core/Tooltip";Xn.Floating=za;Xn.Group=Fa;const nb={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Do=ae((e,t)=>{const n=q("Select",nb,e),{classNames:r,styles:o,unstyled:s,vars:a,dropdownOpened:i,defaultDropdownOpened:u,onDropdownClose:c,onDropdownOpen:d,onFocus:p,onBlur:f,onClick:m,onChange:g,data:b,value:v,defaultValue:w,selectFirstOptionOnChange:S,onOptionSubmit:x,comboboxProps:y,readOnly:k,disabled:E,filter:A,limit:_,withScrollArea:C,maxDropdownHeight:B,size:I,searchable:T,rightSection:L,checkIconPosition:D,withCheckIcon:$,nothingFoundMessage:M,name:N,form:R,searchValue:O,defaultSearchValue:F,onSearchChange:z,allowDeselect:W,error:H,rightSectionPointerEvents:Y,id:J,clearable:U,clearButtonProps:ee,hiddenInputProps:se,renderOption:ue,onClear:ge,autoComplete:pe,scrollAreaProps:Ce,__defaultRightSection:he,__clearSection:we,__clearable:xe,chevronColor:Ne,autoSelectOnBlur:P,attributes:V,...G}=n,ie=h.useMemo(()=>Qp(b),[b]),ce=h.useMemo(()=>au(ie),[ie]),re=Pt(J),[te,De,Z]=mt({value:v,defaultValue:w,finalValue:null,onChange:g}),Q=typeof te=="string"?ce[te]:void 0,de=uf(Q),[Pe,Me,tt]=mt({value:O,defaultValue:F,finalValue:Q?Q.label:"",onChange:z}),Re=fu({opened:i,defaultOpened:u,onDropdownOpen:()=>{d==null||d(),Re.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{c==null||c(),setTimeout(Re.resetSelectedOption,0)}}),Ve=$e=>{Me($e),Re.resetSelectedOption()},{resolvedClassNames:Ot,resolvedStyles:Lt}=Dn({props:n,styles:o,classNames:r});h.useEffect(()=>{S&&Re.selectFirstOption()},[S,Pe]),h.useEffect(()=>{v===null&&Ve(""),typeof v=="string"&&Q&&((de==null?void 0:de.value)!==Q.value||(de==null?void 0:de.label)!==Q.label)&&Ve(Q.label)},[v,Q]),h.useEffect(()=>{var $e;!Z&&!tt&&Ve(typeof te=="string"&&(($e=ce[te])==null?void 0:$e.label)||"")},[b,te]);const ct=l.jsx(_e.ClearButton,{...ee,onClear:()=>{De(null,null),Ve(""),ge==null||ge()}}),bt=U&&!!te&&!E&&!k;return l.jsxs(l.Fragment,{children:[l.jsxs(_e,{store:Re,__staticSelector:"Select",classNames:Ot,styles:Lt,unstyled:s,readOnly:k,size:I,attributes:V,onOptionSubmit:$e=>{x==null||x($e);const Ye=W&&ce[$e].value===te?null:ce[$e],He=Ye?Ye.value:null;He!==te&&De(He,Ye),!Z&&Ve(typeof He=="string"&&(Ye==null?void 0:Ye.label)||""),Re.closeDropdown()},...y,children:[l.jsx(_e.Target,{targetType:T?"input":"button",autoComplete:pe,children:l.jsx(Tt,{id:re,ref:t,__defaultRightSection:l.jsx(_e.Chevron,{size:I,error:H,unstyled:s,color:Ne}),__clearSection:ct,__clearable:bt,rightSection:L,rightSectionPointerEvents:Y||(bt?"all":"none"),...G,size:I,__staticSelector:"Select",disabled:E,readOnly:k||!T,value:Pe,onChange:$e=>{Ve($e.currentTarget.value),Re.openDropdown(),S&&Re.selectFirstOption()},onFocus:$e=>{T&&Re.openDropdown(),p==null||p($e)},onBlur:$e=>{var Ye;P&&Re.clickSelectedOption(),T&&Re.closeDropdown(),Ve(te!=null&&((Ye=ce[te])==null?void 0:Ye.label)||""),f==null||f($e)},onClick:$e=>{T?Re.openDropdown():Re.toggleDropdown(),m==null||m($e)},classNames:Ot,styles:Lt,unstyled:s,pointer:!T,error:H,attributes:V})}),l.jsx(bm,{data:ie,hidden:k||E,filter:A,search:Pe,limit:_,hiddenWhenEmpty:!M,withScrollArea:C,maxDropdownHeight:B,filterOptions:!!T&&(Q==null?void 0:Q.label)!==Pe,value:te,checkIconPosition:D,withCheckIcon:$,nothingFoundMessage:M,unstyled:s,labelId:G.label?`${re}-label`:void 0,"aria-label":G.label?void 0:G["aria-label"],renderOption:ue,scrollAreaProps:Ce})]}),l.jsx(_e.HiddenInput,{value:te,name:N,form:R,disabled:E,...se})]})});Do.classes={...Tt.classes,..._e.classes};Do.displayName="@mantine/core/Select";const[rb,Oo]=on("SliderProvider was not found in tree"),$u=h.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:o,radius:s,...a},i)=>{const{getStyles:u}=Oo();return l.jsx(ne,{tabIndex:-1,variant:n,size:e,ref:i,...u("root"),...a})});$u.displayName="@mantine/core/SliderRoot";const zu=h.forwardRef(({max:e,min:t,value:n,position:r,label:o,dragging:s,onMouseDown:a,onKeyDownCapture:i,labelTransitionProps:u,labelAlwaysOn:c,thumbLabel:d,onFocus:p,onBlur:f,showLabelOnHover:m,isHovered:g,children:b=null,disabled:v},w)=>{const{getStyles:S}=Oo(),[x,y]=h.useState(!1),k=c||s||x||m&&g;return l.jsxs(ne,{tabIndex:0,role:"slider","aria-label":d,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:w,__vars:{"--slider-thumb-offset":`${r}%`},...S("thumb",{focusable:!0}),mod:{dragging:s,disabled:v},onFocus:E=>{y(!0),typeof p=="function"&&p(E)},onBlur:E=>{y(!1),typeof f=="function"&&f(E)},onTouchStart:a,onMouseDown:a,onKeyDownCapture:i,onClick:E=>E.stopPropagation(),children:[b,l.jsx(Wt,{mounted:o!=null&&!!k,transition:"fade",duration:0,...u,children:E=>l.jsx("div",{...S("label",{style:E}),children:o})})]})});zu.displayName="@mantine/core/SliderThumb";function Fu({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function ob({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function Bu({marks:e,min:t,max:n,disabled:r,value:o,offset:s,inverted:a}){const{getStyles:i}=Oo();if(!e)return null;const u=e.map((c,d)=>h.createElement(ne,{...i("markWrapper"),__vars:{"--mark-offset":`${Fu({value:c.value,min:t,max:n})}%`},key:d},l.jsx(ne,{...i("mark"),mod:{filled:ob({mark:c,value:o,offset:s,inverted:a}),disabled:r}}),c.label&&l.jsx("div",{...i("markLabel"),children:c.label})));return l.jsx("div",{children:u})}Bu.displayName="@mantine/core/SliderMarks";function Uu({filled:e,children:t,offset:n,disabled:r,marksOffset:o,inverted:s,containerProps:a,...i}){const{getStyles:u}=Oo();return l.jsx(ne,{...u("trackContainer"),mod:{disabled:r},...a,children:l.jsxs(ne,{...u("track"),mod:{inverted:s,disabled:r},children:[l.jsx(ne,{mod:{inverted:s,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + 2 * var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...u("bar")}),t,l.jsx(Bu,{...i,offset:o,disabled:r,inverted:s})]})})}Uu.displayName="@mantine/core/SliderTrack";function sb({value:e,containerWidth:t,min:n,max:r,step:o,precision:s}){const i=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(i!==0?Math.round(i/o)*o:0)+n,c=Math.max(u,n);return s!==void 0?Number(c.toFixed(s)):c}function Pr(e,t){return parseFloat(e.toFixed(t))}function ab(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function Qo(e,t){const r=[...t].sort((o,s)=>o.value-s.value).find(o=>o.value>e);return r?r.value:e}function Jo(e,t){const r=[...t].sort((o,s)=>s.value-o.value).find(o=>o.value<e);return r?r.value:e}function pl(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function ml(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var Vu={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const ib={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},thumbLabel:"",showLabelOnHover:!0,scale:e=>e,size:"md"},lb=Ee((e,{size:t,color:n,thumbSize:r,radius:o})=>({root:{"--slider-size":ke(t,"slider-size"),"--slider-color":n?bn(n,e):void 0,"--slider-radius":o===void 0?void 0:et(o),"--slider-thumb-size":r!==void 0?Se(r):"calc(var(--slider-size) * 2)"}})),Ba=ae((e,t)=>{const n=q("Slider",ib,e),{classNames:r,styles:o,value:s,onChange:a,onChangeEnd:i,size:u,min:c,max:d,domain:p,step:f,precision:m,defaultValue:g,name:b,marks:v,label:w,labelTransitionProps:S,labelAlwaysOn:x,thumbLabel:y,showLabelOnHover:k,thumbChildren:E,disabled:A,unstyled:_,scale:C,inverted:B,className:I,style:T,vars:L,hiddenInputProps:D,restrictToMarks:$,thumbProps:M,attributes:N,...R}=n,O=be({name:"Slider",props:n,classes:Vu,classNames:r,className:I,styles:o,style:T,attributes:N,vars:L,varsResolver:lb,unstyled:_}),{dir:F}=vn(),[z,W]=h.useState(!1),[H,Y]=mt({value:typeof s=="number"?vt(s,c,d):s,defaultValue:typeof g=="number"?vt(g,c,d):g,finalValue:vt(0,c,d),onChange:a}),J=h.useRef(H),U=h.useRef(i);h.useEffect(()=>{U.current=i},[i]);const ee=h.useRef(null),se=h.useRef(null),[ue,ge]=p||[c,d],pe=Fu({value:H,min:ue,max:ge}),Ce=C(H),he=typeof w=="function"?w(Ce):w,we=m??ab(f),xe=h.useCallback(({x:ce})=>{if(!A){const re=sb({value:ce,min:ue,max:ge,step:f,precision:we}),te=vt(re,c,d);Y($&&(v!=null&&v.length)?wi(te,v.map(De=>De.value)):te),J.current=te}},[A,c,d,ue,ge,f,we,Y,v,$]),Ne=h.useCallback(()=>{if(!A&&U.current){const ce=$&&(v!=null&&v.length)?wi(J.current,v.map(re=>re.value)):J.current;U.current(ce)}},[A,v,$]),{ref:P,active:V}=Us(xe,{onScrubEnd:Ne},F),G=h.useCallback(ce=>{!A&&U.current&&U.current(ce)},[A]),ie=ce=>{var re,te,De,Z,Q,de;if(!A)switch(ce.key){case"ArrowUp":{if(ce.preventDefault(),(re=se.current)==null||re.focus(),$&&v){const Me=Qo(H,v);Y(Me),G(Me);break}const Pe=Pr(Math.min(Math.max(H+f,c),d),we);Y(Pe),G(Pe);break}case"ArrowRight":{if(ce.preventDefault(),(te=se.current)==null||te.focus(),$&&v){const Me=F==="rtl"?Jo(H,v):Qo(H,v);Y(Me),G(Me);break}const Pe=Pr(Math.min(Math.max(F==="rtl"?H-f:H+f,c),d),we);Y(Pe),G(Pe);break}case"ArrowDown":{if(ce.preventDefault(),(De=se.current)==null||De.focus(),$&&v){const Me=Jo(H,v);Y(Me),G(Me);break}const Pe=Pr(Math.min(Math.max(H-f,c),d),we);Y(Pe),G(Pe);break}case"ArrowLeft":{if(ce.preventDefault(),(Z=se.current)==null||Z.focus(),$&&v){const Me=F==="rtl"?Qo(H,v):Jo(H,v);Y(Me),G(Me);break}const Pe=Pr(Math.min(Math.max(F==="rtl"?H+f:H-f,c),d),we);Y(Pe),G(Pe);break}case"Home":{if(ce.preventDefault(),(Q=se.current)==null||Q.focus(),$&&v){Y(pl(v)),G(pl(v));break}Y(c),G(c);break}case"End":{if(ce.preventDefault(),(de=se.current)==null||de.focus(),$&&v){Y(ml(v)),G(ml(v));break}Y(d),G(d);break}}};return l.jsx(rb,{value:{getStyles:O},children:l.jsxs($u,{...R,ref:Be(t,ee),onKeyDownCapture:ie,onMouseDownCapture:()=>{var ce;return(ce=ee.current)==null?void 0:ce.focus()},size:u,disabled:A,children:[l.jsx(Uu,{inverted:B,offset:0,filled:pe,marks:v,min:ue,max:ge,value:Ce,disabled:A,containerProps:{ref:P,onMouseEnter:k?()=>W(!0):void 0,onMouseLeave:k?()=>W(!1):void 0},children:l.jsx(zu,{max:ge,min:ue,value:Ce,position:pe,dragging:V,label:he,ref:se,labelTransitionProps:S,labelAlwaysOn:x,thumbLabel:y,showLabelOnHover:k,isHovered:z,disabled:A,...M,children:E})}),l.jsx("input",{type:"hidden",name:b,value:Ce,...D})]})})});Ba.classes=Vu;Ba.displayName="@mantine/core/Slider";const Hu=h.createContext(null),cb=Hu.Provider,ub=()=>h.useContext(Hu),Ua=ae((e,t)=>{const{value:n,defaultValue:r,onChange:o,size:s,wrapperProps:a,children:i,readOnly:u,...c}=q("SwitchGroup",null,e),[d,p]=mt({value:n,defaultValue:r,finalValue:[],onChange:o}),f=m=>{const g=m.currentTarget.value;!u&&p(d.includes(g)?d.filter(b=>b!==g):[...d,g])};return l.jsx(cb,{value:{value:d,onChange:f,size:s},children:l.jsx(Fe.Wrapper,{size:s,ref:t,...a,...c,labelElement:"div",__staticSelector:"SwitchGroup",children:l.jsx(hm,{role:"group",children:i})})})});Ua.classes=Fe.Wrapper.classes;Ua.displayName="@mantine/core/SwitchGroup";var Wu={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const db={labelPosition:"right",withThumbIndicator:!0},fb=Ee((e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:et(t),"--switch-height":ke(r,"switch-height"),"--switch-width":ke(r,"switch-width"),"--switch-thumb-size":ke(r,"switch-thumb-size"),"--switch-label-font-size":ke(r,"switch-label-font-size"),"--switch-track-label-padding":ke(r,"switch-track-label-padding"),"--switch-color":n?bn(n,e):void 0}})),jn=ae((e,t)=>{const n=q("Switch",db,e),{classNames:r,className:o,style:s,styles:a,unstyled:i,vars:u,color:c,label:d,offLabel:p,onLabel:f,id:m,size:g,radius:b,wrapperProps:v,thumbIcon:w,checked:S,defaultChecked:x,onChange:y,labelPosition:k,description:E,error:A,disabled:_,variant:C,rootRef:B,mod:I,withThumbIndicator:T,attributes:L,...D}=n,$=ub(),M=g||($==null?void 0:$.size),N=be({name:"Switch",props:n,classes:Wu,className:o,style:s,classNames:r,styles:a,unstyled:i,attributes:L,vars:u,varsResolver:fb}),{styleProps:R,rest:O}=co(D),F=Pt(m),z=$?{checked:$.value.includes(O.value),onChange:$.onChange}:{},[W,H]=mt({value:z.checked??S,defaultValue:x,finalValue:!1});return l.jsxs(pu,{...N("root"),__staticSelector:"Switch",__stylesApiProps:n,id:F,size:M,labelPosition:k,label:d,description:E,error:A,disabled:_,bodyElement:"label",labelElement:"span",classNames:r,styles:a,unstyled:i,"data-checked":z.checked||S||void 0,variant:C,ref:B,mod:I,...R,...v,children:[l.jsx("input",{...O,disabled:_,checked:W,"data-checked":z.checked||S||void 0,onChange:Y=>{var J;$?(J=z.onChange)==null||J.call(z,Y):y==null||y(Y),H(Y.currentTarget.checked)},id:F,ref:t,type:"checkbox",role:"switch",...N("input")}),l.jsxs(ne,{"aria-hidden":"true",component:"span",mod:{error:A,"label-position":k,"without-labels":!f&&!p},...N("track"),children:[l.jsx(ne,{component:"span",mod:{"reduce-motion":!0,"with-thumb-indicator":T&&!w},...N("thumb"),children:w}),l.jsx("span",{...N("trackLabel"),children:W?f:p})]})]})});jn.classes={...Wu,...fm};jn.displayName="@mantine/core/Switch";jn.Group=Ua;const[hb,Va]=on("Tabs component was not found in the tree");var Ar={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",tab:"m_4ec4dce6",panel:"m_b0c91715",tabSection:"m_fc420b1f",tabLabel:"m_42bbd1ae","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Ha=ae((e,t)=>{const n=q("TabsList",null,e),{children:r,className:o,grow:s,justify:a,classNames:i,styles:u,style:c,mod:d,...p}=n,f=Va();return l.jsx(ne,{...p,...f.getStyles("list",{className:o,style:c,classNames:i,styles:u,props:n,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:s,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},d],"aria-orientation":f.orientation,__vars:{"--tabs-justify":a},children:r})});Ha.classes=Ar;Ha.displayName="@mantine/core/TabsList";const Wa=ae((e,t)=>{const n=q("TabsPanel",null,e),{children:r,className:o,value:s,classNames:a,styles:i,style:u,mod:c,keepMounted:d,...p}=n,f=Va(),m=f.value===s,g=f.keepMounted||d||m?r:null;return l.jsx(ne,{...p,...f.getStyles("panel",{className:o,classNames:a,styles:i,style:[u,m?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},c],role:"tabpanel",id:f.getPanelId(s),"aria-labelledby":f.getTabId(s),children:g})});Wa.classes=Ar;Wa.displayName="@mantine/core/TabsPanel";const Ga=ae((e,t)=>{const n=q("TabsTab",null,e),{className:r,children:o,rightSection:s,leftSection:a,value:i,onClick:u,onKeyDown:c,disabled:d,color:p,style:f,classNames:m,styles:g,vars:b,mod:v,tabIndex:w,...S}=n,x=Pn(),{dir:y}=vn(),k=Va(),E=i===k.value,A=C=>{k.onChange(k.allowTabDeactivation&&i===k.value?null:i),u==null||u(C)},_={classNames:m,styles:g,props:n};return l.jsxs(Nn,{...S,...k.getStyles("tab",{className:r,style:f,variant:k.variant,..._}),disabled:d,unstyled:k.unstyled,variant:k.variant,mod:[{active:E,disabled:d,orientation:k.orientation,inverted:k.inverted,placement:k.orientation==="vertical"&&k.placement},v],ref:t,role:"tab",id:k.getTabId(i),"aria-selected":E,tabIndex:w!==void 0?w:E||k.value===null?0:-1,"aria-controls":k.getPanelId(i),onClick:A,__vars:{"--tabs-color":p?bn(p,x):void 0},onKeyDown:Bs({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:k.activateTabWithKeyboard,loop:k.loop,orientation:k.orientation||"horizontal",dir:y,onKeyDown:c}),children:[a&&l.jsx("span",{...k.getStyles("tabSection",_),"data-position":"left",children:a}),o&&l.jsx("span",{...k.getStyles("tabLabel",_),children:o}),s&&l.jsx("span",{...k.getStyles("tabSection",_),"data-position":"right",children:s})]})});Ga.classes=Ar;Ga.displayName="@mantine/core/TabsTab";const gl="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",pb={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,variant:"default",placement:"left"},mb=Ee((e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":et(t),"--tabs-color":bn(n,e),"--tabs-text-color":mf(r,e)?Wd({color:n,theme:e,autoContrast:r}):void 0}})),ot=ae((e,t)=>{const n=q("Tabs",pb,e),{defaultValue:r,value:o,onChange:s,orientation:a,children:i,loop:u,id:c,activateTabWithKeyboard:d,allowTabDeactivation:p,variant:f,color:m,radius:g,inverted:b,placement:v,keepMounted:w,classNames:S,styles:x,unstyled:y,className:k,style:E,vars:A,autoContrast:_,mod:C,attributes:B,...I}=n,T=Pt(c),[L,D]=mt({value:o,defaultValue:r,finalValue:null,onChange:s}),$=be({name:"Tabs",props:n,classes:Ar,className:k,style:E,classNames:S,styles:x,unstyled:y,attributes:B,vars:A,varsResolver:mb});return l.jsx(hb,{value:{placement:v,value:L,orientation:a,id:T,loop:u,activateTabWithKeyboard:d,getTabId:xi(`${T}-tab`,gl),getPanelId:xi(`${T}-panel`,gl),onChange:D,allowTabDeactivation:p,variant:f,color:m,radius:g,inverted:b,keepMounted:w,unstyled:y,getStyles:$},children:l.jsx(ne,{ref:t,id:T,variant:f,mod:[{orientation:a,inverted:a==="horizontal"&&b,placement:a==="vertical"&&v},C],...$("root"),...I,children:i})})});ot.classes=Ar;ot.displayName="@mantine/core/Tabs";ot.Tab=Ga;ot.Panel=Wa;ot.List=Ha;const dn=ae((e,t)=>{const n=q("TextInput",null,e);return l.jsx(Tt,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});dn.classes=Tt.classes;dn.displayName="@mantine/core/TextInput";const bl=e=>{let t;const n=new Set,r=(c,d)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const f=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(m=>m(t,f))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=t=e(r,o,i);return i},gb=(e=>e?bl(e):bl),bb=e=>e;function vb(e,t=bb){const n=je.useSyncExternalStore(e.subscribe,je.useCallback(()=>t(e.getState()),[e,t]),je.useCallback(()=>t(e.getInitialState()),[e,t]));return je.useDebugValue(n),n}const yb=e=>{const t=gb(e),n=r=>vb(t,r);return Object.assign(n,t),n},xb=(e=>yb),wb=e=>(t,n,r)=>{const o=r.subscribe;return r.subscribe=((a,i,u)=>{let c=a;if(i){const d=(u==null?void 0:u.equalityFn)||Object.is;let p=a(r.getState());c=f=>{const m=a(f);if(!d(p,m)){const g=p;i(p=m,g)}},u!=null&&u.fireImmediately&&i(p,p)}return o(c)}),e(t,n,r)},Sb=wb,vl=e=>Symbol.iterator in e,yl=e=>"entries"in e,xl=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[o,s]of n)if(!r.has(o)||!Object.is(s,r.get(o)))return!1;return!0},kb=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let o=n.next(),s=r.next();for(;!o.done&&!s.done;){if(!Object.is(o.value,s.value))return!1;o=n.next(),s=r.next()}return!!o.done&&!!s.done};function Gu(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:vl(e)&&vl(t)?yl(e)&&yl(t)?xl(e,t):kb(e,t):xl({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function Cb(e){const t=je.useRef(void 0);return n=>{const r=e(n);return Gu(t.current,r)?t.current:t.current=r}}const Ku=1,ln=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),Le=e=>typeof e=="string",mn=e=>typeof e=="number"&&!Number.isNaN(e),kr=e=>typeof e=="boolean",Tb=e=>e==="user"||e==="assistant",Eb=e=>e==="low"||e==="medium"||e==="high",wl=e=>Array.isArray(e)&&e.every(Le),Rb=e=>!(!ln(e)||!Tb(e.role)||!Le(e.content)||!mn(e.ts)||e.thinking!==void 0&&!Le(e.thinking)||e.images!==void 0&&!wl(e.images)||e.imageIds!==void 0&&!wl(e.imageIds)),Ab=e=>!(!ln(e)||!Le(e.id)||!Le(e.modelId)||!Le(e.title)||!kr(e.isPinned)||!Array.isArray(e.messages)||!e.messages.every(Rb)||!mn(e.createdAt)||!mn(e.updatedAt)||!Le(e.preview)),jb=e=>!(!ln(e)||!Le(e.id)||!Le(e.name)||!Le(e.color)||!Le(e.system)||!mn(e.temp)||e.thinkingEnabled!==void 0&&!kr(e.thinkingEnabled)||e.thinkingEffort!==void 0&&!Eb(e.thinkingEffort)||e.updatedAt!==void 0&&!Le(e.updatedAt)),Nb=e=>!(!ln(e)||!Le(e.id)||e.object!==void 0&&!Le(e.object)||e.created!==void 0&&!mn(e.created)||e.owned_by!==void 0&&!Le(e.owned_by)),Mb=(e,t)=>{if(!ln(e))return t;const n=e.activeThread===null||Le(e.activeThread)?e.activeThread:t.activeThread,r=e.selectedLlmModel===null||Le(e.selectedLlmModel)?e.selectedLlmModel:t.selectedLlmModel;return{...t,sidebarOpen:kr(e.sidebarOpen)?e.sidebarOpen:t.sidebarOpen,sidebarWidth:mn(e.sidebarWidth)?e.sidebarWidth:t.sidebarWidth,activeThread:n,searchQuery:Le(e.searchQuery)?e.searchQuery:t.searchQuery,selectedModel:Le(e.selectedModel)?e.selectedModel:t.selectedModel,selectedLlmModel:r}},_b=(e,t)=>ln(e)?{...t,apiBaseUrl:Le(e.apiBaseUrl)?e.apiBaseUrl:t.apiBaseUrl,apiKey:Le(e.apiKey)?e.apiKey:t.apiKey,apiProvider:Le(e.apiProvider)?e.apiProvider:t.apiProvider,defaultModel:Le(e.defaultModel)?e.defaultModel:t.defaultModel,streamingEnabled:kr(e.streamingEnabled)?e.streamingEnabled:t.streamingEnabled,lowSpecBlur:mn(e.lowSpecBlur)?e.lowSpecBlur:t.lowSpecBlur,cloudSyncEnabled:kr(e.cloudSyncEnabled)?e.cloudSyncEnabled:t.cloudSyncEnabled,adminApiUrl:Le(e.adminApiUrl)?e.adminApiUrl:t.adminApiUrl,adminPassword:Le(e.adminPassword)?e.adminPassword:t.adminPassword}:t,Ib=(e,t)=>{if(!ln(e))return t;const n=Object.entries(e).filter(([,r])=>Ab(r));return Object.fromEntries(n)},Pb=(e,t)=>Array.isArray(e)?e.filter(jb):t,Db=(e,t)=>Array.isArray(e)?e.filter(Nb):t;function Sl(e,t){if(!ln(e))return t;const n=Pb(e.models,t.models),r=Ib(e.chats,t.chats);let o=Mb(e.ui,t.ui);const s=_b(e.settings,t.settings),a=Db(e.availableModels,t.availableModels),i=o.activeThread&&r[o.activeThread]?o.activeThread:null,u=o.selectedModel==="all"||n.some(c=>c.id===o.selectedModel)?o.selectedModel:"all";return o={...o,activeThread:i,selectedModel:u},{models:n,chats:r,ui:o,settings:s,availableModels:a}}function qu(e,t){return ln(e)?((mn(e.version)?e.version:0)>Ku,Sl(e,t)):t}const Ob=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>{const r=n.messages.map(o=>{if(o.imageIds&&o.imageIds.length>0){const{images:s,...a}=o;return a}return o});return[t,{...n,messages:r}]}));function Yu(e){return JSON.stringify({...e,chats:Ob(e.chats),version:Ku},null,2)}const Lb="custommodels-chat",$b=2,wt="images",gn="app-data",Dt=typeof indexedDB<"u";let es=null;const Ka=e=>new Promise((t,n)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>n(e.error)}),wn=e=>new Promise((t,n)=>{e.oncomplete=()=>t(),e.onabort=()=>n(e.error??new Error("Transaction aborted")),e.onerror=()=>n(e.error??new Error("Transaction failed"))}),cn=()=>Dt?(es||(es=new Promise((e,t)=>{const n=indexedDB.open(Lb,$b);n.onerror=()=>t(n.error),n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(wt)||r.createObjectStore(wt),r.objectStoreNames.contains(gn)||r.createObjectStore(gn)},n.onsuccess=()=>e(n.result)})),es):Promise.reject(new Error("IndexedDB unavailable")),qa="app-data";async function zb(e){if(!Dt)return!1;try{const n=(await cn()).transaction(gn,"readwrite"),r=n.objectStore(gn),o=Yu(e);return r.put(o,qa),await wn(n),!0}catch{return!1}}async function Fb(e){if(!Dt)return null;try{const n=(await cn()).transaction(gn,"readonly"),r=n.objectStore(gn),o=await Ka(r.get(qa));if(await wn(n),typeof o!="string")return null;const s=JSON.parse(o);return qu(s,e)}catch{return null}}async function Bb(){if(!Dt)return;const t=(await cn()).transaction(gn,"readwrite");t.objectStore(gn).delete(qa),await wn(t)}function Ub(e){return JSON.parse(e)}function Vb(e){zb(e)}const Hb=120*1e3,Wb=320,Gb=80,kl=80,ts=6,Kb=500,qb=.2,eo=.7,Cl=8192,Yb="2023-06-01",ar=3,Xb=1e3,Zb=1e4,Qb=[429,500,502,503,504],Yt="custom",Xu="anthropic",kn=[{id:"openai",label:"OpenAI",baseUrl:"https://api.openai.com/v1"},{id:Xu,label:"Anthropic",baseUrl:"https://api.anthropic.com/v1"},{id:"groq",label:"Groq",baseUrl:"https://api.groq.com/openai/v1"},{id:"cerebras",label:"Cerebras",baseUrl:"https://api.cerebras.ai/v1"},{id:"openrouter",label:"OpenRouter",baseUrl:"https://openrouter.ai/api/v1"},{id:Yt,label:"Custom",baseUrl:""}],Lo=()=>crypto.randomUUID();async function Zu(e){if(!e.length)return!0;if(!Dt)return!1;try{const n=(await cn()).transaction(wt,"readwrite"),r=n.objectStore(wt);return e.forEach(o=>{r.put(o.dataUrl,o.id)}),await wn(n),!0}catch{return!1}}async function Qu(e){if(!e.length)return[];if(!Dt)return e.map(()=>null);const n=(await cn()).transaction(wt,"readonly"),r=n.objectStore(wt),o=await Promise.all(e.map(async s=>{const a=await Ka(r.get(s));return typeof a=="string"?a:null}));return await wn(n),o}async function Vr(e){if(!e.length||!Dt)return;const n=(await cn()).transaction(wt,"readwrite"),r=n.objectStore(wt);e.forEach(o=>{r.delete(o)}),await wn(n)}async function Jb(){if(!Dt)return;const t=(await cn()).transaction(wt,"readwrite");t.objectStore(wt).clear(),await wn(t)}async function ev(){if(!Dt)return!1;try{return await cn(),!0}catch{return!1}}async function Rs(){if(!Dt)return[];const t=(await cn()).transaction(wt,"readonly"),n=t.objectStore(wt),r=await Ka(n.getAllKeys());return await wn(t),r.filter(o=>typeof o=="string")}async function Ju(e){if(!Dt)return 0;const t=new Set(e),r=(await Rs()).filter(o=>!t.has(o));return r.length>0&&await Vr(r),r.length}const tv=e=>{const t=Date.now();return{id:Lo(),modelId:e,title:"New chat",isPinned:!1,messages:[],createdAt:t,updatedAt:t,preview:""}},Tl=e=>{const t=[];return e.forEach(n=>{n.messages.forEach(r=>{r.imageIds&&r.imageIds.length>0&&t.push(...r.imageIds)})}),t},nv=e=>{const t=[];return e.forEach(n=>{n.imageIds&&n.imageIds.length>0&&t.push(...n.imageIds)}),t},rv=(e,t)=>({chats:{},createThread:n=>{const r=tv(n);return e(o=>({chats:{...o.chats,[r.id]:r},ui:{...o.ui,activeThread:r.id,sidebarOpen:!0}})),r},deleteThread:n=>{const r=t().chats[n];r&&Vr(Tl([r])),e(o=>{const{[n]:s,...a}=o.chats,i=o.ui.activeThread===n;return{chats:a,ui:{...o.ui,activeThread:i?null:o.ui.activeThread}}})},renameThread:(n,r)=>e(o=>({chats:{...o.chats,[n]:{...o.chats[n],title:r,updatedAt:Date.now()}}})),togglePinThread:n=>e(r=>({chats:{...r.chats,[n]:{...r.chats[n],isPinned:!r.chats[n].isPinned,updatedAt:Date.now()}}})),updateThreadTitle:(n,r)=>e(o=>({chats:{...o.chats,[n]:{...o.chats[n],title:r.slice(0,Gb),updatedAt:Date.now()}}})),updateThreadModel:(n,r)=>e(o=>{const s=o.chats[n];return s?{chats:{...o.chats,[n]:{...s,modelId:r,updatedAt:Date.now()}}}:o}),deleteAllChats:()=>{const n=Object.values(t().chats);n.length>0&&Vr(Tl(n)),e(r=>({chats:{},ui:{...r.ui,activeThread:null}}))},addUserMessage:(n,r,o,s)=>{const a=Date.now(),i={role:"user",content:r,ts:a,...o&&o.length>0?{images:o}:{},...s&&s.length>0?{imageIds:s}:{}};e(u=>{const c=u.chats[n];return c?{chats:{...u.chats,[n]:{...c,messages:[...c.messages,i],updatedAt:a,preview:c.preview||r.slice(0,kl)||(o!=null&&o.length?"[Image]":"")}}}:u})},addAssistantMessage:n=>{const r=Date.now(),o={role:"assistant",content:"",ts:r};e(s=>{const a=s.chats[n];return a?{chats:{...s.chats,[n]:{...a,messages:[...a.messages,o],updatedAt:r}}}:s})},appendToLastMessage:(n,r)=>e(o=>{const s=o.chats[n];if(!s||s.messages.length===0)return o;const a=[...s.messages],i=a.length-1;return a[i]={...a[i],content:a[i].content+r},{chats:{...o.chats,[n]:{...s,messages:a,updatedAt:Date.now()}}}}),appendThinkingToLastMessage:(n,r)=>e(o=>{const s=o.chats[n];if(!s||s.messages.length===0)return o;const a=[...s.messages],i=a.length-1,u=a[i].thinking??"";return a[i]={...a[i],thinking:u+r},{chats:{...o.chats,[n]:{...s,messages:a,updatedAt:Date.now()}}}}),removeMessagesAfterIndex:(n,r)=>{const o=t().chats[n];if(o){const s=o.messages.slice(r+1),a=nv(s);a.length>0&&Vr(a)}e(s=>{const a=s.chats[n];return a?{chats:{...s.chats,[n]:{...a,messages:a.messages.slice(0,r+1),updatedAt:Date.now()}}}:s})},setThreadPreview:(n,r)=>e(o=>({chats:{...o.chats,[n]:{...o.chats[n],preview:r.slice(0,kl)}}})),updateMessageContent:(n,r,o)=>e(s=>{const a=s.chats[n];if(!a||r<0||r>=a.messages.length)return s;const i=[...a.messages];return i[r]={...i[r],content:o},{chats:{...s.chats,[n]:{...a,messages:i,updatedAt:Date.now()}}}})}),ov=(e,t)=>({availableModels:[],connectionStatus:"unknown",setConnectionStatus:n=>e({connectionStatus:n}),setAvailableModels:n=>e({availableModels:n}),checkConnection:async()=>{const{setConnectionStatus:n,setAvailableModels:r,getClient:o}=t();n("connecting");try{const a=await o().listModels();n("connected"),r(a)}catch{n("error")}}});class sv{constructor(t){ve(this,"adminApiUrl");ve(this,"adminPassword");this.adminApiUrl=t.adminApiUrl.replace(/\/$/,""),this.adminPassword=t.adminPassword}isConfigured(){return!!(this.adminApiUrl&&this.adminPassword)}headers(){return{"Content-Type":"application/json",Authorization:`Bearer ${this.adminPassword}`}}async fetchModels(){try{const t=await fetch(`${this.adminApiUrl}/custom-models`,{method:"GET",headers:this.headers()});if(!t.ok){const r=await t.json().catch(()=>({}));return{success:!1,models:[],error:r.error||`Failed to fetch models: ${t.status}`}}return{success:!0,models:(await t.json()).models||[]}}catch(t){return{success:!1,models:[],error:t instanceof Error?t.message:"Network error"}}}async syncModels(t){try{const n=await fetch(`${this.adminApiUrl}/custom-models/sync`,{method:"POST",headers:this.headers(),body:JSON.stringify({models:t})});if(!n.ok){const o=await n.json().catch(()=>({}));return{success:!1,models:[],error:o.error||`Failed to sync models: ${n.status}`}}return{success:!0,models:(await n.json()).models||[]}}catch(n){return{success:!1,models:[],error:n instanceof Error?n.message:"Network error"}}}async upsertModel(t){try{const n=await fetch(`${this.adminApiUrl}/custom-models`,{method:"POST",headers:this.headers(),body:JSON.stringify({id:t.id,name:t.name,color:t.color,system:t.system,temp:t.temp,thinkingEnabled:t.thinkingEnabled,thinkingEffort:t.thinkingEffort})});return n.ok?{success:!0,model:await n.json()}:{success:!1,error:(await n.json().catch(()=>({}))).error||`Failed to save model: ${n.status}`}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Network error"}}}async fetchModel(t){try{const n=await fetch(`${this.adminApiUrl}/custom-models/${encodeURIComponent(t)}`,{method:"GET",headers:this.headers()});return n.status===404?{success:!0,model:void 0}:n.ok?{success:!0,model:await n.json()}:{success:!1,error:(await n.json().catch(()=>({}))).error||`Failed to fetch model: ${n.status}`}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Network error"}}}async deleteModel(t){try{const n=await fetch(`${this.adminApiUrl}/custom-models/${encodeURIComponent(t)}`,{method:"DELETE",headers:this.headers()});return n.ok?{success:!0}:{success:!1,error:(await n.json().catch(()=>({}))).error||`Failed to delete model: ${n.status}`}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Network error"}}}}const dt={primary:{400:"#60a5fa",500:"#3b82f6"},success:{400:"#34d399",500:"#10b981"},danger:{500:"#ef4444"},warning:{500:"#f59e0b"},gray:{500:"#6b7280"},sky:{400:"#38bdf8",500:"#0ea5e9"}},av=e=>({connected:dt.success[500],connecting:dt.warning[500],error:dt.danger[500],unknown:dt.gray[500]})[e],to=e=>{const t={default:dt.primary[400],general:dt.primary[400],linux:dt.success[400],creative:dt.sky[400]};return e?t[e]:t.default},iv=e=>({primary:dt.primary[500],secondary:dt.primary[500],success:dt.success[500],danger:dt.danger[500],warning:dt.warning[500],info:dt.sky[500]})[e],Dr=av,lv=iv,Hn={},cv=typeof import.meta<"u"&&(Hn!=null&&Hn.VITE_DEFAULT_API_BASE_URL)?void 0:"http://localhost:3017/v1",uv=typeof import.meta<"u"&&(Hn!=null&&Hn.VITE_DEFAULT_MODEL)?void 0:"qwen3-coder-plus",Ya={apiBaseUrl:cv,defaultModel:uv,streamingEnabled:!0,lowSpecBlur:8,showThinkingExpanded:!0},Xa=[{id:"general",name:"General Chat",color:to("general"),system:"You are a helpful AI assistant.",temp:.7,thinkingEnabled:!1},{id:"linux",name:"Linux Expert",color:to("linux"),system:"You are an expert in Linux commands. Always include safety warnings and explain steps.",temp:.2,thinkingEnabled:!1}],no={sidebarOpen:!1,sidebarWidth:Wb,activeThread:null,searchQuery:"",selectedModel:"all",selectedLlmModel:null},dv={models:Xa,chats:{},ui:no,settings:Ya,availableModels:[]},fv=(e,t)=>({models:Xa,addModel:async n=>{const r=Lo().slice(0,8),o=n.name.toLowerCase().replace(/\s+/g,"-")+"-"+r,s={...n,id:o},a=t().getSyncClient();if(a){const i=await a.upsertModel(s);return i.success&&e(u=>({models:[...u.models,i.model??s]})),i}else return e(i=>({models:[...i.models,s]})),{success:!0,model:s}},updateModel:async(n,r)=>{const o=t(),s=o.models.find(u=>u.id===n);if(!s)return{success:!1,error:"Model not found"};const a={...s,...r},i=o.getSyncClient();if(i){const u=await i.upsertModel(a);return u.success&&e(c=>({models:c.models.map(d=>d.id===n?u.model??a:d)})),u}else return e(u=>({models:u.models.map(c=>c.id===n?a:c)})),{success:!0,model:a}},deleteModel:async n=>{const r=t().getSyncClient();if(r){const o=await r.deleteModel(n);return o.success&&e(s=>({models:s.models.filter(a=>a.id!==n)})),o}else return e(o=>({models:o.models.filter(s=>s.id!==n)})),{success:!0}},setModels:n=>e({models:n}),getSyncClient:()=>{const{adminApiUrl:n,adminPassword:r}=t().settings;return!n||!r?null:new sv({adminApiUrl:n,adminPassword:r})},isCloudConfigured:()=>{const{adminApiUrl:n,adminPassword:r}=t().settings;return!!(n&&r)},syncModels:async()=>{const n=t().getSyncClient();if(!n)return{success:!1,models:[],error:"Cloud sync not configured. Set Admin API URL and Password in settings."};const r=await n.fetchModels();return r.success&&e({models:r.models}),r}}),hv=e=>({_hydrated:!1,_hydrate:()=>{(async()=>{const t=await Fb(dv);t?(e({models:t.models,chats:t.chats,ui:{...no,...t.ui,sidebarOpen:!1},settings:t.settings,availableModels:t.availableModels??[],connectionStatus:"unknown",_hydrated:!0}),pv(t.chats,e)):e({_hydrated:!0})})()},nukeAll:()=>{Bb(),Jb(),e({models:Xa,chats:{},ui:{...no,sidebarOpen:!1},settings:Ya,availableModels:[],connectionStatus:"unknown"})}}),pv=async(e,t)=>{const n=[];let r=!1;const o={...e};if(Object.entries(e).forEach(([s,a])=>{let i=!1;const u=a.messages.map(c=>{if(c.images&&c.images.length>0&&!c.imageIds){const d=c.images.map(()=>Lo());return c.images.forEach((p,f)=>{n.push({id:d[f],dataUrl:p})}),i=!0,{...c,imageIds:d,images:void 0}}return c});i&&(o[s]={...a,messages:u},r=!0)}),n.length>0&&!await Zu(n)){console.warn("Failed to migrate images to IndexedDB");return}r&&t({chats:o});try{const s=mv(Object.values(o));await Ju(s)}catch(s){console.warn("Failed to cleanup image store:",s)}},mv=e=>{const t=[];return e.forEach(n=>{n.messages.forEach(r=>{r.imageIds&&r.imageIds.length>0&&t.push(...r.imageIds)})}),t};function El(e){const t=Xb*Math.pow(2,e),n=Math.min(t,Zb),r=n*.25*(Math.random()*2-1);return Math.round(n+r)}function Rl(e){return new Promise(t=>setTimeout(t,e))}async function Bn(e,t){let n=null;for(let r=0;r<ar;r++)try{const o=await e();if(Qb.includes(o.status)){const s=o.headers.get("retry-after"),a=s?parseInt(s,10)*1e3:El(r);if(r<ar-1){if(console.warn(`Request failed with status ${o.status}, retrying in ${a}ms (attempt ${r+1}/${ar})`),t!=null&&t.aborted)throw new DOMException("Aborted","AbortError");await Rl(a);continue}}return o}catch(o){if(o instanceof Error&&o.name==="AbortError")throw o;if(n=o instanceof Error?o:new Error(String(o)),r<ar-1){const s=El(r);if(console.warn(`Request failed with error: ${n.message}, retrying in ${s}ms (attempt ${r+1}/${ar})`),t!=null&&t.aborted)throw new DOMException("Aborted","AbortError");await Rl(s)}}throw n??new Error("Request failed after all retries")}class ed{constructor(t){ve(this,"baseUrl");ve(this,"apiKey");ve(this,"apiProvider");ve(this,"streamingEnabled");this.baseUrl=t.apiBaseUrl.replace(/\/$/,""),this.apiKey=t.apiKey,this.apiProvider=t.apiProvider,this.streamingEnabled=t.streamingEnabled??!0}chat(t){const n=new AbortController,r=t.signal??n.signal;return(async()=>{var s;if(this.streamingEnabled)await this.postStreamingChat(t,r);else{const a=await this.postNonStreamingChat(t,r);(s=t.onToken)==null||s.call(t,a)}})().then(()=>{var s;return(s=t.onDone)==null?void 0:s.call(t)}).catch(s=>{var a;s.name!=="AbortError"&&(console.error("Chat error:",s),(a=t.onError)==null||a.call(t,s))}),{abortController:n,cancel:()=>n.abort()}}streamChat(t){return this.chat(t)}isDev(){return typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")}}class gv extends ed{async verify(){try{const t=`${this.baseUrl}/models`;return(await Bn(()=>fetch(t,{headers:this.headers()}))).ok}catch{return!1}}async listModels(){const t=await Bn(()=>fetch(`${this.baseUrl}/models`,{headers:this.headers()}));if(!t.ok)throw new Error(`Failed to list models: ${t.status}`);const n=await t.json();return Array.isArray(n==null?void 0:n.data)?n.data:[]}async postStreamingChat(t,n){const r=this.buildFetchUrl(),o={model:t.model,messages:t.messages,temperature:t.temperature??eo,stream:!0};if(t.thinkingEnabled){const a=t.thinkingEffort??"medium";if(this.apiProvider==="openai")o.reasoning_effort=a;else{const i={low:8192,medium:16384,high:32768};o.thinking={type:"enabled",budget_tokens:i[a]}}}const s=await Bn(()=>fetch(r,{method:"POST",headers:this.headers(),body:JSON.stringify(o),signal:n}),n);if(!s.ok||!s.body){const a=await s.text().catch(()=>"Unknown error");throw new Error(`Chat request failed: ${s.status} - ${a}`)}await this.parseSSEStream(s.body,t.onToken,t.onThinking)}async postNonStreamingChat(t,n){var u,c,d,p,f,m;const r=this.buildFetchUrl(),o={model:t.model,messages:t.messages,temperature:t.temperature??eo,stream:!1};if(t.thinkingEnabled){const g=t.thinkingEffort??"medium";if(this.apiProvider==="openai")o.reasoning_effort=g;else{const b={low:8192,medium:16384,high:32768};o.thinking={type:"enabled",budget_tokens:b[g]}}}const s=await Bn(()=>fetch(r,{method:"POST",headers:this.headers(),body:JSON.stringify(o),signal:n}),n);if(!s.ok){const g=await s.text().catch(()=>"Unknown error");throw new Error(`Chat request failed: ${s.status} - ${g}`)}const a=await s.json(),i=(d=(c=(u=a.choices)==null?void 0:u[0])==null?void 0:c.message)==null?void 0:d.reasoning_content;return i&&t.onThinking&&t.onThinking(i),((m=(f=(p=a.choices)==null?void 0:p[0])==null?void 0:f.message)==null?void 0:m.content)??""}buildFetchUrl(){const t=`${this.baseUrl}/chat/completions`;if(this.isDev())try{const n=new URL(t);if(n.host.includes("openai.com"))return`/openai-proxy${n.pathname}`}catch{}return t}async parseSSEStream(t,n,r){const o=t.getReader(),s=new TextDecoder;let a="";try{for(;;){const{value:i,done:u}=await o.read();if(u){a.trim()&&this.processSSELine(a,n,r);break}a+=s.decode(i,{stream:!0});const c=a.split(`
`);a=c.pop()??"";for(const d of c){const p=d.trim();if(!(!p||p.startsWith(":"))&&p.startsWith("data:")){const f=p.slice(5).trim();if(f==="[DONE]")return;this.processSSELine(f,n,r)}}}}finally{o.releaseLock()}}processSSELine(t,n,r){var o,s;try{const a=JSON.parse(t),i=(s=(o=a==null?void 0:a.choices)==null?void 0:o[0])==null?void 0:s.delta,u=(i==null?void 0:i.content)??"";u&&n&&n(u);const c=(i==null?void 0:i.thinking)??(i==null?void 0:i.reasoning)??(i==null?void 0:i.reasoning_content)??"";c&&r&&r(c)}catch{}}headers(){const t={"Content-Type":"application/json"};return this.apiKey&&(t.Authorization=`Bearer ${this.apiKey}`),t}}class bv extends ed{async verify(){try{return(await this.listModels()).length>0}catch{return!1}}async listModels(){return[{id:"claude-sonnet-4-5-20250929",object:"model",owned_by:"anthropic"}]}async postStreamingChat(t,n){const{systemPrompt:r,messages:o}=this.convertMessages(t.messages),s=this.buildFetchUrl(),a={model:t.model,messages:o,max_tokens:Cl,stream:!0};if(r&&(a.system=r),t.temperature!==void 0&&(a.temperature=t.temperature),t.thinkingEnabled){const u=t.thinkingEffort??"medium",c={low:8192,medium:16384,high:32768};a.thinking={type:"enabled",budget_tokens:c[u]}}const i=await Bn(()=>fetch(s,{method:"POST",headers:this.headers(),body:JSON.stringify(a),signal:n}),n);if(!i.ok||!i.body){const u=await i.text().catch(()=>"Unknown error");throw new Error(`Anthropic request failed: ${i.status} - ${u}`)}await this.parseAnthropicStream(i.body,t.onToken,t.onThinking)}async postNonStreamingChat(t,n){var d,p,f;const{systemPrompt:r,messages:o}=this.convertMessages(t.messages),s=this.buildFetchUrl(),a={model:t.model,messages:o,max_tokens:Cl,stream:!1};if(r&&(a.system=r),t.temperature!==void 0&&(a.temperature=t.temperature),t.thinkingEnabled){const m=t.thinkingEffort??"medium",g={low:8192,medium:16384,high:32768};a.thinking={type:"enabled",budget_tokens:g[m]}}const i=await Bn(()=>fetch(s,{method:"POST",headers:this.headers(),body:JSON.stringify(a),signal:n}),n);if(!i.ok){const m=await i.text().catch(()=>"Unknown error");throw new Error(`Anthropic request failed: ${i.status} - ${m}`)}const u=await i.json(),c=(d=u.content)==null?void 0:d.find(m=>m.type==="thinking");return c!=null&&c.text&&t.onThinking&&t.onThinking(c.text),((f=(p=u.content)==null?void 0:p.find(m=>m.type==="text"))==null?void 0:f.text)??""}buildFetchUrl(){if(this.isDev())try{return`/anthropic-proxy${new URL(`${this.baseUrl}/messages`).pathname}`}catch{}return`${this.baseUrl}/messages`}async parseAnthropicStream(t,n,r){const o=t.getReader(),s=new TextDecoder;let a="",i=null;try{for(;;){const{value:u,done:c}=await o.read();if(c){if(a.trim()){const p=this.processAnthropicLine(a,i,n,r);p.newBlockType!==void 0&&(i=p.newBlockType)}break}a+=s.decode(u,{stream:!0});const d=a.split(`
`);a=d.pop()??"";for(const p of d){const f=p.trim();if(!(!f||f.startsWith(":"))&&f.startsWith("data:")){const m=f.slice(5).trim();if(m==="[DONE]")return;const g=this.processAnthropicLine(m,i,n,r);if(g.shouldStop)return;g.newBlockType!==void 0&&(i=g.newBlockType)}}}}finally{o.releaseLock()}}processAnthropicLine(t,n,r,o){var s,a,i,u;try{const c=JSON.parse(t);if(c.type==="content_block_start")return{newBlockType:((s=c.content_block)==null?void 0:s.type)??null};if(c.type==="content_block_delta"){const d=(a=c.delta)==null?void 0:a.type;if(d==="thinking_delta"||n==="thinking"){const p=((i=c.delta)==null?void 0:i.thinking)??"";p&&o&&o(p)}else if(d==="text_delta"||n==="text"){const p=((u=c.delta)==null?void 0:u.text)??"";p&&r&&r(p)}}else{if(c.type==="content_block_stop")return{newBlockType:null};if(c.type==="message_stop")return{shouldStop:!0}}}catch{}return{}}convertMessages(t){let n=null;const r=[];for(const o of t)if(o.role==="system"){const s=typeof o.content=="string"?o.content:"";n=n?`${n}

${s}`:s}else(o.role==="user"||o.role==="assistant")&&r.push({role:o.role,content:this.convertContentToAnthropic(o.content)});return{systemPrompt:n,messages:r}}convertContentToAnthropic(t){if(typeof t=="string")return t;const n=[];for(const r of t)if(r.type==="text")n.push({type:"text",text:r.text});else if(r.type==="image_url"){const o=r.image_url.url;if(o.startsWith("data:")){const s=o.match(/^data:([^;]+);base64,(.+)$/);s&&s[1]&&s[2]&&n.push({type:"image",source:{type:"base64",media_type:s[1],data:s[2]}})}}return n.length>0?n:""}headers(){const t={"Content-Type":"application/json","anthropic-version":Yb,"anthropic-dangerous-direct-browser-access":"true"};return this.apiKey&&(t["x-api-key"]=this.apiKey),t}}function td(e){return e.apiProvider===Xu?new bv(e):new gv(e)}let ir=null,ns="";const vv=(e,t)=>({settings:Ya,getClient:()=>{const{apiBaseUrl:n,apiKey:r,apiProvider:o,streamingEnabled:s}=t().settings,a=`${o??""}:${n}:${r??""}:${s}`;return ir&&ns===a||(ir=td({apiBaseUrl:n,apiKey:r,apiProvider:o,streamingEnabled:s}),ns=a),ir},updateSettings:n=>{ir=null,ns="",e(r=>({settings:{...r.settings,...n}}))}}),yv=e=>({isLoading:!1,isRegenerating:!1,setIsLoading:t=>e({isLoading:t}),setIsRegenerating:t=>e({isRegenerating:t})}),xv=e=>({ui:no,toggleSidebar:()=>e(t=>({ui:{...t.ui,sidebarOpen:!t.ui.sidebarOpen}})),closeSidebar:()=>e(t=>({ui:{...t.ui,sidebarOpen:!1}})),openSidebar:()=>e(t=>({ui:{...t.ui,sidebarOpen:!0}})),setActiveThread:t=>e(n=>({ui:{...n.ui,activeThread:t}})),setSearchQuery:t=>e(n=>({ui:{...n.ui,searchQuery:t}})),setSelectedModel:t=>e(n=>({ui:{...n.ui,selectedModel:t}})),setSelectedLlmModel:t=>e(n=>({ui:{...n.ui,selectedLlmModel:t}}))}),X=xb()(Sb((e,t,n)=>({...vv(e,t),...xv(e),...rv(e,t),...fv(e,t),...ov(e,t),...yv(e),...hv(e)})));X.subscribe(e=>({models:e.models,chats:e.chats,ui:e.ui,settings:e.settings,availableModels:e.availableModels}),e=>{X.getState()._hydrated&&Vb(e)},{equalityFn:Gu});const Zn=e=>e.ui.activeThread?e.chats[e.ui.activeThread]??null:null,As=e=>{const t=Zn(e);return t?e.models.find(n=>n.id===t.modelId)??null:null};function wv(){const e=X(Cb(t=>t.chats));return Object.values(e)}function Al(e){const t=Date.now(),n=Math.max(0,t-e),r=Math.floor(n/1e3);if(r<60)return`${r}s ago`;const o=Math.floor(r/60);if(o<60)return`${o}m ago`;const s=Math.floor(o/60);if(s<24)return`${s}h ago`;const a=Math.floor(s/24);if(a===1)return"Yesterday";if(a<7)return`${a}d ago`;const i=Math.floor(a/7);if(i<4)return`${i}w ago`;const u=Math.floor(a/30);return u<12?`${u}mo ago`:`${Math.floor(a/365)}y ago`}function Sv(e){const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),o=Math.floor(r/(1e3*60*60*24));return o===0?"Today":o===1?"Yesterday":o<7?"This Week":"Older"}function kv({opened:e,onClose:t,onConfirm:n,title:r,message:o,confirmLabel:s="Confirm",cancelLabel:a="Cancel",confirmColor:i="red",loading:u=!1}){const c=()=>{n(),t()};return l.jsxs(Je,{opened:e,onClose:t,title:r,size:"sm",centered:!0,"aria-labelledby":"confirm-modal-title",children:[l.jsx(fe,{size:"sm",mb:"lg",children:o}),l.jsxs(Ft,{justify:"flex-end",gap:"sm",children:[l.jsx(Ie,{variant:"default",onClick:t,disabled:u,children:a}),l.jsx(Ie,{color:i,onClick:c,loading:u,children:s})]})]})}const Za=je.memo(kv);var nd={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jl=je.createContext&&je.createContext(nd),Cv=["attr","size","title"];function Tv(e,t){if(e==null)return{};var n=Ev(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ev(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ro.apply(this,arguments)}function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nl(Object(n),!0).forEach(function(r){Rv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rv(e,t,n){return t=Av(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Av(e){var t=jv(e,"string");return typeof t=="symbol"?t:t+""}function jv(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rd(e){return e&&e.map((t,n)=>je.createElement(t.tag,oo({key:n},t.attr),rd(t.child)))}function Ge(e){return t=>je.createElement(Nv,ro({attr:oo({},e.attr)},t),rd(e.child))}function Nv(e){var t=n=>{var{attr:r,size:o,title:s}=e,a=Tv(e,Cv),i=o||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),je.createElement("svg",ro({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:oo(oo({color:e.color||n.color},n.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),s&&je.createElement("title",null,s),e.children)};return jl!==void 0?je.createElement(jl.Consumer,null,n=>t(n)):t(nd)}function Mv(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function od(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(e)}function _v(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function Iv(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(e)}function Pv(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Dv(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Ov({onEditModel:e}){const t=X(C=>C.settings),n=X(C=>C.models),r=X(C=>C.updateSettings),o=X(C=>C.syncModels),s=X(C=>C.deleteModel),a=X(C=>C.isCloudConfigured),[i,u]=h.useState(t.adminApiUrl??""),[c,d]=h.useState(t.adminPassword??""),[p,f]=h.useState(!1),[m,g]=h.useState(!1),[b,v]=h.useState(null),[w,S]=h.useState(!1),x=i!==(t.adminApiUrl??"")||c!==(t.adminPassword??""),y=h.useCallback(()=>{r({adminApiUrl:i,adminPassword:c}),ye.show({message:"Cloud settings saved",color:"green"})},[i,c,r]),k=h.useCallback(async()=>{x&&r({adminApiUrl:i,adminPassword:c}),f(!0);try{const C=await o();C.success?ye.show({message:`Synced ${C.models.length} models from cloud`,color:"green"}):ye.show({message:C.error||"Failed to sync models",color:"red"})}catch(C){ye.show({message:C instanceof Error?C.message:"Sync failed",color:"red"})}finally{f(!1)}},[i,c,x,r,o]),E=h.useCallback(C=>{v(C),g(!0)},[]),A=h.useCallback(async()=>{if(b){S(!0);try{const C=await s(b.id);C.success?ye.show({message:`Deleted "${b.name}"`,color:"green"}):ye.show({message:C.error||"Failed to delete model",color:"red"})}catch(C){ye.show({message:C instanceof Error?C.message:"Delete failed",color:"red"})}finally{S(!1),g(!1),v(null)}}},[b,s]);h.useEffect(()=>{a()&&n.length===0&&k()},[]);const _=!!(i&&c);return l.jsxs("div",{className:"cloud-models-tab",children:[l.jsxs("div",{className:"cloud-settings-section",children:[l.jsxs("div",{className:"cloud-settings-header",children:[l.jsx(fe,{size:"sm",fw:500,children:"Cloud Connection"}),_?l.jsx(Yn,{color:"green",variant:"light",leftSection:l.jsx(od,{size:12}),children:"Configured"}):l.jsx(Yn,{color:"gray",variant:"light",leftSection:l.jsx(Mv,{size:12}),children:"Not Configured"})]}),l.jsx(fe,{size:"xs",c:"dimmed",mb:"sm",children:"Connect to your MongoDB backend. Cloud is the source of truth - local storage is just a cache."}),l.jsx(dn,{label:"Admin API URL",placeholder:"http://localhost:3017/admin/api",value:i,onChange:C=>u(C.currentTarget.value),size:"sm",mb:"xs"}),l.jsx($a,{label:"Admin Password",placeholder:"Your admin password",value:c,onChange:C=>d(C.currentTarget.value),size:"sm",mb:"sm"}),l.jsxs(Ft,{gap:"sm",children:[x&&l.jsx(Ie,{size:"xs",variant:"light",onClick:y,children:"Save Settings"}),l.jsx(Ie,{size:"xs",variant:"filled",onClick:k,loading:p,disabled:!_,leftSection:l.jsx(Pv,{size:14}),children:"Sync from Cloud"})]})]}),l.jsxs("div",{className:"cloud-models-section",children:[l.jsx("div",{className:"cloud-models-header",children:l.jsxs(fe,{size:"sm",fw:500,children:["Models (",n.length,")"]})}),p&&n.length===0?l.jsxs("div",{className:"cloud-models-loading",children:[l.jsx(Fs,{size:"sm"}),l.jsx(fe,{size:"sm",c:"dimmed",children:"Loading models..."})]}):n.length===0?l.jsx("div",{className:"cloud-models-empty",children:l.jsx(fe,{size:"sm",c:"dimmed",children:_?"No models found. Click 'Sync from Cloud' to fetch models.":"Configure cloud connection to sync models."})}):l.jsx("div",{className:"cloud-models-list",children:n.map(C=>l.jsxs("div",{className:"cloud-model-item",children:[l.jsxs("div",{className:"cloud-model-info",children:[l.jsx("div",{className:"cloud-model-color",style:{backgroundColor:C.color}}),l.jsxs("div",{className:"cloud-model-details",children:[l.jsx(fe,{size:"sm",fw:500,children:C.name}),l.jsxs(fe,{size:"xs",c:"dimmed",children:["Temp: ",C.temp,C.thinkingEnabled&&"  Thinking"]})]})]}),l.jsxs("div",{className:"cloud-model-actions",children:[l.jsx(Xn,{label:"Edit model",children:l.jsx(pn,{variant:"subtle",size:"sm",onClick:()=>e(C.id),children:l.jsx(_v,{size:14})})}),l.jsx(Xn,{label:"Delete model",children:l.jsx(pn,{variant:"subtle",size:"sm",color:"red",onClick:()=>E(C),children:l.jsx(Dv,{size:14})})})]})]},C.id))})]}),l.jsx(Za,{opened:m,onClose:()=>{g(!1),v(null)},onConfirm:A,title:"Delete Model",message:`Are you sure you want to delete "${b==null?void 0:b.name}"? This will remove it from the cloud database.`,confirmLabel:w?"Deleting...":"Delete",confirmColor:"red"})]})}function Lv({opened:e,onClose:t,onEditModel:n}){const r=X(P=>P.settings);X(P=>P.availableModels);const o=X(P=>P.updateSettings),s=X(P=>P.setAvailableModels),a=()=>{const P=X.getState();return{models:P.models,chats:P.chats,ui:P.ui,settings:P.settings,availableModels:P.availableModels}},i=()=>{if(r.apiProvider)return r.apiProvider;const P=kn.find(V=>V.id!==Yt&&V.baseUrl===r.apiBaseUrl);return P?P.id:Yt},[u,c]=h.useState(()=>i()),[d,p]=h.useState(()=>{const P=i(),V=kn.find(G=>G.id===P);return V&&r.apiBaseUrl&&r.apiBaseUrl!==V.baseUrl||P===Yt?r.apiBaseUrl:""}),[f,m]=h.useState(()=>{const P=i();if(P===Yt)return!0;const V=kn.find(G=>G.id===P);return!!(V&&r.apiBaseUrl&&r.apiBaseUrl!==V.baseUrl)}),[g,b]=h.useState(r.apiKey??""),[v,w]=h.useState(r.streamingEnabled),[S,x]=h.useState(r.lowSpecBlur??8),[y,k]=h.useState(r.showThinkingExpanded??!0),[E,A]=h.useState(!1),[_,C]=h.useState(!1),[B,I]=h.useState(!1),[T,L]=h.useState(""),[D,$]=h.useState("checking"),[M,N]=h.useState(null),[R,O]=h.useState(!1),F=X(P=>P.nukeAll),z=X(P=>P.deleteAllChats);h.useEffect(()=>{if(!e)return;let P=!1;return(async()=>{$("checking");const G=await ev();if(!P){if($(G?"available":"unavailable"),!G){N(null);return}try{const ie=await Rs();P||N(ie.length)}catch{P||N(null)}}})(),()=>{P=!0}},[e]);const W=h.useMemo(()=>{if(u===Yt||f)return d;const P=kn.find(V=>V.id===u);return(P==null?void 0:P.baseUrl)??""},[u,d,f]),H=h.useMemo(()=>{const P=kn.find(V=>V.id===u);return(P==null?void 0:P.baseUrl)??""},[u]),Y=h.useMemo(()=>kn.map(P=>({value:P.id,label:P.label})),[]),J=h.useCallback(P=>{if(P)if(c(P),P===Yt)m(!0);else{const V=kn.find(G=>G.id===P);V&&p(V.baseUrl),m(!1)}},[]),U=h.useCallback(async()=>{if(g.length!==0){A(!0);try{const P=td({apiBaseUrl:W,apiKey:g,apiProvider:u,streamingEnabled:v});if(await P.verify()){const G=await P.listModels();s(G),ye.show({message:"API verified",color:"green"})}else ye.show({message:"Failed to verify API",color:"red"})}catch{ye.show({message:"Failed to verify API",color:"red"})}A(!1)}},[W,g,u,v,s]),ee=h.useCallback(()=>{g.length!==0&&(o({apiBaseUrl:W,apiKey:g,apiProvider:u,streamingEnabled:v,lowSpecBlur:S}),t())},[W,g,u,v,S,o,t]),se=h.useCallback(P=>{x(P),o({lowSpecBlur:P})},[o]),ue=h.useCallback(P=>{k(P),o({showThinkingExpanded:P})},[o]),ge=h.useCallback(()=>{const P=Yu(a()),V=new Blob([P],{type:"application/json"}),G=URL.createObjectURL(V),ie=document.createElement("a");ie.href=G,ie.download="custommodels-chat.json",ie.click(),URL.revokeObjectURL(G)},[]),pe=h.useCallback(async()=>{const P=document.createElement("input");P.type="file",P.accept=".json,application/json",P.onchange=async()=>{var ie;const V=(ie=P.files)==null?void 0:ie[0];if(!V)return;const G=await V.text();try{const ce=Ub(G),re=qu(ce,a());X.setState({models:re.models,chats:re.chats,ui:re.ui,settings:re.settings,availableModels:re.availableModels}),ye.show({message:"Data imported",color:"green"})}catch{ye.show({message:"Invalid JSON",color:"red"})}},P.click()},[]),Ce=h.useCallback(()=>{F(),C(!1),L(""),ye.show({message:"All data has been wiped",color:"red"})},[F]),he=h.useCallback(()=>{z(),I(!1),ye.show({message:"All chats have been deleted",color:"green"})},[z]),we=h.useCallback(async()=>{if(D==="available"){O(!0);try{const P=X.getState().chats,V=[];Object.values(P).forEach(ce=>{ce.messages.forEach(re=>{re.imageIds&&re.imageIds.length>0&&V.push(...re.imageIds)})});const G=await Ju(V),ie=await Rs();N(ie.length),ye.show({message:G>0?`Removed ${G} unused images`:"No unused images found",color:"green"})}catch(P){console.error("Failed to clean up images:",P),ye.show({message:"Failed to clean up images",color:"red"})}finally{O(!1)}}},[D]),xe=h.useCallback(()=>{C(!1),L("")},[]),Ne=h.useCallback(P=>{n&&(t(),n(P))},[t,n]);return l.jsxs(l.Fragment,{children:[l.jsx(Je,{opened:e,onClose:t,title:"Settings",size:"lg","aria-labelledby":"settings-modal-title",children:l.jsxs(ot,{defaultValue:"api",classNames:{root:"settings-tabs"},children:[l.jsxs(ot.List,{className:"settings-tabs-list",children:[l.jsx(ot.Tab,{value:"api",children:"API"}),l.jsx(ot.Tab,{value:"interface",children:"Interface"}),l.jsx(ot.Tab,{value:"data",children:"Data"}),l.jsx(ot.Tab,{value:"cloud-models",children:"Cloud Models"})]}),l.jsx(ot.Panel,{value:"api",pt:"md",children:l.jsxs("div",{className:"modal-content",children:[l.jsx(Do,{label:"API Provider",data:Y,value:u,onChange:J,"aria-label":"Select API provider"}),u!==Yt&&l.jsx(jn,{label:"Use custom base URL (for proxy)",description:`Default: ${H}`,checked:f,onChange:P=>m(P.currentTarget.checked)}),(u===Yt||f)&&l.jsx(dn,{label:"API Base URL",value:d,onChange:P=>p(P.currentTarget.value),placeholder:H||"https://api.example.com/v1","aria-describedby":"custom-api-url-description"}),l.jsx(dn,{label:"API Key",value:g,onChange:P=>b(P.currentTarget.value),type:"password",required:!0,withAsterisk:!0,error:g.length===0?"API key is required":void 0,"aria-describedby":"api-key-description"}),l.jsx(jn,{label:"Streaming enabled",checked:v,onChange:P=>w(P.currentTarget.checked),"aria-describedby":"streaming-description"}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("div",{className:"modal-actions-group"}),l.jsxs("div",{className:"modal-actions-group",children:[l.jsx(Ie,{variant:"default",onClick:U,loading:E,disabled:g.length===0,"aria-label":"Verify API connection",children:"Verify API"}),l.jsx(Ie,{onClick:ee,disabled:g.length===0,"aria-label":"Save settings",children:"Save"})]})]})]})}),l.jsx(ot.Panel,{value:"interface",pt:"md",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"data-section",children:[l.jsx(fe,{size:"sm",fw:500,mb:"xs",children:"AI Responses"}),l.jsx(fe,{size:"xs",c:"dimmed",mb:"sm",children:"Configure how AI responses are displayed."}),l.jsx(jn,{label:"Show AI reasoning expanded",description:"Automatically expand the thinking block when AI shares its reasoning",checked:y,onChange:P=>ue(P.currentTarget.checked),"aria-describedby":"thinking-expanded-description"})]}),l.jsxs("div",{className:"data-section",children:[l.jsx(fe,{size:"sm",fw:500,mb:"xs",children:"Visual Effects"}),l.jsx(fe,{size:"xs",c:"dimmed",mb:"sm",children:"Adjust visual effects for better performance on lower-powered devices."}),l.jsxs("div",{children:[l.jsxs(fe,{size:"xs",fw:500,mb:4,children:["Background Blur Strength (",S,"px)"]}),l.jsx(fe,{size:"xs",c:"dimmed",mb:"xs",children:"Adjust the blur amount for UI elements to improve readability."}),l.jsx(Ba,{value:S,onChange:se,min:0,max:20,step:1,label:P=>`${P}px`})]})]})]})}),l.jsx(ot.Panel,{value:"data",pt:"md",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"data-section",children:[l.jsx(fe,{size:"sm",fw:500,mb:"xs",children:"Export & Import"}),l.jsx(fe,{size:"xs",c:"dimmed",mb:"sm",children:"Backup your data or restore from a previous export."}),l.jsx(fe,{size:"xs",c:"dimmed",mb:"sm",children:"Note: Exports do not include images stored in browser storage."}),l.jsxs("div",{className:"modal-actions-group",children:[l.jsx(Ie,{variant:"light",onClick:ge,"aria-label":"Export settings as JSON file",children:"Export JSON"}),l.jsx(Ie,{variant:"light",onClick:pe,"aria-label":"Import settings from JSON file",children:"Import JSON"})]})]}),l.jsxs("div",{className:"data-section",children:[l.jsx(fe,{size:"sm",fw:500,mb:"xs",children:"Image Storage"}),l.jsx(fe,{size:"xs",c:"dimmed",mb:"sm",children:"Images are stored locally in your browser for performance and privacy."}),l.jsxs(Ft,{gap:"sm",children:[l.jsxs(fe,{size:"xs",c:"dimmed",children:["Status:"," ",D==="checking"?"Checking...":D==="available"?"Available":"Unavailable"]}),D==="available"&&l.jsxs(fe,{size:"xs",c:"dimmed",children:["Stored images: ",M??""]})]}),D==="unavailable"&&l.jsx(fe,{size:"xs",c:"red",mt:"xs",children:"Image persistence is unavailable in this browser."}),l.jsx(Ft,{gap:"sm",style:{marginTop:"0.5rem"},children:l.jsx(Ie,{size:"xs",variant:"light",onClick:we,loading:R,disabled:D!=="available","aria-label":"Clean up unused images",children:"Clean Up Unused Images"})})]}),l.jsxs("div",{className:"data-section data-section-danger",children:[l.jsx(fe,{size:"sm",fw:500,c:"red",mb:"xs",children:"Danger Zone"}),l.jsx(fe,{size:"xs",c:"dimmed",mb:"sm",children:"Permanently delete chats or all data including models and settings."}),l.jsxs(Ft,{children:[l.jsx(Ie,{color:"red",variant:"light",onClick:()=>I(!0),"aria-label":"Delete all chats",children:"Delete All Chats"}),l.jsx(Ie,{color:"red",variant:"light",onClick:()=>C(!0),"aria-label":"Nuke all data",children:"Nuke All Data"})]})]})]})}),l.jsx(ot.Panel,{value:"cloud-models",pt:"md",children:l.jsx(Ov,{onEditModel:Ne})})]})}),l.jsx(Za,{opened:B,onClose:()=>I(!1),onConfirm:he,title:"Delete All Chats",message:"Are you sure you want to delete all chats? This action cannot be undone.",confirmLabel:"Delete Chats",confirmColor:"red"}),l.jsxs(Je,{opened:_,onClose:xe,title:" Nuke All Data",size:"sm",centered:!0,children:[l.jsx(fe,{size:"sm",mb:"md",children:"This will permanently delete ALL your data including chats, messages, custom models, and settings. This cannot be undone!"}),l.jsx(dn,{label:"Type CONFIRM to proceed",placeholder:"CONFIRM",value:T,onChange:P=>L(P.currentTarget.value),mb:"lg"}),l.jsxs(Ft,{justify:"flex-end",gap:"sm",children:[l.jsx(Ie,{variant:"default",onClick:xe,children:"Cancel"}),l.jsx(Ie,{color:"red",onClick:Ce,disabled:T!=="CONFIRM",children:"Nuke Everything"})]})]})]})}function Ml(e){if(!e)return"Unknown";try{return new Date(e).toLocaleString()}catch{return"Unknown"}}function zn(e,t){return JSON.stringify(e)!==JSON.stringify(t)}function $v({opened:e,onClose:t,localModel:n,serverModel:r,onKeepLocal:o,onKeepServer:s,saving:a=!1}){const i={name:zn(n.name,r.name),color:zn(n.color,r.color),system:zn(n.system,r.system),temp:zn(n.temp,r.temp),thinkingEnabled:zn(n.thinkingEnabled,r.thinkingEnabled),thinkingEffort:zn(n.thinkingEffort,r.thinkingEffort)};return l.jsxs(Je,{opened:e,onClose:t,title:" Conflict Detected",size:"xl",centered:!0,children:[l.jsx(fe,{size:"sm",c:"dimmed",mb:"md",children:"This model was modified on another device. Choose which version to keep:"}),l.jsxs("div",{className:"conflict-comparison",children:[l.jsxs("div",{className:"conflict-version conflict-version-local",children:[l.jsxs("div",{className:"conflict-version-header",children:[l.jsx(Yn,{color:"blue",variant:"light",leftSection:l.jsx(Iv,{size:12}),children:"Your Changes"}),l.jsx(fe,{size:"xs",c:"dimmed",children:Ml(n.updatedAt)})]}),l.jsxs(hn,{h:300,className:"conflict-version-content",children:[l.jsxs("div",{className:"conflict-field",children:[l.jsx(fe,{size:"xs",fw:500,c:"dimmed",children:"Name"}),l.jsx(fe,{size:"sm",className:i.name?"conflict-changed":"",children:n.name})]}),l.jsxs("div",{className:"conflict-field",children:[l.jsx(fe,{size:"xs",fw:500,c:"dimmed",children:"Color"}),l.jsxs("div",{className:"conflict-color-row",children:[l.jsx("div",{className:"conflict-color-swatch",style:{backgroundColor:n.color}}),l.jsx(fe,{size:"sm",className:i.color?"conflict-changed":"",children:n.color})]})]}),l.jsxs("div",{className:"conflict-field",children:[l.jsx(fe,{size:"xs",fw:500,c:"dimmed",children:"Temperature"}),l.jsx(fe,{size:"sm",className:i.temp?"conflict-changed":"",children:n.temp})]}),l.jsxs("div",{className:"conflict-field",children:[l.jsx(fe,{size:"xs",fw:500,c:"dimmed",children:"Thinking"}),l.jsx(fe,{size:"sm",className:i.thinkingEnabled||i.thinkingEffort?"conflict-changed":"",children:n.thinkingEnabled?`Enabled (${n.thinkingEffort||"medium"})`:"Disabled"})]}),l.jsxs("div",{className:"conflict-field",children:[l.jsx(fe,{size:"xs",fw:500,c:"dimmed",children:"System Prompt"}),l.jsx(fe,{size:"sm",className:`conflict-system-prompt ${i.system?"conflict-changed":""}`,children:n.system||"(empty)"})]})]}),l.jsx(Ie,{fullWidth:!0,variant:"filled",color:"blue",onClick:o,loading:a,mt:"sm",children:"Keep My Changes"})]}),l.jsxs("div",{className:"conflict-version conflict-version-server",children:[l.jsxs("div",{className:"conflict-version-header",children:[l.jsx(Yn,{color:"green",variant:"light",leftSection:l.jsx(od,{size:12}),children:"Server Version"}),l.jsx(fe,{size:"xs",c:"dimmed",children:Ml(r.updatedAt)})]}),l.jsxs(hn,{h:300,className:"conflict-version-content",children:[l.jsxs("div",{className:"conflict-field",children:[l.jsx(fe,{size:"xs",fw:500,c:"dimmed",children:"Name"}),l.jsx(fe,{size:"sm",className:i.name?"conflict-changed":"",children:r.name})]}),l.jsxs("div",{className:"conflict-field",children:[l.jsx(fe,{size:"xs",fw:500,c:"dimmed",children:"Color"}),l.jsxs("div",{className:"conflict-color-row",children:[l.jsx("div",{className:"conflict-color-swatch",style:{backgroundColor:r.color}}),l.jsx(fe,{size:"sm",className:i.color?"conflict-changed":"",children:r.color})]})]}),l.jsxs("div",{className:"conflict-field",children:[l.jsx(fe,{size:"xs",fw:500,c:"dimmed",children:"Temperature"}),l.jsx(fe,{size:"sm",className:i.temp?"conflict-changed":"",children:r.temp})]}),l.jsxs("div",{className:"conflict-field",children:[l.jsx(fe,{size:"xs",fw:500,c:"dimmed",children:"Thinking"}),l.jsx(fe,{size:"sm",className:i.thinkingEnabled||i.thinkingEffort?"conflict-changed":"",children:r.thinkingEnabled?`Enabled (${r.thinkingEffort||"medium"})`:"Disabled"})]}),l.jsxs("div",{className:"conflict-field",children:[l.jsx(fe,{size:"xs",fw:500,c:"dimmed",children:"System Prompt"}),l.jsx(fe,{size:"sm",className:`conflict-system-prompt ${i.system?"conflict-changed":""}`,children:r.system||"(empty)"})]})]}),l.jsx(Ie,{fullWidth:!0,variant:"filled",color:"green",onClick:s,loading:a,mt:"sm",children:"Keep Server Version"})]})]}),l.jsx(Ft,{justify:"center",mt:"md",children:l.jsx(Ie,{variant:"subtle",onClick:t,disabled:a,children:"Cancel"})})]})}function sd({opened:e,onClose:t,modelId:n}){const r=X(U=>U.models),o=X(U=>U.addModel),s=X(U=>U.updateModel),a=X(U=>U.deleteModel),i=X(U=>U.getSyncClient),u=X(U=>U.setModels),c=h.useMemo(()=>r.find(U=>U.id===n),[r,n]),[d,p]=h.useState((c==null?void 0:c.name)??""),[f,m]=h.useState((c==null?void 0:c.color)??to()),[g,b]=h.useState((c==null?void 0:c.system)??""),[v,w]=h.useState((c==null?void 0:c.temp)??eo),[S,x]=h.useState((c==null?void 0:c.thinkingEnabled)??!1),[y,k]=h.useState((c==null?void 0:c.thinkingEffort)??"medium"),[E,A]=h.useState(!1),[_,C]=h.useState(!1),[B,I]=h.useState(!1),[T,L]=h.useState(!1),[D,$]=h.useState(null),[M,N]=h.useState(null),[R,O]=h.useState(c==null?void 0:c.updatedAt);h.useEffect(()=>{p((c==null?void 0:c.name)??""),m((c==null?void 0:c.color)??to()),b((c==null?void 0:c.system)??""),w((c==null?void 0:c.temp)??eo),x((c==null?void 0:c.thinkingEnabled)??!1),k((c==null?void 0:c.thinkingEffort)??"medium"),O(c==null?void 0:c.updatedAt)},[c]);const F=h.useCallback(()=>({id:(c==null?void 0:c.id)??"",name:d,color:f,system:g,temp:v,thinkingEnabled:S,thinkingEffort:y,updatedAt:new Date().toISOString()}),[c==null?void 0:c.id,d,f,g,v,S,y]),z=h.useCallback(async U=>{const ee=U??F();C(!0);try{let se;c?se=await s(c.id,{name:ee.name,color:ee.color,system:ee.system,temp:ee.temp,thinkingEnabled:ee.thinkingEnabled,thinkingEffort:ee.thinkingEffort}):se=await o({name:ee.name,color:ee.color,system:ee.system,temp:ee.temp,thinkingEnabled:ee.thinkingEnabled,thinkingEffort:ee.thinkingEffort}),se.success?(ye.show({message:c?"Model updated":"Model created",color:"green"}),L(!1),t()):ye.show({message:se.error||"Failed to save model",color:"red"})}catch(se){ye.show({message:se instanceof Error?se.message:"Failed to save model",color:"red"})}finally{C(!1)}},[c,o,s,t,F]),W=h.useCallback(async()=>{if(!d.trim())return;if(!c){await z();return}const U=i();if(U){C(!0);try{const ee=await U.fetchModel(c.id);if(ee.success&&ee.model){const se=ee.model;if(se.updatedAt&&R&&se.updatedAt!==R){$(se),N(F()),L(!0),C(!1);return}}}catch(ee){console.warn("Conflict check failed, proceeding with save:",ee)}}await z()},[d,c,i,R,F,z]),H=h.useCallback(async()=>{M&&await z(M)},[M,z]),Y=h.useCallback(()=>{D&&(u(r.map(U=>U.id===D.id?D:U)),ye.show({message:"Kept server version",color:"green"}),L(!1),t())},[D,r,u,t]),J=h.useCallback(async()=>{if(c){I(!0);try{const U=await a(c.id);U.success?(ye.show({message:`Deleted "${c.name}"`,color:"green"}),t()):ye.show({message:U.error||"Failed to delete model",color:"red"})}catch(U){ye.show({message:U instanceof Error?U.message:"Failed to delete model",color:"red"})}finally{I(!1),A(!1)}}},[c,a,t]);return l.jsxs(l.Fragment,{children:[l.jsx(Je,{opened:e,onClose:t,title:c?"Edit Model":"New Model",size:"lg","aria-labelledby":"model-editor-title",children:l.jsxs("div",{className:"modal-content",children:[l.jsx(dn,{label:"Name",value:d,onChange:U=>p(U.currentTarget.value),required:!0,"aria-required":"true"}),l.jsx(Ra,{label:"Color",value:f,onChange:m,format:"hex",disallowInput:!0}),l.jsx(ja,{label:"System Prompt",minRows:4,maxRows:12,autosize:!0,value:g,onChange:U=>b(U.currentTarget.value),"aria-describedby":"system-prompt-description",classNames:{input:"system-prompt-textarea"}}),l.jsx(La,{label:"Temperature",value:v,onChange:U=>w(Number(U)||0),min:0,max:2,step:.1,decimalScale:2,"aria-describedby":"temperature-description"}),l.jsx(jn,{label:"Thinking",description:"Enable reasoning/thinking mode (only works for models/APIs that support it)",checked:S,onChange:U=>x(U.currentTarget.checked)}),S&&l.jsx(Do,{label:"Thinking Effort",description:"Controls thinking depth (maps to budget_tokens for Anthropic/Gemini, reasoning_effort for OpenAI)",data:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],value:y,onChange:U=>k(U||"medium")}),l.jsxs("div",{className:"modal-actions",children:[c?l.jsx(Ie,{color:"red",variant:"light",onClick:()=>A(!0),disabled:_||B,"aria-label":"Delete this model",children:"Delete"}):l.jsx("span",{}),l.jsxs("div",{className:"modal-actions-group",children:[l.jsx(Ie,{variant:"default",onClick:t,disabled:_,children:"Cancel"}),l.jsx(Ie,{onClick:W,disabled:!d.trim()||_,loading:_,children:_?"Saving...":"Save"})]})]})]})}),l.jsx(Za,{opened:E,onClose:()=>A(!1),onConfirm:J,title:"Delete Model",message:`Are you sure you want to delete the model "${c==null?void 0:c.name}"? This action cannot be undone.`,confirmLabel:"Delete"}),M&&D&&l.jsx($v,{opened:T,onClose:()=>L(!1),localModel:M,serverModel:D,onKeepLocal:H,onKeepServer:Y,saving:_})]})}function zv(e){switch(e){case"connected":return{color:Dr("connected"),text:"Connected",title:"API connection is working"};case"error":return{color:Dr("error"),text:"Disconnected",title:"API connection failed"};case"connecting":return{color:Dr("connecting"),text:"Connecting...",title:"Checking API connection"};default:return{color:Dr("unknown"),text:"Unknown",title:"Connection status unknown"}}}function Fv({onSettingsClick:e}){const t=X(i=>i.settings.apiBaseUrl),n=X(i=>i.connectionStatus),{color:r,text:o,title:s}=zv(n),a=r.includes("green")?"connected":r.includes("red")?"error":r.includes("yellow")?"connecting":"unknown";return l.jsxs("div",{className:"sidebar-header",children:[l.jsxs("div",{className:"app-title",children:[l.jsx("h1",{children:"CustomModels Chat"}),l.jsx("div",{className:"url","aria-label":`Connected to ${t}`,children:t})]}),l.jsxs("div",{className:"sidebar-controls",children:[l.jsx(Ie,{variant:"light",size:"xs",onClick:e,className:"settings-button","aria-label":"Open settings",children:""}),l.jsxs("div",{className:"connection-status",role:"status","aria-live":"polite",children:[l.jsx("span",{className:`status-dot ${a}`,title:s,"aria-hidden":"true"}),l.jsx("span",{className:"status-text","aria-label":`Connection status: ${o}`,children:o})]})]})]})}function Bv({sortBy:e,onSortChange:t,filteredCount:n}){const r=X(u=>u.ui.searchQuery),o=X(u=>u.ui.selectedModel),s=X(u=>u.models),a=X(u=>u.setSearchQuery),i=X(u=>u.setSelectedModel);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"search-section",children:l.jsx("input",{className:"search-input",placeholder:"Search threads...",value:r,onChange:u=>a(u.target.value),"aria-label":"Search chat threads",type:"search"})}),l.jsxs("div",{className:"filter-controls",role:"group","aria-label":"Thread filters",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{htmlFor:"sort-select",children:"Sort:"}),l.jsxs("select",{id:"sort-select",className:"filter-select",value:e,onChange:u=>t(u.target.value),"aria-label":"Sort threads by",children:[l.jsx("option",{value:"date",children:"Date"}),l.jsx("option",{value:"name",children:"Name"}),l.jsx("option",{value:"model",children:"Model"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{htmlFor:"model-filter",children:"Model:"}),l.jsxs("select",{id:"model-filter",className:"filter-select model-select",value:o,onChange:u=>i(u.target.value),"aria-label":"Filter by model",children:[l.jsx("option",{value:"all",children:"All"}),s.map(u=>l.jsx("option",{value:u.id,children:u.name},u.id))]})]}),l.jsxs("div",{className:"thread-count",title:`${n} threads`,role:"status","aria-live":"polite",children:[n," thread",n!==1?"s":""]})]})]})}function Uv(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}function Vv(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"},child:[]},{tag:"path",attr:{d:"M13.5 6.5l4 4"},child:[]}]})(e)}function Hv(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 4.5l-4 4l-4 1.5l-1.5 1.5l7 7l1.5 -1.5l1.5 -4l4 -4"},child:[]},{tag:"path",attr:{d:"M9 15l-4.5 4.5"},child:[]},{tag:"path",attr:{d:"M14.5 4l5.5 5.5"},child:[]}]})(e)}function Wv(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3l18 18"},child:[]},{tag:"path",attr:{d:"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251"},child:[]},{tag:"path",attr:{d:"M9 15l-4.5 4.5"},child:[]},{tag:"path",attr:{d:"M14.5 4l5.5 5.5"},child:[]}]})(e)}function Gv(e){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7l16 0"},child:[]},{tag:"path",attr:{d:"M10 11l0 6"},child:[]},{tag:"path",attr:{d:"M14 11l0 6"},child:[]},{tag:"path",attr:{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"},child:[]},{tag:"path",attr:{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"},child:[]}]})(e)}const _l=5e3,Kv=je.memo(function({opened:t,onClose:n,onSave:r,initialValue:o}){const[s,a]=h.useState(o);h.useEffect(()=>{t&&a(o)},[t,o]);const i=()=>{s.trim()&&(r(s.trim()),n())};return l.jsxs(Je,{opened:t,onClose:n,title:"Rename Thread",size:"sm",centered:!0,children:[l.jsx(dn,{label:"Thread name",value:s,onChange:u=>a(u.currentTarget.value),onKeyDown:u=>u.key==="Enter"&&i(),autoFocus:!0,mb:"lg"}),l.jsxs(Ft,{justify:"flex-end",gap:"sm",children:[l.jsx(Ie,{variant:"default",onClick:n,children:"Cancel"}),l.jsx(Ie,{onClick:i,disabled:!s.trim(),children:"Save"})]})]})}),qv=je.memo(function({onPin:t,onRename:n,onDelete:r,pinned:o}){return l.jsxs("div",{className:"thread-actions",onClick:s=>s.stopPropagation(),children:[l.jsx("button",{className:"thread-action-btn",onClick:s=>{s.stopPropagation(),n()},"aria-label":"Rename thread",title:"Rename",children:l.jsx(Vv,{size:14})}),l.jsx("button",{className:"thread-action-btn thread-action-btn-danger",onClick:s=>{s.stopPropagation(),r()},"aria-label":"Delete thread",title:"Delete",children:l.jsx(Gv,{size:14})}),l.jsxs(st,{shadow:"md",width:144,position:"bottom-end",withArrow:!0,children:[l.jsx(st.Target,{children:l.jsx("button",{className:"thread-action-btn","aria-label":"More options",title:"More",children:l.jsx(Uv,{size:14})})}),l.jsx(st.Dropdown,{className:"thread-menu-dropdown",children:l.jsx(st.Item,{className:"thread-menu-item",leftSection:o?l.jsx(Wv,{size:16}):l.jsx(Hv,{size:16}),onClick:s=>{s.stopPropagation(),t()},children:o?"Unpin":"Pin"})})]})]})});function Yv({thread:e}){const t=X(y=>y.models),n=X(y=>y.ui.activeThread),r=X(y=>y.setActiveThread),o=X(y=>y.renameThread),s=X(y=>y.deleteThread),a=X(y=>y.togglePinThread),i=t.find(y=>y.id===e.modelId),[u,c]=h.useState(!1),[d,p]=h.useState(!1),f=h.useRef(null),m=h.useRef(null);h.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const g=h.useCallback(()=>{d||r(e.id)},[r,e.id,d]),b=h.useCallback(y=>{o(e.id,y)},[o,e.id]),v=h.useCallback(()=>{f.current&&(clearTimeout(f.current),f.current=null),m.current&&(ye.hide(m.current),m.current=null),p(!1)},[]),w=h.useCallback(()=>{p(!0),n===e.id&&r(null);const y=`delete-${e.id}-${Date.now()}`;m.current=y,ye.show({id:y,title:"Thread deleted",message:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsxs("span",{style:{flex:1},children:['"',e.title,'" will be permanently deleted']}),l.jsx(Ie,{size:"xs",variant:"light",onClick:()=>{v(),ye.show({message:"Deletion cancelled",color:"green",autoClose:2e3})},children:"Undo"})]}),color:"red",autoClose:_l,withCloseButton:!0,onClose:()=>{m.current===y&&(m.current=null)}}),f.current=setTimeout(()=>{s(e.id),f.current=null,m.current=null},_l)},[e.id,e.title,n,r,s,v]),S=h.useCallback(()=>{a(e.id)},[a,e.id]),x=h.useCallback(y=>{(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),g())},[g]);return d?l.jsxs("div",{className:"thread-item thread-item-pending-delete","aria-hidden":"true",children:[l.jsxs("div",{className:"thread-header",children:[l.jsx("div",{className:"thread-info",children:l.jsx("span",{className:"thread-title thread-title-deleted",children:e.title})}),l.jsx("div",{className:"thread-meta",children:l.jsx("button",{className:"undo-delete-btn",onClick:v,"aria-label":"Undo delete",children:"Undo"})})]}),l.jsx("div",{className:"thread-preview thread-preview-deleted",children:"Deleting in 5 seconds..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{role:"button",tabIndex:0,onClick:g,onKeyDown:x,className:`thread-item ${n===e.id?"active":""}`,"aria-label":`Chat thread: ${e.title}`,"aria-pressed":n===e.id,children:[l.jsxs("div",{className:"thread-content-wrapper",children:[l.jsxs("div",{className:"thread-header",children:[l.jsxs("div",{className:"thread-info",children:[l.jsx("span",{className:"model-indicator",style:{background:i==null?void 0:i.color},"aria-hidden":"true"}),l.jsx("span",{className:"thread-title",children:e.title})]}),l.jsx("div",{className:"thread-meta",children:l.jsx("span",{"aria-label":`Last updated ${Al(e.updatedAt)}`,children:Al(e.updatedAt)})})]}),l.jsx("div",{className:"thread-preview",children:e.preview||""})]}),l.jsx(qv,{onPin:S,onRename:()=>c(!0),onDelete:w,pinned:e.isPinned})]}),l.jsx(Kv,{opened:u,onClose:()=>c(!1),onSave:b,initialValue:e.title})]})}const Xv=je.memo(Yv);function Zv(){const e=X(x=>x.ui.sidebarOpen),t=X(x=>x.closeSidebar),n=X(x=>x.ui.searchQuery),r=X(x=>x.ui.selectedModel),o=wv(),[s,a]=h.useState("date"),[i,u]=h.useState(!1),[c,d]=h.useState(!1),[p,f]=h.useState(void 0),[m,g]=h.useState(!1),b=h.useCallback(x=>{g(!0),u(!1),f(x),d(!0)},[]),v=h.useCallback(()=>{d(!1),f(void 0),m&&(g(!1),u(!0))},[m]),w=h.useMemo(()=>{const x=n.trim().toLowerCase();return o.filter(y=>r==="all"?!0:y.modelId===r).filter(y=>x?y.title.toLowerCase().includes(x)||y.preview.toLowerCase().includes(x)||y.messages.some(k=>k.content.toLowerCase().includes(x)):!0).sort((y,k)=>y.isPinned!==k.isPinned?y.isPinned?-1:1:s==="date"?k.updatedAt-y.updatedAt:s==="name"?y.title.localeCompare(k.title):s==="model"?y.modelId.localeCompare(k.modelId):0)},[o,n,r,s]),S=h.useMemo(()=>{const x=new Map;for(const y of w){const k=Sv(y.updatedAt);x.has(k)||x.set(k,[]),x.get(k).push(y)}return Array.from(x.entries())},[w]);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`sidebar-overlay ${e?"visible":""}`,onClick:t,"aria-hidden":"true"}),l.jsxs("aside",{className:`sidebar ${e?"open":""}`,"aria-label":"Chat sidebar",role:"complementary",children:[l.jsxs("nav",{className:"sidebar-nav","aria-label":"Chat navigation",children:[l.jsx(Fv,{onSettingsClick:()=>u(!0)}),l.jsx(Bv,{sortBy:s,onSortChange:a,filteredCount:w.length}),l.jsx("div",{className:"thread-list",role:"list","aria-label":"Chat threads",children:S.map(([x,y])=>l.jsxs("div",{className:"thread-group",role:"group","aria-label":`${x} threads`,children:[l.jsx("div",{className:"thread-group-title",role:"heading","aria-level":2,children:x}),l.jsx("div",{className:"thread-items",role:"list",children:y.map(k=>l.jsx("div",{role:"listitem",children:l.jsx(Xv,{thread:k})},k.id))})]},x))})]}),l.jsx(Lv,{opened:i,onClose:()=>u(!1),onEditModel:b}),l.jsx(sd,{opened:c,onClose:v,modelId:p})]})]})}function _n({children:e,variant:t="default",width:n,height:r,borderRadius:o,className:s="",blurClassName:a="",color:i,customColor:u,...c}){const d=X(v=>v.settings.lowSpecBlur??8),p=t==="round",f=u||(i?lv(i):null),m=p?{borderRadius:o||99,width:n||50,height:n||50}:{borderRadius:o||8,width:n||100,height:r||50},g={width:typeof m.width=="number"?`${m.width}px`:m.width,height:typeof m.height=="number"?`${m.height}px`:m.height,borderRadius:`${m.borderRadius}px`,...f?{backgroundColor:`${f}1A`}:{},backdropFilter:`blur(${d}px)`,WebkitBackdropFilter:`blur(${d}px)`},b=`blur-button ${s}`;return l.jsx("button",{className:b,style:g,...c,children:l.jsx("span",{className:`blur-button-content ${a}`,children:e})})}function Qv(){const e=X(f=>f.models),t=X(f=>f.createThread),n=X(f=>f.updateThreadModel),r=X(Zn),o=X(As),[s,a]=h.useState(!1),[i,u]=h.useState(void 0),c=h.useCallback(f=>{r&&r.messages.length===0?n(r.id,f):t(f)},[r,t,n]),d=h.useCallback(()=>{u(void 0),a(!0)},[]),p=h.useCallback(f=>{u(f),a(!0)},[]);return l.jsxs("div",{className:"model-chips-wrapper",children:[l.jsxs("div",{className:"model-chips",role:"toolbar","aria-label":"Model selection",children:[e.map(f=>{const m=(o==null?void 0:o.id)===f.id;return l.jsx("div",{className:"model-chip-container",children:l.jsx(_n,{onClick:()=>c(f.id),width:"auto",height:32,borderRadius:20,title:f.name,customColor:f.color,className:m?"model-chip-active":"",onContextMenu:g=>{g.preventDefault(),p(f.id)},"aria-label":`Start new chat with ${f.name} model. Right-click to edit.`,"aria-pressed":m,children:l.jsx("div",{className:"model-chip-content",children:l.jsxs("div",{className:"model-chip-main",children:[l.jsx("span",{className:"model-indicator",style:{background:f.color},"aria-hidden":"true"}),f.name,m&&l.jsx("svg",{className:"active-check",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:l.jsx("path",{d:"M20 6L9 17l-5-5"})})]})})})},f.id)}),l.jsx("div",{className:"add-model-button",children:l.jsx(_n,{variant:"round",width:32,onClick:d,"aria-label":"Add new model",children:l.jsx("span",{"aria-hidden":"true",children:"+"})})})]}),l.jsx(sd,{opened:s,onClose:()=>a(!1),modelId:i})]})}function js(e){return e instanceof Error?e.message:typeof e=="string"?e:"An unexpected error occurred"}function Il(e){const t=js(e).toLowerCase(),n=t.includes("thinking")||t.includes("reasoning_effort")||t.includes("reasoning effort"),r=t.includes("unrecognized")||t.includes("unknown")||t.includes("unexpected")||t.includes("not permitted")||t.includes("invalid")||t.includes("additional properties")||t.includes("extra inputs");return n&&r}function Jv(e,t){if(!t||t.length===0)return e;const n=[];e&&n.push({type:"text",text:e});for(const r of t)n.push({type:"image_url",image_url:{url:r}});return n}async function ey(e){if(e.images&&e.images.length>0)return e.images;if(e.imageIds&&e.imageIds.length>0)try{return(await Qu(e.imageIds)).filter(Boolean)}catch(t){console.warn("Failed to resolve image IDs:",t);return}}async function Pl(e,t){const n=t.system?[{role:"system",content:t.system}]:[],r=await Promise.all(e.messages.filter(o=>o.role!=="assistant"||o.content).map(async o=>({role:o.role,content:Jv(o.content,await ey(o))})));return[...n,...r]}function ad(){const e=h.useRef(null),t=X(x=>x.isLoading),n=X(x=>x.isRegenerating),r=X(x=>x.setIsLoading),o=X(x=>x.setIsRegenerating),s=X(x=>x.getClient),a=X(x=>x.addUserMessage),i=X(x=>x.addAssistantMessage),u=X(x=>x.appendToLastMessage),c=X(x=>x.appendThinkingToLastMessage),d=X(x=>x.removeMessagesAfterIndex),p=X(x=>x.updateModel),f=X(x=>x.updateThreadTitle),m=h.useCallback(()=>{const x=X.getState();return x.ui.selectedLlmModel||x.settings.defaultModel},[]),g=h.useCallback((x,y,k,E,A)=>{const _=s(),C=m();e.current=_.chat({model:C,messages:k,temperature:y.temp,thinkingEnabled:E,thinkingEffort:y.thinkingEffort,onToken:B=>{u(x,B)},onThinking:B=>{c(x,B)},onDone:A.onDone,onError:A.onError})},[s,m,u,c]),b=h.useCallback(async(x,y)=>{try{const k=s(),E=m(),A=y.slice(0,Kb),_=`You are a helpful assistant. Create a concise, 3-${ts} word title for this conversation. No quotes, no punctuation at the end. Respond with title only. Conversation starts with: "${A}"`;let C="";await new Promise((I,T)=>{k.chat({model:E,temperature:qb,messages:[{role:"system",content:"You create short chat titles."},{role:"user",content:_}],onToken:L=>{C+=L},onDone:()=>I(),onError:L=>T(L)})}),C=(C||"").replace(/[\r\n]+/g," ").replace(/^['"""''\s]+|['"""''\s]+$/g,"").replace(/[.:!?]+$/g,"").replace(/\s+/g," ").trim();const B=C.split(" ").filter(Boolean);B.length>ts&&(C=B.slice(0,ts).join(" ")),C&&f(x,C)}catch(k){console.warn("Title generation failed:",k)}},[s,m,f]),v=h.useCallback(async(x,y)=>{const k=X.getState(),E=Zn(k),A=As(k),_=x.trim()||y&&y.length>0;if(!E||!A||!_)return;const C=E.id,B=x.trim(),I=E.messages.length;let T=!1,L;if(y&&y.length>0){const $=y.map(N=>({id:Lo(),dataUrl:N}));L=$.map(N=>N.id),await Zu($)||(console.warn("Failed to store images in IndexedDB"),L=void 0)}a(C,B,y,L),i(C),r(!0);const D=async $=>{const M=X.getState(),N=M.chats[C],R=N?M.models.find(F=>F.id===N.modelId):null;if(!N||!R){r(!1),e.current=null;return}const O=await Pl(N,R);g(C,R,O,$,{onDone:async()=>{r(!1),e.current=null;const z=X.getState().chats[C];if(z){const W=z.title.trim().toLowerCase()==="new chat",H=z.messages.some(Y=>Y.role==="user");if(W&&H){const Y=z.messages.find(J=>J.role==="user");if(Y){const J=Y.images&&Y.images.length>0||Y.imageIds&&Y.imageIds.length>0,U=Y.content||(J?"Image conversation":"");U&&await b(C,U)}}}},onError:F=>{if($&&!T&&Il(F)){T=!0,p(R.id,{thinkingEnabled:!1}),ye.show({title:"Thinking disabled",message:"This model/provider rejected the thinking parameter. I turned it off and retried.",color:"yellow"}),d(C,I),i(C),e.current=null,D(!1);return}r(!1),e.current=null,ye.show({title:"Message failed",message:js(F),color:"red"})}})};D(!!A.thinkingEnabled)},[a,i,b,r,p,d,g]),w=h.useCallback(()=>{var x;(x=e.current)==null||x.cancel(),e.current=null,r(!1),o(!1)},[r,o]),S=h.useCallback(async()=>{const x=X.getState(),y=Zn(x),k=As(x);if(!y||!k||n)return;const E=[...y.messages].map(C=>C.role).lastIndexOf("user");if(E===-1)return;o(!0);let A=!1;d(y.id,E),i(y.id);const _=async C=>{const B=X.getState(),I=B.chats[y.id],T=I?B.models.find(D=>D.id===I.modelId):null;if(!I||!T){o(!1),e.current=null;return}const L=await Pl(I,T);g(y.id,T,L,C,{onDone:()=>{o(!1),e.current=null},onError:D=>{if(C&&!A&&Il(D)){A=!0,p(T.id,{thinkingEnabled:!1}),ye.show({title:"Thinking disabled",message:"This model/provider rejected the thinking parameter. I turned it off and retried.",color:"yellow"}),d(y.id,E),i(y.id),e.current=null,_(!1);return}o(!1),e.current=null,ye.show({title:"Regeneration failed",message:js(D),color:"red"})}})};_(!!k.thinkingEnabled)},[d,i,n,o,p,g]);return{isLoading:t,isRegenerating:n,sendMessage:v,cancelStream:w,regenerateLastMessage:S}}/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:id,setPrototypeOf:Dl,isFrozen:ty,getPrototypeOf:ny,getOwnPropertyDescriptor:ry}=Object;let{freeze:it,seal:St,create:Ns}=Object,{apply:Ms,construct:_s}=typeof Reflect<"u"&&Reflect;it||(it=function(t){return t});St||(St=function(t){return t});Ms||(Ms=function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];return t.apply(n,o)});_s||(_s=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new t(...r)});const Or=lt(Array.prototype.forEach),oy=lt(Array.prototype.lastIndexOf),Ol=lt(Array.prototype.pop),lr=lt(Array.prototype.push),sy=lt(Array.prototype.splice),Hr=lt(String.prototype.toLowerCase),rs=lt(String.prototype.toString),os=lt(String.prototype.match),cr=lt(String.prototype.replace),ay=lt(String.prototype.indexOf),iy=lt(String.prototype.trim),Rt=lt(Object.prototype.hasOwnProperty),rt=lt(RegExp.prototype.test),ur=ly(TypeError);function lt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Ms(e,t,r)}}function ly(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _s(e,n)}}function me(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hr;Dl&&Dl(e,null);let r=t.length;for(;r--;){let o=t[r];if(typeof o=="string"){const s=n(o);s!==o&&(ty(t)||(t[r]=s),o=s)}e[o]=!0}return e}function cy(e){for(let t=0;t<e.length;t++)Rt(e,t)||(e[t]=null);return e}function Xt(e){const t=Ns(null);for(const[n,r]of id(e))Rt(e,n)&&(Array.isArray(r)?t[n]=cy(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Xt(r):t[n]=r);return t}function dr(e,t){for(;e!==null;){const r=ry(e,t);if(r){if(r.get)return lt(r.get);if(typeof r.value=="function")return lt(r.value)}e=ny(e)}function n(){return null}return n}const Ll=it(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ss=it(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),as=it(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uy=it(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),is=it(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dy=it(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$l=it(["#text"]),zl=it(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ls=it(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fl=it(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lr=it(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fy=St(/\{\{[\w\W]*|[\w\W]*\}\}/gm),hy=St(/<%[\w\W]*|[\w\W]*%>/gm),py=St(/\$\{[\w\W]*/gm),my=St(/^data-[\-\w.\u00B7-\uFFFF]+$/),gy=St(/^aria-[\-\w]+$/),ld=St(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),by=St(/^(?:\w+script|data):/i),vy=St(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cd=St(/^html$/i),yy=St(/^[a-z][.\w]*(-[.\w]+)+$/i);var Bl=Object.freeze({__proto__:null,ARIA_ATTR:gy,ATTR_WHITESPACE:vy,CUSTOM_ELEMENT:yy,DATA_ATTR:my,DOCTYPE_NAME:cd,ERB_EXPR:hy,IS_ALLOWED_URI:ld,IS_SCRIPT_OR_DATA:by,MUSTACHE_EXPR:fy,TMPLIT_EXPR:py});const fr={element:1,text:3,progressingInstruction:7,comment:8,document:9},xy=function(){return typeof window>"u"?null:window},wy=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const o="data-tt-policy-suffix";n&&n.hasAttribute(o)&&(r=n.getAttribute(o));const s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Ul=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ud(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xy();const t=le=>ud(le);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==fr.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,o=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:i,Element:u,NodeFilter:c,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:m}=e,g=u.prototype,b=dr(g,"cloneNode"),v=dr(g,"remove"),w=dr(g,"nextSibling"),S=dr(g,"childNodes"),x=dr(g,"parentNode");if(typeof a=="function"){const le=n.createElement("template");le.content&&le.content.ownerDocument&&(n=le.content.ownerDocument)}let y,k="";const{implementation:E,createNodeIterator:A,createDocumentFragment:_,getElementsByTagName:C}=n,{importNode:B}=r;let I=Ul();t.isSupported=typeof id=="function"&&typeof x=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:T,ERB_EXPR:L,TMPLIT_EXPR:D,DATA_ATTR:$,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:N,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:O}=Bl;let{IS_ALLOWED_URI:F}=Bl,z=null;const W=me({},[...Ll,...ss,...as,...is,...$l]);let H=null;const Y=me({},[...zl,...ls,...Fl,...Lr]);let J=Object.seal(Ns(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,ee=null;const se=Object.seal(Ns(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ue=!0,ge=!0,pe=!1,Ce=!0,he=!1,we=!0,xe=!1,Ne=!1,P=!1,V=!1,G=!1,ie=!1,ce=!0,re=!1;const te="user-content-";let De=!0,Z=!1,Q={},de=null;const Pe=me({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Me=null;const tt=me({},["audio","video","img","source","image","track"]);let Re=null;const Ve=me({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ot="http://www.w3.org/1998/Math/MathML",Lt="http://www.w3.org/2000/svg",ct="http://www.w3.org/1999/xhtml";let bt=ct,$e=!1,Ye=null;const He=me({},[Ot,Lt,ct],rs);let Nr=me({},["mi","mo","mn","ms","mtext"]),Mr=me({},["annotation-xml"]);const kd=me({},["title","style","font","a","script"]);let or=null;const Cd=["application/xhtml+xml","text/html"],Td="text/html";let We=null,Ln=null;const Ed=n.createElement("form"),li=function(j){return j instanceof RegExp||j instanceof Function},Fo=function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ln&&Ln===j)){if((!j||typeof j!="object")&&(j={}),j=Xt(j),or=Cd.indexOf(j.PARSER_MEDIA_TYPE)===-1?Td:j.PARSER_MEDIA_TYPE,We=or==="application/xhtml+xml"?rs:Hr,z=Rt(j,"ALLOWED_TAGS")?me({},j.ALLOWED_TAGS,We):W,H=Rt(j,"ALLOWED_ATTR")?me({},j.ALLOWED_ATTR,We):Y,Ye=Rt(j,"ALLOWED_NAMESPACES")?me({},j.ALLOWED_NAMESPACES,rs):He,Re=Rt(j,"ADD_URI_SAFE_ATTR")?me(Xt(Ve),j.ADD_URI_SAFE_ATTR,We):Ve,Me=Rt(j,"ADD_DATA_URI_TAGS")?me(Xt(tt),j.ADD_DATA_URI_TAGS,We):tt,de=Rt(j,"FORBID_CONTENTS")?me({},j.FORBID_CONTENTS,We):Pe,U=Rt(j,"FORBID_TAGS")?me({},j.FORBID_TAGS,We):Xt({}),ee=Rt(j,"FORBID_ATTR")?me({},j.FORBID_ATTR,We):Xt({}),Q=Rt(j,"USE_PROFILES")?j.USE_PROFILES:!1,ue=j.ALLOW_ARIA_ATTR!==!1,ge=j.ALLOW_DATA_ATTR!==!1,pe=j.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=j.ALLOW_SELF_CLOSE_IN_ATTR!==!1,he=j.SAFE_FOR_TEMPLATES||!1,we=j.SAFE_FOR_XML!==!1,xe=j.WHOLE_DOCUMENT||!1,V=j.RETURN_DOM||!1,G=j.RETURN_DOM_FRAGMENT||!1,ie=j.RETURN_TRUSTED_TYPE||!1,P=j.FORCE_BODY||!1,ce=j.SANITIZE_DOM!==!1,re=j.SANITIZE_NAMED_PROPS||!1,De=j.KEEP_CONTENT!==!1,Z=j.IN_PLACE||!1,F=j.ALLOWED_URI_REGEXP||ld,bt=j.NAMESPACE||ct,Nr=j.MATHML_TEXT_INTEGRATION_POINTS||Nr,Mr=j.HTML_INTEGRATION_POINTS||Mr,J=j.CUSTOM_ELEMENT_HANDLING||{},j.CUSTOM_ELEMENT_HANDLING&&li(j.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(J.tagNameCheck=j.CUSTOM_ELEMENT_HANDLING.tagNameCheck),j.CUSTOM_ELEMENT_HANDLING&&li(j.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(J.attributeNameCheck=j.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),j.CUSTOM_ELEMENT_HANDLING&&typeof j.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(J.allowCustomizedBuiltInElements=j.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),he&&(ge=!1),G&&(V=!0),Q&&(z=me({},$l),H=[],Q.html===!0&&(me(z,Ll),me(H,zl)),Q.svg===!0&&(me(z,ss),me(H,ls),me(H,Lr)),Q.svgFilters===!0&&(me(z,as),me(H,ls),me(H,Lr)),Q.mathMl===!0&&(me(z,is),me(H,Fl),me(H,Lr))),j.ADD_TAGS&&(typeof j.ADD_TAGS=="function"?se.tagCheck=j.ADD_TAGS:(z===W&&(z=Xt(z)),me(z,j.ADD_TAGS,We))),j.ADD_ATTR&&(typeof j.ADD_ATTR=="function"?se.attributeCheck=j.ADD_ATTR:(H===Y&&(H=Xt(H)),me(H,j.ADD_ATTR,We))),j.ADD_URI_SAFE_ATTR&&me(Re,j.ADD_URI_SAFE_ATTR,We),j.FORBID_CONTENTS&&(de===Pe&&(de=Xt(de)),me(de,j.FORBID_CONTENTS,We)),De&&(z["#text"]=!0),xe&&me(z,["html","head","body"]),z.table&&(me(z,["tbody"]),delete U.tbody),j.TRUSTED_TYPES_POLICY){if(typeof j.TRUSTED_TYPES_POLICY.createHTML!="function")throw ur('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof j.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ur('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=j.TRUSTED_TYPES_POLICY,k=y.createHTML("")}else y===void 0&&(y=wy(m,o)),y!==null&&typeof k=="string"&&(k=y.createHTML(""));it&&it(j),Ln=j}},ci=me({},[...ss,...as,...uy]),ui=me({},[...is,...dy]),Rd=function(j){let K=x(j);(!K||!K.tagName)&&(K={namespaceURI:bt,tagName:"template"});const oe=Hr(j.tagName),ze=Hr(K.tagName);return Ye[j.namespaceURI]?j.namespaceURI===Lt?K.namespaceURI===ct?oe==="svg":K.namespaceURI===Ot?oe==="svg"&&(ze==="annotation-xml"||Nr[ze]):!!ci[oe]:j.namespaceURI===Ot?K.namespaceURI===ct?oe==="math":K.namespaceURI===Lt?oe==="math"&&Mr[ze]:!!ui[oe]:j.namespaceURI===ct?K.namespaceURI===Lt&&!Mr[ze]||K.namespaceURI===Ot&&!Nr[ze]?!1:!ui[oe]&&(kd[oe]||!ci[oe]):!!(or==="application/xhtml+xml"&&Ye[j.namespaceURI]):!1},$t=function(j){lr(t.removed,{element:j});try{x(j).removeChild(j)}catch{v(j)}},Sn=function(j,K){try{lr(t.removed,{attribute:K.getAttributeNode(j),from:K})}catch{lr(t.removed,{attribute:null,from:K})}if(K.removeAttribute(j),j==="is")if(V||G)try{$t(K)}catch{}else try{K.setAttribute(j,"")}catch{}},di=function(j){let K=null,oe=null;if(P)j="<remove></remove>"+j;else{const Ue=os(j,/^[\r\n\t ]+/);oe=Ue&&Ue[0]}or==="application/xhtml+xml"&&bt===ct&&(j='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+j+"</body></html>");const ze=y?y.createHTML(j):j;if(bt===ct)try{K=new f().parseFromString(ze,or)}catch{}if(!K||!K.documentElement){K=E.createDocument(bt,"template",null);try{K.documentElement.innerHTML=$e?k:ze}catch{}}const Xe=K.body||K.documentElement;return j&&oe&&Xe.insertBefore(n.createTextNode(oe),Xe.childNodes[0]||null),bt===ct?C.call(K,xe?"html":"body")[0]:xe?K.documentElement:Xe},fi=function(j){return A.call(j.ownerDocument||j,j,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Bo=function(j){return j instanceof p&&(typeof j.nodeName!="string"||typeof j.textContent!="string"||typeof j.removeChild!="function"||!(j.attributes instanceof d)||typeof j.removeAttribute!="function"||typeof j.setAttribute!="function"||typeof j.namespaceURI!="string"||typeof j.insertBefore!="function"||typeof j.hasChildNodes!="function")},hi=function(j){return typeof i=="function"&&j instanceof i};function Kt(le,j,K){Or(le,oe=>{oe.call(t,j,K,Ln)})}const pi=function(j){let K=null;if(Kt(I.beforeSanitizeElements,j,null),Bo(j))return $t(j),!0;const oe=We(j.nodeName);if(Kt(I.uponSanitizeElement,j,{tagName:oe,allowedTags:z}),we&&j.hasChildNodes()&&!hi(j.firstElementChild)&&rt(/<[/\w!]/g,j.innerHTML)&&rt(/<[/\w!]/g,j.textContent)||j.nodeType===fr.progressingInstruction||we&&j.nodeType===fr.comment&&rt(/<[/\w]/g,j.data))return $t(j),!0;if(!(se.tagCheck instanceof Function&&se.tagCheck(oe))&&(!z[oe]||U[oe])){if(!U[oe]&&gi(oe)&&(J.tagNameCheck instanceof RegExp&&rt(J.tagNameCheck,oe)||J.tagNameCheck instanceof Function&&J.tagNameCheck(oe)))return!1;if(De&&!de[oe]){const ze=x(j)||j.parentNode,Xe=S(j)||j.childNodes;if(Xe&&ze){const Ue=Xe.length;for(let ut=Ue-1;ut>=0;--ut){const qt=b(Xe[ut],!0);qt.__removalCount=(j.__removalCount||0)+1,ze.insertBefore(qt,w(j))}}}return $t(j),!0}return j instanceof u&&!Rd(j)||(oe==="noscript"||oe==="noembed"||oe==="noframes")&&rt(/<\/no(script|embed|frames)/i,j.innerHTML)?($t(j),!0):(he&&j.nodeType===fr.text&&(K=j.textContent,Or([T,L,D],ze=>{K=cr(K,ze," ")}),j.textContent!==K&&(lr(t.removed,{element:j.cloneNode()}),j.textContent=K)),Kt(I.afterSanitizeElements,j,null),!1)},mi=function(j,K,oe){if(ce&&(K==="id"||K==="name")&&(oe in n||oe in Ed))return!1;if(!(ge&&!ee[K]&&rt($,K))){if(!(ue&&rt(M,K))){if(!(se.attributeCheck instanceof Function&&se.attributeCheck(K,j))){if(!H[K]||ee[K]){if(!(gi(j)&&(J.tagNameCheck instanceof RegExp&&rt(J.tagNameCheck,j)||J.tagNameCheck instanceof Function&&J.tagNameCheck(j))&&(J.attributeNameCheck instanceof RegExp&&rt(J.attributeNameCheck,K)||J.attributeNameCheck instanceof Function&&J.attributeNameCheck(K,j))||K==="is"&&J.allowCustomizedBuiltInElements&&(J.tagNameCheck instanceof RegExp&&rt(J.tagNameCheck,oe)||J.tagNameCheck instanceof Function&&J.tagNameCheck(oe))))return!1}else if(!Re[K]){if(!rt(F,cr(oe,R,""))){if(!((K==="src"||K==="xlink:href"||K==="href")&&j!=="script"&&ay(oe,"data:")===0&&Me[j])){if(!(pe&&!rt(N,cr(oe,R,"")))){if(oe)return!1}}}}}}}return!0},gi=function(j){return j!=="annotation-xml"&&os(j,O)},bi=function(j){Kt(I.beforeSanitizeAttributes,j,null);const{attributes:K}=j;if(!K||Bo(j))return;const oe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let ze=K.length;for(;ze--;){const Xe=K[ze],{name:Ue,namespaceURI:ut,value:qt}=Xe,$n=We(Ue),Uo=qt;let Ke=Ue==="value"?Uo:iy(Uo);if(oe.attrName=$n,oe.attrValue=Ke,oe.keepAttr=!0,oe.forceKeepAttr=void 0,Kt(I.uponSanitizeAttribute,j,oe),Ke=oe.attrValue,re&&($n==="id"||$n==="name")&&(Sn(Ue,j),Ke=te+Ke),we&&rt(/((--!?|])>)|<\/(style|title|textarea)/i,Ke)){Sn(Ue,j);continue}if($n==="attributename"&&os(Ke,"href")){Sn(Ue,j);continue}if(oe.forceKeepAttr)continue;if(!oe.keepAttr){Sn(Ue,j);continue}if(!Ce&&rt(/\/>/i,Ke)){Sn(Ue,j);continue}he&&Or([T,L,D],yi=>{Ke=cr(Ke,yi," ")});const vi=We(j.nodeName);if(!mi(vi,$n,Ke)){Sn(Ue,j);continue}if(y&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!ut)switch(m.getAttributeType(vi,$n)){case"TrustedHTML":{Ke=y.createHTML(Ke);break}case"TrustedScriptURL":{Ke=y.createScriptURL(Ke);break}}if(Ke!==Uo)try{ut?j.setAttributeNS(ut,Ue,Ke):j.setAttribute(Ue,Ke),Bo(j)?$t(j):Ol(t.removed)}catch{Sn(Ue,j)}}Kt(I.afterSanitizeAttributes,j,null)},Ad=function le(j){let K=null;const oe=fi(j);for(Kt(I.beforeSanitizeShadowDOM,j,null);K=oe.nextNode();)Kt(I.uponSanitizeShadowNode,K,null),pi(K),bi(K),K.content instanceof s&&le(K.content);Kt(I.afterSanitizeShadowDOM,j,null)};return t.sanitize=function(le){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=null,oe=null,ze=null,Xe=null;if($e=!le,$e&&(le="<!-->"),typeof le!="string"&&!hi(le))if(typeof le.toString=="function"){if(le=le.toString(),typeof le!="string")throw ur("dirty is not a string, aborting")}else throw ur("toString is not a function");if(!t.isSupported)return le;if(Ne||Fo(j),t.removed=[],typeof le=="string"&&(Z=!1),Z){if(le.nodeName){const qt=We(le.nodeName);if(!z[qt]||U[qt])throw ur("root node is forbidden and cannot be sanitized in-place")}}else if(le instanceof i)K=di("<!---->"),oe=K.ownerDocument.importNode(le,!0),oe.nodeType===fr.element&&oe.nodeName==="BODY"||oe.nodeName==="HTML"?K=oe:K.appendChild(oe);else{if(!V&&!he&&!xe&&le.indexOf("<")===-1)return y&&ie?y.createHTML(le):le;if(K=di(le),!K)return V?null:ie?k:""}K&&P&&$t(K.firstChild);const Ue=fi(Z?le:K);for(;ze=Ue.nextNode();)pi(ze),bi(ze),ze.content instanceof s&&Ad(ze.content);if(Z)return le;if(V){if(G)for(Xe=_.call(K.ownerDocument);K.firstChild;)Xe.appendChild(K.firstChild);else Xe=K;return(H.shadowroot||H.shadowrootmode)&&(Xe=B.call(r,Xe,!0)),Xe}let ut=xe?K.outerHTML:K.innerHTML;return xe&&z["!doctype"]&&K.ownerDocument&&K.ownerDocument.doctype&&K.ownerDocument.doctype.name&&rt(cd,K.ownerDocument.doctype.name)&&(ut="<!DOCTYPE "+K.ownerDocument.doctype.name+`>
`+ut),he&&Or([T,L,D],qt=>{ut=cr(ut,qt," ")}),y&&ie?y.createHTML(ut):ut},t.setConfig=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fo(le),Ne=!0},t.clearConfig=function(){Ln=null,Ne=!1},t.isValidAttribute=function(le,j,K){Ln||Fo({});const oe=We(le),ze=We(j);return mi(oe,ze,K)},t.addHook=function(le,j){typeof j=="function"&&lr(I[le],j)},t.removeHook=function(le,j){if(j!==void 0){const K=oy(I[le],j);return K===-1?void 0:sy(I[le],K,1)[0]}return Ol(I[le])},t.removeHooks=function(le){I[le]=[]},t.removeAllHooks=function(){I=Ul()},t}var Sy=ud();function Qa(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var On=Qa();function dd(e){On=e}var br={exec:()=>null};function Ae(e,t=""){let n=typeof e=="string"?e:e.source,r={replace:(o,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(at.caret,"$1"),n=n.replace(o,a),r},getRegex:()=>new RegExp(n,t)};return r}var at={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},ky=/^(?:[ \t]*(?:\n|$))+/,Cy=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ty=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,jr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ey=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ja=/(?:[*+-]|\d{1,9}[.)])/,fd=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,hd=Ae(fd).replace(/bull/g,Ja).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ry=Ae(fd).replace(/bull/g,Ja).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ei=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ay=/^[^\n]+/,ti=/(?!\s*\])(?:\\.|[^\[\]\\])+/,jy=Ae(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ti).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ny=Ae(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ja).getRegex(),$o="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ni=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,My=Ae("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ni).replace("tag",$o).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),pd=Ae(ei).replace("hr",jr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$o).getRegex(),_y=Ae(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",pd).getRegex(),ri={blockquote:_y,code:Cy,def:jy,fences:Ty,heading:Ey,hr:jr,html:My,lheading:hd,list:Ny,newline:ky,paragraph:pd,table:br,text:Ay},Vl=Ae("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",jr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$o).getRegex(),Iy={...ri,lheading:Ry,table:Vl,paragraph:Ae(ei).replace("hr",jr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Vl).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$o).getRegex()},Py={...ri,html:Ae(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ni).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:br,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ae(ei).replace("hr",jr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",hd).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Dy=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Oy=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,md=/^( {2,}|\\)\n(?!\s*$)/,Ly=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,zo=/[\p{P}\p{S}]/u,oi=/[\s\p{P}\p{S}]/u,gd=/[^\s\p{P}\p{S}]/u,$y=Ae(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,oi).getRegex(),bd=/(?!~)[\p{P}\p{S}]/u,zy=/(?!~)[\s\p{P}\p{S}]/u,Fy=/(?:[^\s\p{P}\p{S}]|~)/u,By=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,vd=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Uy=Ae(vd,"u").replace(/punct/g,zo).getRegex(),Vy=Ae(vd,"u").replace(/punct/g,bd).getRegex(),yd="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Hy=Ae(yd,"gu").replace(/notPunctSpace/g,gd).replace(/punctSpace/g,oi).replace(/punct/g,zo).getRegex(),Wy=Ae(yd,"gu").replace(/notPunctSpace/g,Fy).replace(/punctSpace/g,zy).replace(/punct/g,bd).getRegex(),Gy=Ae("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,gd).replace(/punctSpace/g,oi).replace(/punct/g,zo).getRegex(),Ky=Ae(/\\(punct)/,"gu").replace(/punct/g,zo).getRegex(),qy=Ae(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Yy=Ae(ni).replace("(?:-->|$)","-->").getRegex(),Xy=Ae("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Yy).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),so=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Zy=Ae(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",so).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),xd=Ae(/^!?\[(label)\]\[(ref)\]/).replace("label",so).replace("ref",ti).getRegex(),wd=Ae(/^!?\[(ref)\](?:\[\])?/).replace("ref",ti).getRegex(),Qy=Ae("reflink|nolink(?!\\()","g").replace("reflink",xd).replace("nolink",wd).getRegex(),si={_backpedal:br,anyPunctuation:Ky,autolink:qy,blockSkip:By,br:md,code:Oy,del:br,emStrongLDelim:Uy,emStrongRDelimAst:Hy,emStrongRDelimUnd:Gy,escape:Dy,link:Zy,nolink:wd,punctuation:$y,reflink:xd,reflinkSearch:Qy,tag:Xy,text:Ly,url:br},Jy={...si,link:Ae(/^!?\[(label)\]\((.*?)\)/).replace("label",so).getRegex(),reflink:Ae(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",so).getRegex()},Is={...si,emStrongRDelimAst:Wy,emStrongLDelim:Vy,url:Ae(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ex={...Is,br:Ae(md).replace("{2,}","*").getRegex(),text:Ae(Is.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},$r={normal:ri,gfm:Iy,pedantic:Py},hr={normal:si,gfm:Is,breaks:ex,pedantic:Jy},tx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hl=e=>tx[e];function zt(e,t){if(t){if(at.escapeTest.test(e))return e.replace(at.escapeReplace,Hl)}else if(at.escapeTestNoEncode.test(e))return e.replace(at.escapeReplaceNoEncode,Hl);return e}function Wl(e){try{e=encodeURI(e).replace(at.percentDecode,"%")}catch{return null}return e}function Gl(e,t){var s;let n=e.replace(at.findPipe,(a,i,u)=>{let c=!1,d=i;for(;--d>=0&&u[d]==="\\";)c=!c;return c?"|":" |"}),r=n.split(at.splitPipe),o=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(at.slashPipe,"|");return r}function pr(e,t,n){let r=e.length;if(r===0)return"";let o=0;for(;o<r&&e.charAt(r-o-1)===t;)o++;return e.slice(0,r-o)}function nx(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function Kl(e,t,n,r,o){let s=t.href,a=t.title||null,i=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,u}function rx(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(r===null)return t;let o=r[1];return t.split(`
`).map(s=>{let a=s.match(n.other.beginningSpace);if(a===null)return s;let[i]=a;return i.length>=o.length?s.slice(o.length):s}).join(`
`)}var ao=class{constructor(e){ve(this,"options");ve(this,"rules");ve(this,"lexer");this.options=e||On}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:pr(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=rx(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=pr(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:pr(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=pr(t[0],`
`).split(`
`),r="",o="",s=[];for(;n.length>0;){let a=!1,i=[],u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))i.push(n[u]),a=!0;else if(!a)i.push(n[u]);else break;n=n.slice(u);let c=i.join(`
`),d=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,o=o?`${o}
${d}`:d;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=p,n.length===0)break;let f=s.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){let m=f,g=m.raw+`
`+n.join(`
`),b=this.blockquote(g);s[s.length-1]=b,r=r.substring(0,r.length-m.raw.length)+b.raw,o=o.substring(0,o.length-m.text.length)+b.text;break}else if((f==null?void 0:f.type)==="list"){let m=f,g=m.raw+`
`+n.join(`
`),b=this.list(g);s[s.length-1]=b,r=r.substring(0,r.length-f.raw.length)+b.raw,o=o.substring(0,o.length-m.raw.length)+b.raw,n=g.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let s=this.rules.other.listItemRegex(n),a=!1;for(;e;){let u=!1,c="",d="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let p=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),f=e.split(`
`,1)[0],m=!p.trim(),g=0;if(this.options.pedantic?(g=2,d=p.trimStart()):m?g=t[1].length+1:(g=t[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,d=p.slice(g),g+=t[1].length),m&&this.rules.other.blankLine.test(f)&&(c+=f+`
`,e=e.substring(f.length+1),u=!0),!u){let w=this.rules.other.nextBulletRegex(g),S=this.rules.other.hrRegex(g),x=this.rules.other.fencesBeginRegex(g),y=this.rules.other.headingBeginRegex(g),k=this.rules.other.htmlBeginRegex(g);for(;e;){let E=e.split(`
`,1)[0],A;if(f=E,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),A=f):A=f.replace(this.rules.other.tabCharGlobal,"    "),x.test(f)||y.test(f)||k.test(f)||w.test(f)||S.test(f))break;if(A.search(this.rules.other.nonSpaceChar)>=g||!f.trim())d+=`
`+A.slice(g);else{if(m||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||x.test(p)||y.test(p)||S.test(p))break;d+=`
`+f}!m&&!f.trim()&&(m=!0),c+=E+`
`,e=e.substring(E.length+1),p=A.slice(g)}}o.loose||(a?o.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let b=null,v;this.options.gfm&&(b=this.rules.other.listIsTask.exec(d),b&&(v=b[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:c,task:!!b,checked:v,loose:!1,text:d,tokens:[]}),o.raw+=c}let i=o.items.at(-1);if(i)i.raw=i.raw.trimEnd(),i.text=i.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let u=0;u<o.items.length;u++)if(this.lexer.state.top=!1,o.items[u].tokens=this.lexer.blockTokens(o.items[u].text,[]),!o.loose){let c=o.items[u].tokens.filter(p=>p.type==="space"),d=c.length>0&&c.some(p=>this.rules.other.anyLine.test(p.raw));o.loose=d}if(o.loose)for(let u=0;u<o.items.length;u++)o.items[u].loose=!0;return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}}table(e){var a;let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=Gl(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(a=t[3])!=null&&a.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let i of r)this.rules.other.tableAlignRight.test(i)?s.align.push("right"):this.rules.other.tableAlignCenter.test(i)?s.align.push("center"):this.rules.other.tableAlignLeft.test(i)?s.align.push("left"):s.align.push(null);for(let i=0;i<n.length;i++)s.header.push({text:n[i],tokens:this.lexer.inline(n[i]),header:!0,align:s.align[i]});for(let i of o)s.rows.push(Gl(i,s.header.length).map((u,c)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:s.align[c]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=pr(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=nx(t[2],"()");if(s===-2)return;if(s>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Kl(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[r.toLowerCase()];if(!o){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Kl(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let o=[...r[0]].length-1,s,a,i=o,u=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);(r=c.exec(t))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(a=[...s].length,r[3]||r[4]){i+=a;continue}else if((r[5]||r[6])&&o%3&&!((o+a)%3)){u+=a;continue}if(i-=a,i>0)continue;a=Math.min(a,a+i+u);let d=[...r[0]][0].length,p=e.slice(0,o+r.index+d+a);if(Math.min(o,a)%2){let m=p.slice(1,-1);return{type:"em",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}let f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let r,o;if(t[2]==="@")r=t[0],o="mailto:"+r;else{let s;do s=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(s!==t[0]);r=t[0],t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},Qt=class Ps{constructor(t){ve(this,"tokens");ve(this,"options");ve(this,"state");ve(this,"tokenizer");ve(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||On,this.options.tokenizer=this.options.tokenizer||new ao,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:at,block:$r.normal,inline:hr.normal};this.options.pedantic?(n.block=$r.pedantic,n.inline=hr.pedantic):this.options.gfm&&(n.block=$r.gfm,this.options.breaks?n.inline=hr.breaks:n.inline=hr.gfm),this.tokenizer.rules=n}static get rules(){return{block:$r,inline:hr}}static lex(t,n){return new Ps(n).lex(t)}static lexInline(t,n){return new Ps(n).inlineTokens(t)}lex(t){t=t.replace(at.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){var o,s,a;for(this.options.pedantic&&(t=t.replace(at.tabCharGlobal,"    ").replace(at.spaceLine,""));t;){let i;if((s=(o=this.options.extensions)==null?void 0:o.block)!=null&&s.some(c=>(i=c.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let c=n.at(-1);i.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+i.raw,c.text+=`
`+i.text,this.inlineQueue.at(-1).src=c.text):n.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+i.raw,c.text+=`
`+i.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},n.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),n.push(i);continue}let u=t;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0,d=t.slice(1),p;this.options.extensions.startBlock.forEach(f=>{p=f.call({lexer:this},d),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(u=t.substring(0,c+1))}if(this.state.top&&(i=this.tokenizer.paragraph(u))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+i.raw,c.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(i),r=u.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+i.raw,c.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(i);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var i,u,c;let r=t,o=null;if(this.tokens.links){let d=Object.keys(this.tokens.links);if(d.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)d.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(o=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,a="";for(;t;){s||(a=""),s=!1;let d;if((u=(i=this.options.extensions)==null?void 0:i.inline)!=null&&u.some(f=>(d=f.call({lexer:this},t,n))?(t=t.substring(d.raw.length),n.push(d),!0):!1))continue;if(d=this.tokenizer.escape(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.tag(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.link(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(d.raw.length);let f=n.at(-1);d.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=d.raw,f.text+=d.text):n.push(d);continue}if(d=this.tokenizer.emStrong(t,r,a)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.codespan(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.br(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.del(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.autolink(t)){t=t.substring(d.raw.length),n.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(t))){t=t.substring(d.raw.length),n.push(d);continue}let p=t;if((c=this.options.extensions)!=null&&c.startInline){let f=1/0,m=t.slice(1),g;this.options.extensions.startInline.forEach(b=>{g=b.call({lexer:this},m),typeof g=="number"&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(p=t.substring(0,f+1))}if(d=this.tokenizer.inlineText(p)){t=t.substring(d.raw.length),d.raw.slice(-1)!=="_"&&(a=d.raw.slice(-1)),s=!0;let f=n.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=d.raw,f.text+=d.text):n.push(d);continue}if(t){let f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}},io=class{constructor(e){ve(this,"options");ve(this,"parser");this.options=e||On}space(e){return""}code({text:e,lang:t,escaped:n}){var s;let r=(s=(t||"").match(at.notSpaceStart))==null?void 0:s[0],o=e.replace(at.endingNewline,"")+`
`;return r?'<pre><code class="language-'+zt(r)+'">'+(n?o:zt(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:zt(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,r="";for(let a=0;a<e.items.length;a++){let i=e.items[a];r+=this.listitem(i)}let o=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+o+s+`>
`+r+"</"+o+`>
`}listitem(e){var n;let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+zt(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let r="";for(let o=0;o<e.rows.length;o++){let s=e.rows[o];n="";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${zt(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),o=Wl(e);if(o===null)return r;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+zt(t)+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let o=Wl(e);if(o===null)return zt(n);e=o;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${zt(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:zt(e.text)}},ai=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Jt=class Ds{constructor(t){ve(this,"options");ve(this,"renderer");ve(this,"textRenderer");this.options=t||On,this.options.renderer=this.options.renderer||new io,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ai}static parse(t,n){return new Ds(n).parse(t)}static parseInline(t,n){return new Ds(n).parseInline(t)}parse(t,n=!0){var o,s;let r="";for(let a=0;a<t.length;a++){let i=t[a];if((s=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&s[i.type]){let c=i,d=this.options.extensions.renderers[c.type].call({parser:this},c);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=d||"";continue}}let u=i;switch(u.type){case"space":{r+=this.renderer.space(u);continue}case"hr":{r+=this.renderer.hr(u);continue}case"heading":{r+=this.renderer.heading(u);continue}case"code":{r+=this.renderer.code(u);continue}case"table":{r+=this.renderer.table(u);continue}case"blockquote":{r+=this.renderer.blockquote(u);continue}case"list":{r+=this.renderer.list(u);continue}case"html":{r+=this.renderer.html(u);continue}case"def":{r+=this.renderer.def(u);continue}case"paragraph":{r+=this.renderer.paragraph(u);continue}case"text":{let c=u,d=this.renderer.text(c);for(;a+1<t.length&&t[a+1].type==="text";)c=t[++a],d+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):r+=d;continue}default:{let c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(t,n=this.renderer){var o,s;let r="";for(let a=0;a<t.length;a++){let i=t[a];if((s=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&s[i.type]){let c=this.options.extensions.renderers[i.type].call({parser:this},i);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=c||"";continue}}let u=i;switch(u.type){case"escape":{r+=n.text(u);break}case"html":{r+=n.html(u);break}case"link":{r+=n.link(u);break}case"image":{r+=n.image(u);break}case"strong":{r+=n.strong(u);break}case"em":{r+=n.em(u);break}case"codespan":{r+=n.codespan(u);break}case"br":{r+=n.br(u);break}case"del":{r+=n.del(u);break}case"text":{r+=n.text(u);break}default:{let c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},us,Wr=(us=class{constructor(e){ve(this,"options");ve(this,"block");this.options=e||On}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Qt.lex:Qt.lexInline}provideParser(){return this.block?Jt.parse:Jt.parseInline}},ve(us,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),us),ox=class{constructor(...e){ve(this,"defaults",Qa());ve(this,"options",this.setOptions);ve(this,"parse",this.parseMarkdown(!0));ve(this,"parseInline",this.parseMarkdown(!1));ve(this,"Parser",Jt);ve(this,"Renderer",io);ve(this,"TextRenderer",ai);ve(this,"Lexer",Qt);ve(this,"Tokenizer",ao);ve(this,"Hooks",Wr);this.use(...e)}walkTokens(e,t){var r,o;let n=[];for(let s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{let a=s;for(let i of a.header)n=n.concat(this.walkTokens(i.tokens,t));for(let i of a.rows)for(let u of i)n=n.concat(this.walkTokens(u.tokens,t));break}case"list":{let a=s;n=n.concat(this.walkTokens(a.items,t));break}default:{let a=s;(o=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&o[a.type]?this.defaults.extensions.childTokens[a.type].forEach(i=>{let u=a[i].flat(1/0);n=n.concat(this.walkTokens(u,t))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let s=t.renderers[o.name];s?t.renderers[o.name]=function(...a){let i=o.renderer.apply(this,a);return i===!1&&(i=s.apply(this,a)),i}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){let o=this.defaults.renderer||new io(this.defaults);for(let s in n.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,i=n.renderer[a],u=o[a];o[a]=(...c)=>{let d=i.apply(o,c);return d===!1&&(d=u.apply(o,c)),d||""}}r.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new ao(this.defaults);for(let s in n.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,i=n.tokenizer[a],u=o[a];o[a]=(...c)=>{let d=i.apply(o,c);return d===!1&&(d=u.apply(o,c)),d}}r.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new Wr;for(let s in n.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,i=n.hooks[a],u=o[a];Wr.passThroughHooks.has(s)?o[a]=c=>{if(this.defaults.async)return Promise.resolve(i.call(o,c)).then(p=>u.call(o,p));let d=i.call(o,c);return u.call(o,d)}:o[a]=(...c)=>{let d=i.apply(o,c);return d===!1&&(d=u.apply(o,c)),d}}r.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let i=[];return i.push(s.call(this,a)),o&&(i=i.concat(o.call(this,a))),i}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Qt.lex(e,t??this.defaults)}parser(e,t){return Jt.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},o={...this.defaults,...r},s=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&r.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);let a=o.hooks?o.hooks.provideLexer():e?Qt.lex:Qt.lexInline,i=o.hooks?o.hooks.provideParser():e?Jt.parse:Jt.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(u=>a(u,o)).then(u=>o.hooks?o.hooks.processAllTokens(u):u).then(u=>o.walkTokens?Promise.all(this.walkTokens(u,o.walkTokens)).then(()=>u):u).then(u=>i(u,o)).then(u=>o.hooks?o.hooks.postprocess(u):u).catch(s);try{o.hooks&&(t=o.hooks.preprocess(t));let u=a(t,o);o.hooks&&(u=o.hooks.processAllTokens(u)),o.walkTokens&&this.walkTokens(u,o.walkTokens);let c=i(u,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(u){return s(u)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+zt(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},In=new ox;function Te(e,t){return In.parse(e,t)}Te.options=Te.setOptions=function(e){return In.setOptions(e),Te.defaults=In.defaults,dd(Te.defaults),Te};Te.getDefaults=Qa;Te.defaults=On;Te.use=function(...e){return In.use(...e),Te.defaults=In.defaults,dd(Te.defaults),Te};Te.walkTokens=function(e,t){return In.walkTokens(e,t)};Te.parseInline=In.parseInline;Te.Parser=Jt;Te.parser=Jt.parse;Te.Renderer=io;Te.TextRenderer=ai;Te.Lexer=Qt;Te.lexer=Qt.lex;Te.Tokenizer=ao;Te.Hooks=Wr;Te.parse=Te;Te.options;Te.setOptions;Te.use;Te.walkTokens;Te.parseInline;Jt.parse;Qt.lex;Te.use({gfm:!0,breaks:!0});const sx={code({text:e,lang:t}){const n=(t||"").split(/\s+/)[0],r=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return`
<div class="code-block-wrapper">
  <div class="code-block-header">
    <span class="code-lang">${n}</span>
    <div class="code-block-actions">
      
<button class="sanitize-copy-btn" aria-label="Sanitize and copy">
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
    <polyline points="7 10 12 15 17 10"></polyline>
    <line x1="12" y1="15" x2="12" y2="3"></line>
  </svg>
  <span class="btn-label">ASCII</span>
</button>
      
<button class="copy-code-btn" aria-label="Copy code">
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
  </svg>
</button>
    </div>
  </div>
  <pre><code class="language-${n}">${r}</code></pre>
</div>`}};Te.use({renderer:sx});const ax=["p","br","strong","em","u","s","code","pre","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","a","img","table","thead","tbody","tr","th","td","hr","div","span","button","svg","path","rect","polyline","line","circle","defs","linearGradient","stop","g"],ix=["href","src","alt","title","class","target","rel","viewBox","fill","stroke","stroke-width","stroke-linecap","stroke-linejoin","d","x","y","width","height","rx","ry","cx","cy","r","aria-label"];function Sd(e){const t=Te.parse(e);return Sy.sanitize(t,{ALLOWED_TAGS:ax,ALLOWED_ATTR:ix})}const lx={"":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"-","":"-","":"-","":"...","":"*"};function cx(e){let t=e;return Object.entries(lx).forEach(([n,r])=>{t=t.split(n).join(r)}),t}const ii=({children:e,width:t=200,height:n=80,borderRadius:r=20,padding:o="0.5rem",className:s="",style:a={},...i})=>{const u=X(d=>d.settings.lowSpecBlur??8),c={...a,width:typeof t=="number"?`${t}px`:t,height:typeof n=="number"?`${n}px`:n,borderRadius:`${r}px`,backdropFilter:`blur(${u}px)`,WebkitBackdropFilter:`blur(${u}px)`};return l.jsx("div",{className:`blur-surface ${s}`,style:c,...i,children:l.jsx("div",{className:"blur-surface__content",style:{padding:typeof o=="number"?`${o}px`:o},children:e})})};function ux(){const e=X(y=>y.availableModels),t=X(y=>y.ui.selectedLlmModel),n=X(y=>y.settings.defaultModel),r=X(y=>y.setSelectedLlmModel),[o,s]=h.useState(!1),[a,i]=h.useState(""),[u,c]=h.useState({}),d=h.useRef(null),p=h.useRef(null),f=t||n||null,m=h.useMemo(()=>{if(!e||e.length===0)return[];if(!a)return e;const y=a.toLowerCase();return e.filter(k=>k.id.toLowerCase().includes(y))},[e,a]);h.useEffect(()=>{const y=_=>{const C=document.querySelector(".model-picker-dropdown");d.current&&!d.current.contains(_.target)&&C&&!C.contains(_.target)&&(s(!1),i(""))},k=_=>{const C=document.querySelector(".model-picker-dropdown");if(C&&C.contains(_.target))return;const B=_.target;(B===document.documentElement||B===document.body||B.classList.contains("messages-container")||B.classList.contains("chat-area"))&&s(!1)},E="ontouchstart"in window||navigator.maxTouchPoints>0,A=()=>{E||s(!1)};return o&&(document.addEventListener("mousedown",y),window.addEventListener("scroll",k,!0),window.addEventListener("resize",A)),()=>{document.removeEventListener("mousedown",y),window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",A)}},[o]),h.useEffect(()=>{if(o&&p.current){const y=window.matchMedia("(max-width: 640px)").matches,k="ontouchstart"in window||navigator.maxTouchPoints>0;!y&&!k&&requestAnimationFrame(()=>{var E;(E=p.current)==null||E.focus()})}},[o]);const g=h.useCallback(()=>{if(d.current){const y=d.current.getBoundingClientRect();c({position:"fixed",bottom:`${window.innerHeight-y.top+8}px`,left:`${y.left}px`,zIndex:"var(--z-index-dropdown)"})}},[]),b=h.useCallback(()=>{o||g(),s(y=>!y),o||i("")},[o,g]),v=h.useCallback(y=>{r(y),s(!1),i("")},[r]),w=h.useCallback(y=>{y.key==="Escape"?(s(!1),i("")):y.key==="Enter"&&m.length===1&&v(m[0].id)},[m,v]),S=h.useMemo(()=>f?f.length>24?"..."+f.slice(-21):f:"Select model",[f]),x=e&&e.length>0;return l.jsxs("div",{className:"model-picker",ref:d,children:[l.jsxs("button",{type:"button",className:`model-picker-trigger ${o?"open":""}`,onClick:b,disabled:!x,title:f||"No model selected","aria-label":`Selected model: ${f||"None"}. Click to change.`,"aria-expanded":o,"aria-haspopup":"listbox",children:[l.jsx("span",{className:"model-picker-icon",children:l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"3"}),l.jsx("path",{d:"M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"})]})}),l.jsx("span",{className:"model-picker-name",children:S}),l.jsx("span",{className:"model-picker-chevron",children:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),o&&x&&Os.createPortal(l.jsxs(ii,{className:"model-picker-dropdown",role:"listbox",width:"auto",height:"auto",borderRadius:8,padding:0,style:u,children:[l.jsx("div",{className:"model-picker-search",children:l.jsx("input",{ref:p,type:"text",placeholder:"Search models...",value:a,onChange:y=>i(y.target.value),onKeyDown:w,className:"model-picker-search-input","aria-label":"Search models"})}),l.jsx("div",{className:"model-picker-list",children:m.length===0?l.jsx("div",{className:"model-picker-empty",children:"No models found"}):m.map(y=>l.jsxs("button",{type:"button",className:`model-picker-option ${y.id===f?"selected":""}`,onClick:()=>v(y.id),role:"option","aria-selected":y.id===f,children:[l.jsx("span",{className:"model-picker-option-name",children:y.id}),y.id===f&&l.jsx("span",{className:"model-picker-check",children:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polyline",{points:"20 6 9 17 4 12"})})})]},y.id))})]}),document.body)]})}function ql(e){return Ge({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M3,3 L21,21 M3,21 L21,3"},child:[]}]})(e)}function dx(e){return Ge({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M2,19 L22,19 M2,5 L22,5 M2,12 L22,12"},child:[]}]})(e)}function fx(e){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m112 244 144-144 144 144M256 120v292"},child:[]}]})(e)}function hx(e){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(e)}function px(e){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(e)}function mx(e){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function gx(e){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"352",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"},child:[]},{tag:"circle",attr:{cx:"336",cy:"176",r:"32",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m304 335.79-90.66-90.49a32 32 0 0 0-43.87-1.3L48 352m176 80 123.34-123.34a32 32 0 0 1 43.11-2L464 368"},child:[]}]})(e)}const zr=48,bx=200,Yl=["image/jpeg","image/png","image/gif","image/webp"],vx=10*1024*1024,cs=4;async function yx(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}function xx(){const e=X(Zn),[t,n]=h.useState(""),[r,o]=h.useState([]),s=h.useRef(null),a=h.useRef(null),i=h.useRef(null),[u,c]=h.useState(zr),{isLoading:d,isRegenerating:p,sendMessage:f,cancelStream:m}=ad();h.useEffect(()=>{const I=()=>{if(a.current){const L=a.current.offsetHeight;document.documentElement.style.setProperty("--composer-height",`${L}px`)}};I();const T=new ResizeObserver(I);return a.current&&T.observe(a.current),()=>{T.disconnect()}},[u]);const g=h.useCallback(()=>{const I=s.current;if(!I)return;I.style.height="auto";const T=Math.min(Math.max(I.scrollHeight,zr),bx);I.style.height=`${T}px`,c(T)},[]);h.useEffect(()=>{g()},[t,g]);const b=d||p,v=h.useCallback(async I=>{if(!I||I.length===0)return;const T=[],L=r.length;for(let D=0;D<I.length&&!(L+T.length>=cs);D++){const $=I[D];if(!Yl.includes($.type)){console.warn(`Unsupported image type: ${$.type}`);continue}if($.size>vx){console.warn(`Image too large: ${$.size} bytes`);continue}const M=URL.createObjectURL($),N=await yx($);T.push({id:crypto.randomUUID(),file:$,previewUrl:M,base64:N})}T.length>0&&o(D=>[...D,...T])},[r.length]),w=h.useCallback(I=>{o(T=>{const L=T.find(D=>D.id===I);return L&&URL.revokeObjectURL(L.previewUrl),T.filter(D=>D.id!==I)})},[]),S=h.useCallback(()=>{var I;(I=i.current)==null||I.click()},[]),x=h.useCallback(I=>{v(I.target.files),I.target.value=""},[v]),y=h.useCallback(I=>{var D;const T=(D=I.clipboardData)==null?void 0:D.items;if(!T)return;const L=[];for(let $=0;$<T.length;$++){const M=T[$];if(M.type.startsWith("image/")){const N=M.getAsFile();N&&L.push(N)}}if(L.length>0){const $=new DataTransfer;L.forEach(M=>$.items.add(M)),v($.files)}},[v]),k=h.useCallback(I=>{I.preventDefault(),I.stopPropagation(),v(I.dataTransfer.files)},[v]),E=h.useCallback(I=>{I.preventDefault(),I.stopPropagation()},[]);h.useEffect(()=>()=>{r.forEach(I=>URL.revokeObjectURL(I.previewUrl))},[]);const A=h.useCallback(async()=>{if(!(t.trim()||r.length>0)||!e||b)return;const T=t,L=r.map(D=>D.base64).filter(Boolean);n(""),o(D=>(D.forEach($=>URL.revokeObjectURL($.previewUrl)),[])),c(zr),s.current&&(s.current.style.height=`${zr}px`),await f(T,L.length>0?L:void 0)},[t,r,e,b,f]),_=h.useCallback(I=>{if(I.key==="Enter"&&!I.shiftKey){if(window.matchMedia("(pointer: coarse)").matches)return;I.preventDefault(),A()}},[A]),C=t.trim()||r.length>0,B=r.length<cs;return l.jsxs("footer",{ref:a,className:"composer",role:"region","aria-label":"Message composer",onDrop:k,onDragOver:E,children:[l.jsx("input",{ref:i,type:"file",accept:Yl.join(","),multiple:!0,onChange:x,style:{display:"none"},"aria-hidden":"true"}),l.jsxs("div",{className:"composer-content",children:[r.length>0&&l.jsx("div",{className:"composer-image-previews",children:r.map(I=>l.jsxs("div",{className:"composer-image-preview",children:[l.jsx("img",{src:I.previewUrl,alt:"Attachment preview",className:"composer-preview-image"}),l.jsx("button",{type:"button",className:"composer-remove-image",onClick:()=>w(I.id),"aria-label":"Remove image",children:l.jsx(ql,{})})]},I.id))}),l.jsx("div",{className:"composer-input-area",children:l.jsx(ii,{width:"100%",height:"auto",padding:0,children:l.jsxs("div",{className:"composer-input-container",children:[l.jsx("div",{className:"composer-textarea-wrapper",children:l.jsx("textarea",{ref:s,className:"composer-textarea",placeholder:"Type your message...",value:t,onChange:I=>n(I.target.value),onKeyDown:_,onPaste:y,"aria-label":"Message input",style:{height:`${u}px`}})}),l.jsxs("div",{className:"composer-bottom-row",children:[l.jsx("div",{className:"composer-model-picker-container",children:l.jsx(ux,{})}),l.jsxs("div",{className:"composer-actions",children:[l.jsx(_n,{variant:"round",width:32,height:32,blurClassName:"composer-action-button-blur",disabled:!B||!e,onClick:S,"aria-label":"Attach image",title:B?"Attach image":`Max ${cs} images`,children:l.jsx(gx,{className:"composer-icon","aria-hidden":"true"})}),l.jsx(_n,{variant:"round",width:32,height:32,blurClassName:"composer-send-button-blur",disabled:!C&&!b||!e,onClick:b?m:A,"aria-label":b?"Stop generation":"Send message",children:b?l.jsx(ql,{className:"composer-icon","aria-hidden":"true"}):l.jsx(fx,{className:"composer-icon","aria-hidden":"true"})})]})]})]})})})]})]})}function wx({thinking:e}){const t=X(s=>s.settings.showThinkingExpanded??!0),[n,r]=h.useState(t),o=h.useCallback(()=>{r(s=>!s)},[]);return e?l.jsxs("div",{className:`thinking-block ${n?"expanded":"collapsed"}`,children:[l.jsxs("button",{className:"thinking-header",onClick:o,"aria-expanded":n,"aria-controls":"thinking-content",children:[l.jsx("span",{className:"thinking-icon",children:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 16v-4"}),l.jsx("path",{d:"M12 8h.01"})]})}),l.jsx("span",{className:"thinking-label",children:"Thinking"}),l.jsx("span",{className:"thinking-toggle",children:l.jsx("svg",{className:`chevron ${n?"rotated":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),n&&l.jsx("div",{id:"thinking-content",className:"thinking-content",dangerouslySetInnerHTML:{__html:Sd(e)}})]}):null}function Sx({images:e,initialIndex:t,onClose:n}){const[r,o]=h.useState(t),s=e.length>1,a=r>0,i=r<e.length-1,u=h.useCallback(()=>{a&&o(f=>f-1)},[a]),c=h.useCallback(()=>{i&&o(f=>f+1)},[i]);h.useEffect(()=>{const f=m=>{switch(m.key){case"Escape":n();break;case"ArrowLeft":u();break;case"ArrowRight":c();break}};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[n,u,c]),h.useEffect(()=>{const f=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=f}},[]);const d=h.useCallback(f=>{f.target===f.currentTarget&&n()},[n]),p=l.jsxs("div",{className:"image-viewer-overlay",onClick:d,role:"dialog","aria-modal":"true","aria-label":"Image viewer",children:[l.jsx("button",{className:"image-viewer-close",onClick:n,"aria-label":"Close image viewer",children:l.jsx(mx,{})}),s&&l.jsx("button",{className:`image-viewer-nav image-viewer-nav-prev ${a?"":"disabled"}`,onClick:u,disabled:!a,"aria-label":"Previous image",children:l.jsx(hx,{})}),l.jsx("div",{className:"image-viewer-content",children:l.jsx("img",{src:e[r],alt:`Image ${r+1} of ${e.length}`,className:"image-viewer-image"})}),s&&l.jsx("button",{className:`image-viewer-nav image-viewer-nav-next ${i?"":"disabled"}`,onClick:c,disabled:!i,"aria-label":"Next image",children:l.jsx(px,{})}),s&&l.jsxs("div",{className:"image-viewer-counter",children:[r+1," / ",e.length]}),s&&l.jsx("div",{className:"image-viewer-thumbnails",children:e.map((f,m)=>l.jsx("button",{className:`image-viewer-thumbnail ${m===r?"active":""}`,onClick:()=>o(m),"aria-label":`View image ${m+1}`,"aria-current":m===r?"true":void 0,children:l.jsx("img",{src:f,alt:""})},m))})]});return Os.createPortal(p,document.body)}function kx(){return l.jsxs("svg",{className:"empty-state-illustration",width:"120",height:"100",viewBox:"0 0 120 100",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[l.jsx("rect",{x:"10",y:"20",width:"70",height:"45",rx:"12",fill:"url(#bubbleGradient1)",opacity:"0.8"}),l.jsx("circle",{cx:"30",cy:"42",r:"4",fill:"var(--color-text-muted)",opacity:"0.6",children:l.jsx("animate",{attributeName:"opacity",values:"0.6;1;0.6",dur:"1.5s",repeatCount:"indefinite"})}),l.jsx("circle",{cx:"45",cy:"42",r:"4",fill:"var(--color-text-muted)",opacity:"0.6",children:l.jsx("animate",{attributeName:"opacity",values:"0.6;1;0.6",dur:"1.5s",repeatCount:"indefinite",begin:"0.2s"})}),l.jsx("circle",{cx:"60",cy:"42",r:"4",fill:"var(--color-text-muted)",opacity:"0.6",children:l.jsx("animate",{attributeName:"opacity",values:"0.6;1;0.6",dur:"1.5s",repeatCount:"indefinite",begin:"0.4s"})}),l.jsx("rect",{x:"40",y:"50",width:"70",height:"40",rx:"12",fill:"url(#bubbleGradient2)",opacity:"0.6"}),l.jsx("line",{x1:"55",y1:"65",x2:"95",y2:"65",stroke:"var(--color-text-muted)",strokeWidth:"3",strokeLinecap:"round",opacity:"0.4"}),l.jsx("line",{x1:"55",y1:"75",x2:"80",y2:"75",stroke:"var(--color-text-muted)",strokeWidth:"3",strokeLinecap:"round",opacity:"0.3"}),l.jsx("circle",{cx:"95",cy:"25",r:"3",fill:"var(--color-primary-400)",opacity:"0.8",children:l.jsx("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",repeatCount:"indefinite"})}),l.jsx("circle",{cx:"15",cy:"75",r:"2",fill:"var(--color-success-400)",opacity:"0.6",children:l.jsx("animate",{attributeName:"opacity",values:"0.3;0.8;0.3",dur:"2.5s",repeatCount:"indefinite"})}),l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"bubbleGradient1",x1:"10",y1:"20",x2:"80",y2:"65",gradientUnits:"userSpaceOnUse",children:[l.jsx("stop",{stopColor:"var(--color-primary-500)",stopOpacity:"0.3"}),l.jsx("stop",{offset:"1",stopColor:"var(--color-primary-700)",stopOpacity:"0.15"})]}),l.jsxs("linearGradient",{id:"bubbleGradient2",x1:"40",y1:"50",x2:"110",y2:"90",gradientUnits:"userSpaceOnUse",children:[l.jsx("stop",{stopColor:"var(--color-success-500)",stopOpacity:"0.25"}),l.jsx("stop",{offset:"1",stopColor:"var(--color-success-700)",stopOpacity:"0.1"})]})]})]})}function Cx(){return l.jsxs("article",{className:"message-bubble typing-indicator",role:"status","aria-label":"AI is typing",children:[l.jsx("div",{className:"message-role","aria-hidden":"true",children:"Assistant"}),l.jsxs("div",{className:"typing-dots",children:[l.jsx("span",{className:"typing-dot"}),l.jsx("span",{className:"typing-dot"}),l.jsx("span",{className:"typing-dot"})]})]})}function Tx(){return l.jsxs("div",{className:"empty-state-enhanced",role:"status",children:[l.jsx(kx,{}),l.jsx("p",{className:"empty-state-hint",children:"Start a conversation below"})]})}function Xl({content:e}){const[t,n]=h.useState(!1),r=h.useCallback(async()=>{try{await navigator.clipboard.writeText(e),n(!0),ye.show({message:"Copied to clipboard",color:"green",autoClose:2e3}),setTimeout(()=>n(!1),2e3)}catch{ye.show({message:"Failed to copy",color:"red"})}},[e]);return l.jsxs("button",{className:`copy-btn ${t?"copied":""}`,onClick:r,title:"Copy to clipboard","aria-label":t?"Copied":"Copy to clipboard",children:[t?l.jsx("svg",{className:"copy-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M20 6L9 17l-5-5"})}):l.jsxs("svg",{className:"copy-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),l.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),l.jsx("span",{className:"copy-text",children:t?"Copied!":"Copy"})]})}function Zl({onEdit:e}){return l.jsxs("button",{className:"edit-btn",onClick:e,title:"Edit message","aria-label":"Edit message",children:[l.jsxs("svg",{className:"edit-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),l.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),l.jsx("span",{className:"edit-text",children:"Edit"})]})}function Ex(){const e=X(Zn),t=X(T=>T.updateMessageContent),{isLoading:n,isRegenerating:r,regenerateLastMessage:o}=ad(),s=h.useMemo(()=>(e==null?void 0:e.messages)??[],[e]),a=h.useRef(null),i=h.useRef(!1),u=h.useRef(0),[c,d]=h.useState({}),[p,f]=h.useState(null),[m,g]=h.useState(null),[b,v]=h.useState(""),w=h.useRef(null),S=n||r,x=h.useRef(!1),y=h.useMemo(()=>{if(!S||s.length===0)return!1;const T=s[s.length-1];return(T==null?void 0:T.role)==="assistant"&&(T==null?void 0:T.content)===""&&!(T!=null&&T.thinking)},[S,s]);h.useEffect(()=>{const T=a.current;if(!T)return;const L=()=>{const D=T.scrollTop,M=T.scrollHeight-T.clientHeight-D<50;D<u.current&&!M&&(i.current=!0),M&&(i.current=!1),u.current=D};return T.addEventListener("scroll",L,{passive:!0}),()=>T.removeEventListener("scroll",L)},[]);const k=h.useRef(s.length);h.useEffect(()=>{const T=s.length,L=k.current;T>L&&!x.current&&(i.current=!1),k.current=T},[s.length]),h.useEffect(()=>{x.current=S},[S]),h.useEffect(()=>{const T=a.current;T&&(i.current||A.current||(T.scrollTop=T.scrollHeight))},[s,y,S]),h.useEffect(()=>{const T=new Set;if(s.forEach(M=>{var N;(N=M.imageIds)==null||N.forEach(R=>{Object.prototype.hasOwnProperty.call(c,R)||T.add(R)})}),T.size===0)return;let L=!1;const D=Array.from(T);return(async()=>{try{const M=await Qu(D);if(L)return;d(N=>{const R={...N};return D.forEach((O,F)=>{const z=M[F];R[O]=z??null}),R})}catch(M){console.warn("Failed to load images from storage:",M)}})(),()=>{L=!0}},[s,c]),h.useEffect(()=>{const T=a.current;if(!T)return;const L=async D=>{const $=D.target,M=$.closest(".copy-code-btn"),N=$.closest(".sanitize-copy-btn");if(!M&&!N)return;const R=M||N,O=!!N,F=R.closest(".code-block-wrapper"),z=F==null?void 0:F.querySelector("code");if(!z)return;let W=z.textContent||"";O&&(W=cx(W));try{await navigator.clipboard.writeText(W),R.classList.add("copied");const H=R.innerHTML;R.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>',O&&(R.innerHTML+='<span class="btn-label">Copied</span>'),setTimeout(()=>{R.classList.remove("copied"),R.innerHTML=H},2e3),ye.show({message:O?"Sanitized & copied to clipboard":"Code copied to clipboard",color:"green",autoClose:2e3})}catch(H){console.error("Failed to copy code:",H),ye.show({message:"Failed to copy code",color:"red"})}};return T.addEventListener("click",L),()=>T.removeEventListener("click",L)},[]),h.useEffect(()=>{if(m!==null&&w.current){w.current.focus();const T=w.current.value.length;w.current.setSelectionRange(T,T)}},[m]);const E=h.useCallback((T,L)=>{g(T),v(L)},[]),A=h.useRef(!1),_=h.useCallback(()=>{m!==null&&e&&(A.current=!0,t(e.id,m,b),g(null),v(""),ye.show({message:"Message updated",color:"green",autoClose:2e3}),setTimeout(()=>{A.current=!1},100))},[m,e,b,t]),C=h.useCallback(()=>{g(null),v("")},[]),B=h.useCallback(T=>{v(T.target.value)},[]),I=h.useCallback(T=>{T.key==="Escape"?C():T.key==="Enter"&&(T.ctrlKey||T.metaKey)&&(T.preventDefault(),_())},[C,_]);return l.jsxs("main",{className:"chat-main",role:"main","aria-label":"Chat conversation",children:[l.jsx("section",{ref:a,className:"messages-container","aria-label":"Message history",role:"log","aria-live":"polite",children:s.length===0&&!S?l.jsx(Tx,{}):l.jsxs("div",{className:"message-list",role:"list",children:[s.map((T,L)=>{var z;const D=T.ts===((z=s[s.length-1])==null?void 0:z.ts),$=T.role==="assistant",M=$&&T.content===""&&!T.thinking,N=D&&$&&!S,R=T.images&&T.images.length>0?T.images:T.imageIds?T.imageIds.map(W=>c[W]).filter(W=>typeof W=="string"):[],O=(!R||R.length===0)&&!!T.imageIds&&T.imageIds.length>0;if(M&&S)return null;const F=M&&!S;return l.jsxs("article",{className:`message-bubble ${S&&D&&$?"streaming":""} ${F?"failed":""}`,role:"listitem","aria-label":`${T.role==="user"?"Your":"Assistant"} message`,children:[l.jsx("div",{className:"message-role","aria-hidden":"true",children:T.role==="user"?"You":"Assistant"}),$&&T.thinking&&l.jsx(wx,{thinking:T.thinking}),R.length>0&&l.jsx("div",{className:"message-images",children:R.map((W,H)=>l.jsx("div",{className:"message-image-container",children:l.jsx("img",{src:W,alt:`Attachment ${H+1}`,className:"message-image",loading:"lazy",onClick:()=>f({images:R,initialIndex:H})})},H))}),O&&l.jsx("div",{className:"message-images-missing",role:"status",children:"Images unavailable"}),m===L?l.jsxs("div",{className:"edit-container in-place",children:[l.jsx("textarea",{ref:w,className:"edit-textarea",value:b,onChange:B,onKeyDown:I,rows:Math.max(3,b.split(`
`).length),placeholder:"Edit message..."}),l.jsxs("div",{className:"edit-actions",children:[l.jsxs("button",{className:"edit-save-btn",onClick:_,title:"Save (Ctrl+Enter)",children:[l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M20 6L9 17l-5-5"})}),l.jsx("span",{children:"Save"})]}),l.jsxs("button",{className:"edit-cancel-btn",onClick:C,title:"Cancel (Esc)",children:[l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M18 6L6 18"}),l.jsx("path",{d:"M6 6l12 12"})]}),l.jsx("span",{children:"Cancel"})]})]})]}):F?l.jsxs("div",{className:"message-content message-failed",children:[l.jsx("span",{className:"failed-icon",children:""}),l.jsx("span",{children:"Response failed. Try regenerating."})]}):T.content?l.jsx("div",{className:"message-content",dangerouslySetInnerHTML:{__html:Sd(T.content)}}):null,S&&D&&$&&l.jsx("span",{className:"streaming-cursor","aria-hidden":"true"}),$&&(!M||F)&&l.jsxs("div",{className:`message-actions ${D?"always-visible":""}`,children:[!F&&l.jsx(Xl,{content:T.content}),!F&&m!==L&&l.jsx(Zl,{onEdit:()=>E(L,T.content)}),N&&l.jsxs("button",{className:`regenerate-btn ${r?"regenerating":""}`,disabled:r,onClick:o,title:"Regenerate response","aria-label":r?"Regenerating response":"Regenerate response",children:[l.jsxs("svg",{className:"regenerate-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.85 1.04 6.5 2.75L21 3"}),l.jsx("path",{d:"M21 3v6h-6"})]}),l.jsx("span",{className:"regenerate-text",children:r?"Regenerating...":"Regenerate"})]})]}),!$&&l.jsxs("div",{className:"message-actions",children:[l.jsx(Xl,{content:T.content}),m!==L&&l.jsx(Zl,{onEdit:()=>E(L,T.content)})]})]},`${T.ts}-${L}`)}),y&&l.jsx(Cx,{})]})}),l.jsx(xx,{}),p&&l.jsx(Sx,{images:p.images,initialIndex:p.initialIndex,onClose:()=>f(null)})]})}class Gr extends h.Component{constructor(n){super(n);ve(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});ve(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx("div",{className:"error-boundary",role:"alert","aria-live":"assertive",children:l.jsx(ii,{width:400,height:"auto",borderRadius:16,className:"error-boundary-container",children:l.jsxs("div",{className:"error-boundary-content",children:[l.jsx("div",{className:"error-boundary-icon","aria-hidden":"true",children:""}),l.jsx("h2",{className:"error-boundary-title",children:"Something went wrong"}),l.jsx("p",{className:"error-boundary-message",children:"An unexpected error occurred. You can try again or reload the page."}),!1,l.jsxs("div",{className:"error-boundary-actions",children:[l.jsx(_n,{onClick:this.handleReset,color:"primary",width:"auto",height:40,borderRadius:8,blurClassName:"blur-button-px-4","aria-label":"Try again",children:"Try Again"}),l.jsx(_n,{onClick:this.handleReload,color:"secondary",width:"auto",height:40,borderRadius:8,blurClassName:"blur-button-px-4","aria-label":"Reload page",children:"Reload Page"})]})]})})}):this.props.children}}function Rx(){return l.jsxs("div",{className:"loading-skeleton",role:"status","aria-label":"Loading application",children:[l.jsxs("div",{className:"skeleton-sidebar",children:[l.jsxs("div",{className:"skeleton-header",children:[l.jsx("div",{className:"skeleton-title"}),l.jsx("div",{className:"skeleton-subtitle"})]}),l.jsx("div",{className:"skeleton-search"}),l.jsx("div",{className:"skeleton-threads",children:[1,2,3,4].map(e=>l.jsxs("div",{className:"skeleton-thread",children:[l.jsxs("div",{className:"skeleton-thread-header",children:[l.jsx("div",{className:"skeleton-indicator"}),l.jsx("div",{className:"skeleton-thread-title"})]}),l.jsx("div",{className:"skeleton-thread-preview"})]},e))})]}),l.jsxs("div",{className:"skeleton-main",children:[l.jsx("div",{className:"skeleton-chips",children:[1,2,3].map(e=>l.jsx("div",{className:"skeleton-chip"},e))}),l.jsx("div",{className:"skeleton-messages",children:l.jsxs("div",{className:"skeleton-empty-state",children:[l.jsx("div",{className:"skeleton-spinner","aria-hidden":"true"}),l.jsx("span",{className:"sr-only",children:"Loading..."})]})})]})]})}const Ax=je.memo(Rx);function Ox({}){return[{title:"CustomModels Chat"},{name:"description",content:"Customizable chat interface with models"}]}function jx(){return l.jsxs("aside",{className:"sidebar-fallback",role:"alert",children:[l.jsx("p",{children:"Sidebar failed to load"}),l.jsx("button",{onClick:()=>window.location.reload(),children:"Reload"})]})}function Nx(){return l.jsxs("div",{className:"chat-fallback",role:"alert",children:[l.jsx("p",{children:"Chat failed to load"}),l.jsx("button",{onClick:()=>window.location.reload(),children:"Reload"})]})}function Mx(){return l.jsx("div",{className:"model-chips-fallback",role:"alert",children:l.jsx("p",{children:"Models unavailable"})})}function _x(){const e=X(s=>s.ui.sidebarOpen),t=X(s=>s.toggleSidebar),n=X(s=>s._hydrate),r=X(s=>s._hydrated),o=X(s=>s.checkConnection);return h.useEffect(()=>{r||n()},[r,n]),h.useEffect(()=>{if(!r)return;o();const s=setInterval(o,Hb);return()=>clearInterval(s)},[r,o]),r?l.jsxs("div",{className:"app-container",children:[l.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),l.jsx(Gr,{fallback:l.jsx(jx,{}),children:l.jsx(Zv,{})}),l.jsxs("div",{className:"main-content",id:"main-content",children:[l.jsx(_n,{className:`mobile-toggle ${e?"":"visible"}`,onClick:t,"aria-label":e?"Close sidebar":"Open sidebar","aria-expanded":e,width:40,height:40,borderRadius:8,children:l.jsx(dx,{className:"menu-icon","aria-hidden":"true"})}),l.jsxs("div",{className:"chat-wrapper",children:[l.jsx(Gr,{fallback:l.jsx(Nx,{}),children:l.jsx(Ex,{})}),l.jsx("div",{className:`model-chips-container ${e?"":"model-chips-offset"}`,children:l.jsx(Gr,{fallback:l.jsx(Mx,{}),children:l.jsx(Qv,{})})})]})]})]}):l.jsx(Ax,{})}const Lx=Id(function(){return l.jsx(Gr,{children:l.jsx(_x,{})})});export{Lx as default,Ox as meta};
